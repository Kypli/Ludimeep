/* Shield UI Lite 1.7.31 | Copyright 2013-2017 Shield UI Ltd. | https://www.shieldui.com */

/*Shield UI Lite

Copyright (c) 2013-2017 ShieldUI Ltd., https://www.shieldui.com

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

====

All files located in the node_modules, bower_components and external 
directories are externally maintained libraries used by this software which 
have their own licenses; we recommend you read them, as their terms may 
differ from the terms above.
*/

!function(a,b,D,p){function la(a){var b,c=" ";if(a){if(J(a))return a;for(b in a)a.hasOwnProperty(b)&&(c+=b+'="'+a[b]+'"')}return c}function M(c,d){var b=a(c).attr(d);return e(b)&&b!==!1}function ea(){var b,d,e,c,f=[].slice.call(arguments),g=f.shift();for(c=0;c<f.length&&(b=a(g.target).closest(".sui-cell",f[c]),!b.length);c++);return b.length?(d=b[0].parentNode,e=b[0],null==d||null==e?null:{row:d,cell:e}):null}function ia(b){return b&&(a(b.row).hasClass(h)||a(b.cell).hasClass(h))}function ka(b,c){return a(b.target).closest(".sui-cell",c).length>0}function N(c){var b=a(c).find('.sui-checkbox:not(.sui-checkbox-disabled), .sui-radiobutton:not(.sui-radiobutton-disabled), .sui-input:not(.sui-input-disabled), .sui-combobox:not(.sui-combobox-disabled), .sui-dropdown:not(.sui-dropdown-disabled), .sui-listbox:not(.sui-listbox-disabled), .sui-switch:not(.sui-switch-disabled), a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex]:not([tabindex="-1"]), *[contenteditable]').filter(":visible").first();a(b).length>0&&a(b).focus()}var ma,ca=b.ui.Widget,o=b.Class,_a=b.DataSource,j=b.format,i=b.support,E=(b.exp,b.get),B=b.iid,k=(b.strid,b.Constants.KeyCode),u=b.is,y=u.func,J=u.string,Q=u.object,oa=u["boolean"],e=u.defined,Za=u.number,g=u.undefined,L=u["null"],v=b.to["int"],d=document,w=Math.abs,q=Math.min,m=Math.max,_=a.each,c=a.proxy,l=a.extend,da=(a.map,a.grep),V=a.inArray,Z=navigator.userAgent,Va=D.opera,I=/msie/i.test(Z)&&!Va,x=I&&7===d.documentMode,Ra=I&&8===d.documentMode,Qa=(I&&10===d.documentMode,8===d.documentMode,/AppleWebKit/.test(Z)),S=(/Firefox/.test(Z),"role"),fa="aria-sort",Y="aria-readonly",ab="ascending",Oa="descending",C="tabindex",X="true",G="height",Na="sui-selectable",h="sui-selected",Ca="change",Ka="focus",Ja="start",Ba="scroll",f="command",Ia="selectionChanging",ga="selectionChanged",Ha="selectstart",K="dataBound",ja="virtualRowsLoaded",W="keydown",t="mousedown",A="mousemove",H="mouseup",Ga="resize",n="click",Fa="dblclick",ra="sort",sa="detailCreated",ta="columnReorder",ua="columnResize",va="groupsReorder",wa="group",T="ungroup",U="editorCreating",ba="filterWidgetCreating",Ea="getCustomFilterValue",Pa="clearFilter",Da="expandButtonCreate",R="cancel",P="edit",qa="insert",O="save",ha="delete",$="error",Aa="collapse",za="expand",La="editWindowOpen",Ma="insertWindowOpen",z="display",s="none",F="@@custom",ya="sui-viewindex",r="sui-fieldname";ma={columns:[],rowHover:!0,scrolling:!1,paging:!1,columnReorder:!1,showHeader:!0,grouping:{showGroupHeader:!1,allowDragToGroup:!1,message:"Drag a column header here to group by a column"}};var Sa=o.extend({init:function(h,d){var b,i,c,f,e,g=this;for(g._grid=d,e=0;e<h.length;e++)b=h[e],i=b.position?b.position:"top",c=a('<div class="sui-toolbar"/>'),"top"===i?(f=d.element.find(".sui-toolbar"),f.length>0?a(f[0]).after(c):d.element.prepend(c)):(c.addClass("sui-toolbar-bottom"),c.appendTo(d.element)),b.template?g._initializeTemplate(b,c):b.buttons.length>0&&g._buildButtons(c,b)},_buildButtons:function(c,d){var a,e=this,b=d.buttons;for(a=0;a<b.length;a++)e._buildButton(b[a],c)},_buildButton:function(d,i){var h,j,e=this,g=d.commandName,f=d.click;b.ui.Button&&(h=a('<button type="button">'+d.caption+"</button>").appendTo(i),"insert"==g?f=e._insertButtonClicked:"save"==g?f=e._saveButtonClicked:"cancel"==g&&(f=e._cancelButtonClicked),j=new b.ui.Button(h,{cls:d.cls,events:{click:c(f,e._grid)}}))},_insertButtonClicked:function(o,n){var d,i,e,h,g,a=this,k=a.options,l=k.editing.insertNewRowAt,b=a.dataSource,j=(a._hasVirtualScrolling(),!1);if(n||(h=a.trigger(f,{commandName:qa,cancel:!1}),!h.cancel)){if(b.sort&&b.sort.length>0)return b.sort=[],a._sortingInProgress=!0,a.pager&&(b.skip=0,b.take=a.pager.pageSize(),a.pager.refresh(!0)),void b.read().always(c(a._toolbar._insertButtonClicked,a,o,!0));a._editingInProcess=!0,"pagebottom"===l?(e=m(0,a.contentTable.find(">tbody > tr").length-1),(!k.paging||a.pager&&!a.pager.hasNext())&&(e+=1,j=!0)):e=0,d=j?b.add({}):b.insertView(e,{});for(g in d.fields)d.fields.hasOwnProperty(g)&&(d.data[g]=null);a._editing._insertedItems.push(d),i=a.contentTable.find(">tbody > tr").eq(e),"popup"!=a.options.editing.mode?a._editing._putRowInEditMode(i,0):a._initializePopupForm(0,!0),a.trigger(qa)}},_saveButtonClicked:function(e){var b,c,a=this,d=a.contentTable.find(">tbody > tr > .sui-editable-cell");return d.length>0&&(b=d.get(0).parentNode.rowIndex,a._updateItem(b,null),a._errorDuringEdit)?void(a._errorDuringEdit=!1):(c=a.trigger(f,{commandName:O,cancel:!1}),void(c.cancel||(a.dataSource.save(),a.trigger(O))))},_cancelButtonClicked:function(c){var a=this,b=a.trigger(f,{commandName:R,cancel:!1});b.cancel||(a.dataSource.cancel(),a.trigger(R))},_initializeTemplate:function(d,b){var f=this,c=d.template;if(y(c)){var a=c.call(f._grid,b);e(a)&&!L(a)&&""!==a&&b.html(a)}else b.html(c)},destroy:function(){}}),Ta=o.extend({init:function(b,d){var a=this;a._grid=d,a.options=b,a._eventNS=".shieldGridEditing"+B(),a._editors={},a._insertedItems=[],b.enabled&&a._initEditing(),a._grid.dataSource.on($+a._eventNS,c(a._dsError,a))},_dsError:function(a){var b=this,c=b._editors[a.path];b._grid.trigger($,{type:a.type,path:a.path,value:a.value,editor:c,reason:a.reason}),b._errorDuringEdit=!0},_initEditing:function(){var b=this,h=b.options,e=h.event,f=b._eventNS;g(e)||("click"===e?b._grid.element.on(n+f,".sui-cell",c(b._editingTriggered,b)):"doubleclick"===e&&b._grid.element.on(Fa+f,".sui-cell",c(b._editingTriggered,b)),a(d).on(n+f,c(b._documentClicked,b)))},_editingTriggered:function(p){var k,j,c=this,h=p.target,e=a(p.target).parent(),d=e.get(0).rowIndex,l=c.options,o=l.mode,i=l.type,m=c._grid.dataSource,q=l.batch,r=c._grid.trigger(f,{commandName:P,cancel:!1,row:e,cell:h,index:c._grid._getRowIndex(e)});if(!r.cancel){if(q){if(k=c._grid.contentTable.find(">tbody > tr > .sui-editable-cell"),k.length>0){if(d=k.get(0).parentNode.rowIndex,"TR"!==e.get(0).nodeName.toUpperCase()||e.get(0).rowIndex==d&&"row"==i)return;var n=c._grid._updateItem(d,h);if(c._errorDuringEdit)return c._errorDuringEdit=!1,void(n=null);j=e.get(0).rowIndex,c._grid._putRowInViewMode(d,null),!c._grid._populateInsertedItem&&n&&n.length>0&&c._grid._renderUpdateMarkers(n,d),c._grid._populateInsertedItem=!1,j===d&&(h=c._grid.contentTable.find(">tbody > tr").eq(d).get(0).cells[h.cellIndex]),d=j}g(i)||"cell"===i?c._putCellInEditMode(h,d):"row"===i?c._putRowInEditMode(e,h.cellIndex):b.error("Invalid editing.type declaration. The editing.type must be 'row' or 'cell'.",l.dieOnError)}else if(m.tracker&&m.tracker.changes&&m.tracker.changes.added&&m.tracker.changes.added.length>0)"TR"!==e.get(0).nodeName.toUpperCase()||e.get(0).rowIndex==d&&"row"==i||m.cancel();else if(g(o)||"inline"===o){if(k=c._grid.contentTable.find(">tbody > tr > .sui-editable-cell"),k.length>0){if(d=k.get(0).parentNode.rowIndex,"TR"!==e.get(0).nodeName.toUpperCase()||e.get(0).rowIndex==d&&"row"==i)return;if(c._grid._updateItem(d,h),c._errorDuringEdit)return void(c._errorDuringEdit=!1);j=e.get(0).rowIndex,c._grid._closeAllEditedRows(),j===d&&(h=c._grid.contentTable.find(">tbody > tr").eq(d).get(0).cells[h.cellIndex]),d=j}g(i)||"cell"===i?c._putCellInEditMode(h,d):"row"===i?c._putRowInEditMode(e,h.cellIndex):b.error("Invalid editing.type declaration. The editing.type must be 'row' or 'cell'.",l.dieOnError)}c._grid.trigger(P,{row:e,cell:h,index:c._grid._getRowIndex(e)})}},_documentClicked:function(g){var e,c,b=this,h=b.options.batch,d=a(g.target);if(b._grid._editingInProcess||b._grid._preventClosingEditors)return void(b._grid._editingInProcess=!1);if(!(d.hasClass("sui-cell")||d.parents().hasClass("sui-cell")||d.parents().hasClass("sui-calendar")||d.parents().hasClass("sui-listbox"))&&(e=b._grid.contentTable.find(">tbody > tr > .sui-editable-cell"),e.length>0)){c=e.get(0).parentNode.rowIndex;var f=b._grid._updateItem(c,null);if(b._errorDuringEdit)return void(b._errorDuringEdit=!1);b._grid._putRowInViewMode(c,null),h&&!b._grid._populateInsertedItem&&f&&f.length>0&&b._grid._renderUpdateMarkers(f,c),b._grid._populateInsertedItem=!1}},_getColumnIndex:function(b){return b.cellIndex-a(b.parentNode).find(".sui-indent-cell, .sui-expand-cell, .sui-expand-cell-disabled, .sui-collapse-cell").length},_putCellInEditMode:function(a,i){var k,j,f,b=this,m=b._getColumnIndex(a),l=b._grid,g=l.dataSource,d=l.columns[m],c=!1;if(d&&d.field&&d.editable!==!1){if(g.group&&g.group.length>0)for(j=b._grid.contentTable.find(">tbody > tr > .sui-row, >tbody > tr > .sui-alt-row"),f=0;f<j.length;f++)if(j[f]==a.parentNode){i=f;break}if(k=g.editView(i).data,arguments.length>2?arguments[2]==m&&(c=!0):c=!0,d.editor)b._instantiateCustomEditor(d,a,k,i,c);else{var n=e(g.schema.options.fields)?g.schema.options.fields[d.field].type:String,h=E(k,d.field);switch(n){case Number:b._instantiateNumeric(a,h,c);break;case Date:b._instantiateDatePicker(a,h,c);break;case String:b._instantiateTextBox(a,h,c);break;case Boolean:b._instantiateCheckBox(a,h,c)}}N(a)}},_prepareCell:function(b){a(b).empty().addClass("sui-editable-cell")},_instantiateCustomEditor:function(h,c,i,j,k,e){var f,d,g,b=this;e?d=e:(f=b._getColumnIndex(c),d=b._grid.columns[f].field,b._prepareCell(c)),g=h.editor.call(b._grid,c,i,j,k),a(c).html(g),b._editors[d]="custom"},_instantiateNumeric:function(f,j,k,i){var g,e,h,d,c=this;i?d=i:(h=c._getColumnIndex(f),d=c._grid.columns[h].field,c._prepareCell(f)),e=a('<input name="'+d+'"/>'),e.appendTo(f);var m=c._grid.trigger(U,{field:d,options:{}}),n=l({},m.options,{value:j});b.ui.NumericTextBox&&(g=new b.ui.NumericTextBox(e,n),k&&g.focus(),c._editors[d]=g)},_instantiateDatePicker:function(f,j,k,i){var g,e,h,d,c=this;i?d=i:(h=c._getColumnIndex(f),d=c._grid.columns[h].field,c._prepareCell(f)),e=a('<input name="'+d+'"/>'),e.appendTo(f);var m=c._grid.trigger(U,{field:d,options:{}}),n=l({},m.options,{value:j});b.ui.DatePicker&&(g=new b.ui.DatePicker(e,n),k&&g.focus(),c._editors[d]=g)},_instantiateTextBox:function(f,j,k,i){var g,e,h,d,c=this;i?d=i:(h=c._getColumnIndex(f),d=c._grid.columns[h].field,c._prepareCell(f)),e=a('<input type="text" name="'+d+'"/>'),e.appendTo(f);var m=c._grid.trigger(U,{field:d,options:{}}),n=l({},m.options,{value:j,cls:"sui-input-textbox"});b.ui.TextBox&&(g=new b.ui.TextBox(e,n),k&&g.focus(),c._editors[d]=g)},_instantiateCheckBox:function(g,h,k,j){var e,f,i,d,c=this;j?d=j:(i=c._getColumnIndex(g),d=c._grid.columns[i].field,c._prepareCell(g)),f=a('<input type="checkbox" name="'+d+'"/>'),f.appendTo(g);var m=c._grid.trigger(U,{field:d,options:{}}),n=l({},m.options,{value:h});b.ui.CheckBox&&(e=new b.ui.CheckBox(f,n),k&&e.focus(),e.checked(h),c._editors[d]=e)},_putRowInEditMode:function(b,g){var d,c,e=this,f=b.find(".sui-cell");for(c=0;c<f.length;c++)e._putCellInEditMode(f[c],b.get(0).rowIndex,g-b.find(".sui-indent-cell, .sui-expand-cell, .sui-expand-cell-disabled, .sui-collapse-cell").length);N(b),d=b.find(".sui-edit"),d.length>0&&e._grid._changeEditColumnButtons(b.get(0).rowIndex,a(b.children(".sui-button-cell")[0]))},_destroyRow:function(f){var a,d,b=this,e=b._grid,g=e.contentTable.find(">tbody > tr").eq(f),c=e.columns;for(a=0;a<c.length;a++)d=b._editors[c[a].field],d&&(y(d.destroy)&&b._editors[c[a].field].destroy(),delete b._editors[c[a].field]);g.remove()},destroy:function(){var c,f,b=this,e=b._eventNS;if(b._grid.dataSource.off($+e),b._grid.element.off(e,".sui-cell"),a(d).off(n+e),b._editors)for(c=0;c<b._editors.length;c++)f=b._editors[c].editor.element(),b._editors[c].editor.destroy(),f.remove();b._errorDuringEdit=b.options=null}}),Ua=o.extend({init:function(a){var b=this;J(a)?(b.field=a,b.resizable=!0,b.sortable=!0,b.filterable=!0,b.editable=!0,b.visible=!0,b.locked=!1):Q(a)&&(b.field=a.field,b.title=a.title,b.format=a.format,b.width=a.width,b.minWidth=a.minWidth,b.maxWidth=a.maxWidth,b.resizable=e(a.resizable)?!!a.resizable:!0,b.attributes=a.attributes,b.headerAttributes=a.headerAttributes,b.headerTemplate=a.headerTemplate,b.columnTemplate=a.columnTemplate,b.footerTemplate=a.footerTemplate,b.groupFooterTemplate=a.groupFooterTemplate,b.buttons=a.buttons,b.editor=a.editor,b.customFilter=a.customFilter,b.sortable=e(a.sortable)?!!a.sortable:!0,b.filterable=e(a.filterable)?!!a.filterable:!0,b.editable=e(a.editable)?!!a.editable:!0,b.visible=e(a.visible)?!!a.visible:!0,b.locked=b.visible?!!a.locked:!1)},destroy:function(){var a=this;a.buttons&&(a.buttons.length=0),a.field=a.title=a.editor=a.editable=a.format=a.width=a.minWidth=a.maxWidth=a.resizable=a.attributes=a.headerAttributes=a.headerTemplate=a.buttons=a.customFilter=a.footerTemplate=a.groupFooterTemplate=a.sortable=a.filterable=a.visible=a.locked=a.columnTemplate=null}}),na=o.extend({options:{ns:".shieldGridColumnResizing",width:12,offset:6,min:12},init:function(b){var a=this;a.grid=b,a.options=l(!0,{},na.fn.options),a._eventNS=a.options.ns+B(),b.headerTable.on(A+a._eventNS,".sui-headercell",c(a._showHandle,a))},_showHandle:function(h){if(!this.resizing){var d=this,g=d.options,e=(d.grid,d.handle),f=h.pageX,b=d.params=d._params(a(h.currentTarget)),i=f>=b.offset.left&&f<=b.offset.left+g.offset&&b.headerIndex>0;b.isRtl&&(i=f>=b.offset.left+b.width-g.offset&&f<=b.offset.left+b.width&&b.headerIndex>0),i&&(b=d.params=d._params(b.header.prev())),b.column&&b.column.resizable&&!b.column.locked&&(f>=b.threshold&&f<=b.edge+g.offset?(e||(e=d.handle=a('<div class="sui-resizable-handle"/>').on(t+d._eventNS,c(d._down,d)).appendTo(b.header.parents(".sui-headercontent"))),e.css({top:b.position.top,left:e.parent()[0].scrollLeft+b.handleLeft,width:g.width,height:b.height}).show()):e&&e.hide())}},_params:function(a){var f=this,b=f.options,j=a.offset(),g=a.position(),d=i.isRtl(f.grid.element),e=a.outerWidth(),h=j.left+(d?b.width:e),l=a.index(),c=f.grid._getColumnByField(a.attr("data-field")),k=c?c.minWidth>=0?+c.minWidth:b.min:null,m=c&&c.maxWidth>=k?+c.maxWidth:null;return{header:a,headerIndex:l,column:c,min:k,max:m,offset:j,isRtl:d,width:e,current:e,height:a.outerHeight(),edge:h,threshold:h-b.width+(d?-1:1)*b.offset,position:g,handleLeft:g.left+(d?b.width:e)-b.width+(d?-1:1)*b.offset}},_down:function(h){var g,e=this,i=e.grid,f=e.params;if(!(h.button>1)&&f)return g="> colgroup col:nth-child("+(f.headerIndex+1)+")",f.origin=h.pageX,f.cols=a().add(i.headerTable.find(g)).add(i.contentTable.find(g)),e.resizing=!0,e._cancelled=null,e.handle.hide(),a(d).on(A+e._eventNS,c(e._move,e)).on(H+e._eventNS,c(e._up,e)),b.selection(!1),!1},_move:function(g){var e,b,d,c=this,a=c.params;if(c.resizing)return e=(a.isRtl?-1:1)*(g.pageX-a.origin),b=m(a.width+e,a.min),a.max&&(b=q(b,a.max)),d=c.grid.trigger(f,{commandName:ua,cancel:!1,field:a.column.field,width:b}),d&&d.cancel?void(c._cancelled=!0):void(b!==a.current&&(a.cols.width(a.current=b),c.grid._fixHeaderPadding(),c.grid._adjustHeightsLocked(!0)))},_up:function(){var c=this,e=c.grid,g=c.params,h=g.current,f=g.column||{},i=(e.options.columns||[])[a(e.columns).index(f)]||{};c.resizing=!1,c.params=null,f.width=i.width=h+"px",a(d).off(c._eventNS),b.selection(!0),c._cancelled!==!0&&e.trigger(ua,{field:f.field,width:h}),c._cancelled=null},destroy:function(){var a=this;a.grid.headerTable.off(a._eventNS),a._cancelled=null,a.handle&&(a.handle.off(a._eventNS).remove(),a.handle=null)}}),Wa=o.extend({init:function(b){var a=this;a.grid=b,a._filters={},a._eventNS=".shieldGridFiltering"+B(),a._createFilterRow()},_createFilterRow:function(){var h,o,g,k,i,b,f=this,j=f.grid,r=j.headerTable,m=r.find(">thead"),q=m.find(".sui-indent-cell").length,l=j.dataSource.schema,e=j.columns;for(f._tr=h=a('<tr class="sui-filter-row"/>'),b=0;q>b;b++)a('<th class="sui-indent-cell"/>').appendTo(h);for(l&&l.options.fields&&(i=l.options.fields),b=0;b<e.length;b++)o=i&&i[e[b].field]?i[e[b].field].type:null,g=e[b].field?e[b].field.replace(/[\"\']/g,"@"):"",k=a('<th class="sui-filter-cell" data-field="'+g+'" role="gridcell" tabindex="-1"/>').appendTo(h),e[b].filterable!==!1&&g.length>0&&(f._initializeEditor(k,o,e[b].field,e[b]),f._appendFilterButton(k));for(h.appendTo(m),a(d).on(n+f._eventNS,c(f._documentClicked,f)),b=0;b<e.length;b++)if(g=e[b].field?e[b].field.replace(/[\"\']/g,"@"):"",e[b].filterable!==!1&&g.length>0){var p=f._getFilter(e[b].field);p&&(f._setEditorValue(e[b].field,e[b],p.value),f._addRemoveFilterButton(e[b].field))}},_documentClicked:function(e){var c,f,d=this;if(d.listBox&&!a(e.target).hasClass("sui-filter-button")&&!a(e.target).hasClass("sui-filter-button-content")){var b=d.listBox.element.parent();if(b.css(z)==s)return;d._filterByField=null,c=b.height(),f=b.offset().top,d._slideUp?b.animate({height:0,top:f+c},150,function(){b.css({display:s,height:c})}):b.animate({height:0},150,function(){b.css({display:s,height:c})})}},_appendFilterButton:function(d){if(b.ui.Button){var e=a('<button type="button"><span class="sui-sprite sui-filter-button-content"/></button>').appendTo(d);new b.ui.Button(e,{cls:"sui-filter-button",events:{click:c(this._filterButtonClicked,this)}})}},_filterButtonClicked:function(f){var k,g,p,e=this,n=e.grid,m=n.dataSource.schema,i=n.options.filtering,o=i.stringFunc?i.stringFunc:[{func:"eq",name:"Equal to"},{func:"neq",name:"Not equal to"},{func:"con",name:"Contains"},{func:"notcon",name:"Not contains"},{func:"starts",name:"Starts with"},{func:"ends",name:"Ends with"},{func:"gt",name:"Greater than"},{func:"lt",name:"Less than"},{func:"gte",name:"Greater than or equal"},{func:"lte",name:"Less than or equal"},{func:"isnull",name:"Is null"},{func:"notnull",name:"Is not null"}],q=i.nonStingFunc?i.nonStingFunc:[{func:"eq",name:"Equal to"},{func:"neq",name:"Not equal to"},{func:"gt",name:"Greater than"},{func:"lt",name:"Less than"},{func:"gte",name:"Greater than or equal"},{func:"lte",name:"Less than or equal"},{func:"isnull",name:"Is null"},{func:"notnull",name:"Is not null"}],h=f.target.element.parent().attr("data-field").replace(/[@]/g,"'");if(e._filterByField=h,m&&m.options.fields){var j=m.options.fields;k=j&&j[h]&&j[h].type===String?o:q}else k=o;b.ui.ListBox&&(e.listBox||(e._menuWrapper=a('<div style="display:none;"/>').appendTo(d.body),e.listBox=new b.ui.ListBox(e._menuWrapper,l({},{},{dataSource:{data:k},textTemplate:"{name}",valueTemplate:"{func}",multiple:!1,width:150,maxHeight:300,events:{select:c(e._selectFilterFunction,e)}})),e.grid.element.parent().hasClass("sui-rtl")?e.listBox.element.parent().addClass("sui-rtl"):e.listBox.element.parent().css(z,s)),g=e.listBox.element.parent().height(),e._positionListBox(f),e._slideUp?(p=f.target.element.offset().top-g,e.listBox.element.parent().css({top:f.target.element.offset().top}),e.listBox.element.parent().animate({height:g,top:p-e.listBox.element.parent().innerHeight()},150)):e.listBox.element.parent().animate({height:g},150)),e._selectFilterMenuValue(h)},_getFilter:function(e){var b,d,a,f=this,c=f.grid.dataSource.filter;if(c&&c.and&&c.and.length>0)for(b=c.and,a=0;a<b.length;a++)b[a].path===e&&(d=b[a]);return d},_selectFilterMenuValue:function(d){var a=this,b=a._getFilter(d),c=b?b.filter:p;c?a.listBox.values(c):a.listBox.clearSelection()},_selectFilterFunction:function(i){var c,g,a=this,h=!0,b=a._filters[a._filterByField]==F?F:a._filters[a._filterByField].value(),d=i.item.func,e={path:a._filterByField,filter:d,value:b};if(b==F&&(g=a.grid.trigger(Ea,{field:a._filterByField,value:null}),b=g.value,e={path:a._filterByField,filter:d,value:b}),""!==b&&null!==b||"notnull"==d||"isnull"==d){if(a.grid.dataSource.filter&&a.grid.dataSource.filter.and){c=a.grid.dataSource.filter.and;for(var f=0;f<c.length;f++)c[f].path===a._filterByField&&(c[f]=e,h=!1);h&&c.push(e)}else a.grid.dataSource.filter={and:[e]};a.grid.dataSource.read(),a._addRemoveFilterButton(a._filterByField)}},_addRemoveFilterButton:function(h){var e,d,g,i=this;if(b.ui.Button){e=a(i._tr).children("th");for(var f=0;f<e.length;f++)if(d=a(e[f]),d.attr("data-field")&&d.attr("data-field").replace(/[@]/g,"'")==h){g=e[f];break}if(d&&0===d.find(".sui-clear-filter-button").length){var j=a('<button type="button"><span class="sui-sprite sui-clear-filter-button-content"></span></button>').appendTo(g);new b.ui.Button(j,{cls:"sui-clear-filter-button",events:{click:c(this._clearFilterButtonClicked,this)}})}}},_clearFilterButtonClicked:function(d){var f,a,b=this,c=d.target.element.parent().attr("data-field").replace(/[@]/g,"'"),e=b.grid.dataSource.filter.and;for(a=0;a<e.length;a++)e[a].path==c&&e.splice(a,1);f=d.target.element,d.target.destroy(),f.remove(),b._filters[c]!=F?b._filters[c].value(null):b.grid.trigger(Pa,{field:c,value:null}),b.grid.dataSource.read()},_positionListBox:function(i){var a=this,d=i.target.element,e=d.offset(),b=e.top,c=e.left,g=a.listBox.element.parent().innerWidth(),h=a.listBox.element.parent().innerHeight(),f=(d.innerWidth(),d.innerHeight());0>c&&(c=1),c+g>D.innerWidth&&(c=D.innerWidth-g-20),a._slideUp=!1,b+h>D.innerHeight&&(b-=h,f=0,a._slideUp=!0),0>b&&(b=e.top,f=d.innerHeight(),a._slideUp=!1),a.listBox.element.parent().css({position:"absolute",zIndex:10002,top:b+f,left:c,height:0,display:""})},_setEditorValue:function(b,c,d){var a,e=this;c.customFilter||(a=e._filters[b],a&&a.value(d))},_initializeEditor:function(b,e,c,d){var a=this;if(d.customFilter)a._filters[c]=F,d.customFilter.call(a,b);else switch(e){case Number:a._instantiateNumeric(b,c);break;case Date:a._instantiateDatePicker(b,c);break;case String:a._instantiateTextBox(b,c);break;default:a._instantiateTextBox(b,c)}},_instantiateNumeric:function(f,c){var d,e=this,g=a("<input/>").appendTo(f),h=e.grid.trigger(ba,{field:c,options:{}}),i=l({},h.options);b.ui.NumericTextBox&&(d=new b.ui.NumericTextBox(g,i),e._filters[c]=d)},_instantiateDatePicker:function(f,c){var d,e=this,g=a("<input/>").appendTo(f),h=e.grid.trigger(ba,{field:c,options:{}}),i=l({},h.options);b.ui.DatePicker&&(d=new b.ui.DatePicker(g,i),e._filters[c]=d)},_instantiateTextBox:function(f,c){var d,e=this,g=a('<input type="text"/>').appendTo(f),h=e.grid.trigger(ba,{field:c,options:{}}),i=l({},h.options);b.ui.TextBox&&(d=new b.ui.TextBox(g,i),e._filters[c]=d)},destroy:function(){var c,b=this;for(c in b._filters)b._filters.hasOwnProperty(c)&&(b._filters[c]!=F&&b._filters[c].destroy(),b._filters[c]=null);b.listBox&&(b.listBox.destroy(),b.listBox=null),a(b._menuWrapper).remove(),a(b._tr).remove(),a(d).off(n+b._eventNS),b._filterByField=b._filters=b._slideUp=b._menuWrapper=b._tr=null}}),Xa=o.extend({init:function(b,c){var a=this;a.grid=c,a.sortExpressions=[],a._eventNS=".shieldGridSorting"+B(),oa(b)?(a.allowUnsort=!0,a.multiple=!1,a.firstAscending=!0,a.ascText="&#9650;",a.descText="&#9660;"):Q(b)&&(a.allowUnsort=g(b.allowUnsort)?!0:b.allowUnsort,a.multiple=b.multiple,a.firstAscending=g(b.firstAscending)?!0:b.firstAscending,a.ascText=g(b.ascText)?"&#9650;":b.ascText,a.descText=g(b.descText)?"&#9660;":b.descText),a._initialize()},destroy:function(){var b=this,c=b.grid.headerTable;b.allowUnsort=b.multiple=b.sortExpressions=null,b.length=0,c.find(".sui-headercell .sui-link").each(function(){a(this).parent().html(a(this).html())}),c.off(b._eventNS),c.find('.sui-headercell span[class^="sui-"]').remove()},_initialize:function(){var f,d,h,b=this,e=b.grid,i=e.dataSource.sort,g=e.columns,p={},q=e.headerTable.find(".sui-headercell");if(q.each(function(){var c,b=a(this),d=b.attr("data-field"),f=e._getColumnByField(d);p[d]=b,f&&f.sortable!==!1&&(c=b.html(),b.empty(),b.removeAttr(fa),a('<a href="#" class="sui-link sui-unselectable" unselectable="on" tabindex="-1"/>').appendTo(b).html(c))}),e.headerTable.on(n+b._eventNS,".sui-link",c(b._clickHandler,b)),i)for(f=0;f<i.length;f++)for(h=i[f],d=0;d<g.length;d++)if(g[d].sortable!==!1&&h.path==g[d].field){var l=a(p[g[d].field]),m=l.find(".sui-link"),j=ab,k="sui-asc",o=b.ascText;h.desc&&(j=Oa,o=b.descText,k="sui-desc"),a(l).attr(fa,j),m.addClass(k),a('<span class="sui-'+j+'">'+o+"</span>").appendTo(m)}},_clickHandler:function(e){var b=this,d=a(e.target).closest(".sui-link"),f=b.grid,c=f._getColumnByField(d.parent().attr("data-field"));return d.hasClass("sui-desc")?b.allowUnsort&&b.firstAscending?b._sortInternal(c,!0,!0):b._sortInternal(c,!1,!1):d.hasClass("sui-asc")?b.allowUnsort&&!b.firstAscending?b._sortInternal(c,!1,!0):b._sortInternal(c,!0,!1):b.firstAscending?b._sortInternal(c,!1,!1):b._sortInternal(c,!0,!1),!1},_sortInternal:function(c,b,d){var g=this,e=g.grid,h=e.dataSource,a=h.sort,j=e.trigger(f,{commandName:ra,cancel:!1,column:c,desc:b,unsort:d});if(!j.cancel){if(a){if(!g.multiple&&a)a.length=0;else{var i=da(a,function(a){return a.path===c.field&&a.desc===(d?b:!b)});if(i.length>0){var k=V(i[0],a);a.splice(k,1)}}d||a.push({path:c.field,desc:b})}else d||(a=h.sort=[{path:c.field,desc:b}]);e._refreshOnSort(),e.trigger(ra,{column:c,desc:b,unsort:d})}},_sort:function(b,e,g){var c,d,k=this,f=k.grid,j=f.dataSource,a=j.sort;if(a&&(c=da(a,function(a){return a.path===b&&a.desc===e})),!c||c.length<=0)if(!k.multiple&&a&&(a.length=0),a){var h=!1,i=da(a,function(a){return a.path===b&&a.desc!=e});i&&i.length>0&&(d=V(i[0],a),a.splice(d,1),h=!0),g||(a.push({path:b,desc:e}),h=!0),h&&f._refreshOnSort()}else g||(j.sort=[{path:b,desc:e}],f._refreshOnSort());else g&&(d=V(c[0],a),a.splice(d,1),f._refreshOnSort())}}),Ya=o.extend({init:function(f,g){var h,b=this;h=b._eventNS=".shieldGridSelection"+B(),oa(f)?(b.type="row",b.multiple=!1,b.toggle=!1,b.spreadsheet=!0,b.drawArea=!1,b.disableTextSelection=!1,b._selectOnMouseDown=!1):Q(f)&&(b.type=f.type?f.type:"row",b.multiple=!!f.multiple,b.toggle=e(f.toggle)?f.toggle:!1,b.spreadsheet=e(f.spreadsheet)?f.spreadsheet:!0,b.drawArea=e(f.drawArea)?f.drawArea:f.multiple,b.disableTextSelection=e(f.disableTextSelection)?f.disableTextSelection:!1,b._selectOnMouseDown=!b.drawArea&&f.selectEvent==t),b.grid=g,b.lastSelected=null,a(g.headerTable).add(g.frozenHeaderTable).addClass("sui-non-selectable"),a(g.contentTable).add(g.frozenContentTable).addClass(Na),a(g.contentTable).add(g.frozenContentTable).on(t+h,c(b._mouseDownHandler,b)).on(A+h,c(b._mouseMoveHandler,b)),a(d).on(H+h,c(b._mouseUpHandler,b)),I&&a(g.contentTable).add(g.frozenContentTable).on(Ha+h,function(){return!1}),b.multiple&&b.drawArea&&(b.area=a(d.createElement("span")).addClass("sui-area sui-area-color"))},destroy:function(){var b=this,c=b._eventNS,e=b.grid;a(e.contentTable).add(e.frozenContentTable).off(c),a(d).off(c),b.area&&b.area.remove(),b.type=b.multiple=b.lastSelected=b.toggle=b.spreadsheet=b.area=b.x=b.y=b.elements=null},select:function(g){var d,c,e,b,f=this;{if(!g)return f.grid.contentTable.find("."+h);if(d=a(g),c=d.length,c>0)for(b=0;c>b;b++)e=a(d.get(b)),f._selectElement(e),b==c-1&&(f.lastSelected=e)}},clear:function(){var a=this;"row"==a.type?a._clearSelectedRows():a._clearSelectedCells()},_getParentTable:function(a){return a?"TABLE"==a[0].nodeName.toUpperCase()?a[0]:a.parent()?this._getParentTable(a.parent()):void 0:void 0},_mouseDownHandler:function(g){var e=this,h=e.grid,i=g.pageX,j=g.pageY,f=a(g.target),k=e._getParentTable(f);e.x=i,e.y=j,("TD"!=f[0].nodeName.toUpperCase()||k==a(h.contentTable)[0]||k==a(h.frozenContentTable)[0])&&(!(f.hasClass("sui-cell")||f.hasClass("sui-row")||f.hasClass("sui-alt-row")||ka(g,h.contentTable)||ka(g,h.frozenContentTable))||f.hasClass("sui-detail-cell")||f.hasClass("sui-detail-row")||f.hasClass("sui-collapse-cell")||f.hasClass("sui-expand-cell")||f.hasClass("sui-expand-cell-disabled")||f.hasClass("sui-indent-cell")||(e.multiple&&e.drawArea&&e.area.appendTo(d.body).css({left:i+1,top:j+1,width:0,height:0}),a(d).on(A+e._eventNS,c(e._mouseMoveHandler,e)),(e.drawArea||e.disableTextSelection)&&b.selection(!1),e.elements=ea(g,h.contentTable,h.frozenContentTable),e.elements&&e._selectOnMouseDown&&!ia(e.elements)&&e._performAndProcessSelection(g)))},_mouseMoveHandler:function(d){var a=this,b=d.pageX,c=d.pageY,e=a.x,f=a.y,g={left:e>b?b:e,top:f>c?c:f,width:w(b-a.x),height:w(c-a.y)};a.multiple&&a.drawArea&&a.area.css(g)},_mouseUpHandler:function(f){var c=this,e=c.area;a(d).off(A+c._eventNS),(c.drawArea||c.disableTextSelection)&&b.selection(!0),!c.elements||c._selectOnMouseDown&&!ia(c.elements)||c._performAndProcessSelection(f),e&&e.remove()},_performAndProcessSelection:function(k){var c,g,i,d,b=this,e=b.grid,o=b.area,n=b.elements,m=k.ctrlKey,h=[],j=[],l=[];if(i=e.trigger(f,{commandName:Ia,cancel:!1}),i.cancel)return void(b.elements=null);for(b.elementsToBeSelected=[],"row"==b.type?b._performRowSelection(o,m,n,k):b._performCellSelection(o,m,n,k),d=0;d<b.elementsToBeSelected.length;d++)c=b.elementsToBeSelected[d],!(c.hasClass("sui-cell")||c.hasClass("sui-row")||c.hasClass("sui-alt-row"))||c.hasClass("sui-detail-cell")||c.hasClass("sui-detail-row")||c.hasClass("sui-collapse-cell")||c.hasClass("sui-expand-cell")||c.hasClass("sui-expand-cell-disabled")||c.hasClass("sui-indent-cell")||(h.push(c),g=e._getRowIndex("row"==b.type?c:a(c).parent()),j.push(g),l.push(g>=0?e.dataSource.getDataIndex(g):g));if(i=e.trigger(f,{commandName:ga,cancel:!1,toBeSelected:h,viewIndices:j,indices:l}),!i.cancel){for(d=0;d<h.length;d++)b._selectElement(h[d]);e.trigger(ga,{selected:h,viewIndices:j,indices:l}),b.elements=null}},_performRowSelection:function(e,f,d,b){var c=this;if(!(a(b.target).hasClass("sui-expand-cell")||a(b.target).hasClass("sui-expand-cell-disabled")||a(b.target).hasClass("sui-collapse-cell")||a(b.target)&&a(b.target).parent()&&(a(b.target).parent().hasClass("sui-expand-cell")||a(b.target).parent().hasClass("sui-expand-cell-disabled")||a(b.target).parent().hasClass("sui-collapse-cell"))))if(!c.drawArea||b.type===W||e&&0===e.height()&&0===e.width())c.multiple?c._processMultiRowSelection(b,d):c._processSingleRowSelection(b,d);else if(c.multiple){var h=c.grid.contentTable.find(">tbody > tr"),g=null;_(h,function(f,c){var d=a(c),e=d.offset().top;e<b.pageY&&(g=c.rowIndex)}),f||c._clearSelectedRows(),c._selectRowRange(d.row.rowIndex,g,f)}else c._processSingleRowSelection(b,d)},_performCellSelection:function(f,i,g,b){var c=this;if(!(a(b.target).hasClass("sui-expand-cell")||a(b.target).hasClass("sui-expand-cell-disabled")||a(b.target).hasClass("sui-collapse-cell")||a(b.target)&&a(b.target).parent()&&(a(b.target).parent().hasClass("sui-expand-cell")||a(b.target).parent().hasClass("sui-expand-cell-disabled")||a(b.target).parent().hasClass("sui-collapse-cell"))))if(!c.drawArea||b.type===W||f&&0===f.height()&&0===f.width())c.multiple?c._processMultiCellSelection(b,g):c._processSingleCellSelection(b,g);else if(c.multiple){var d,j=c.grid.contentTable.find(">tbody > tr > td"),e=[];for(_(j,function(u,j){var d=a(j),r=d.get(0).clientWidth,t=d.get(0).clientHeight,g=d.offset().top,h=d.offset().left,o=g+t,n=h+r,k=q(b.pageX,c.x),p=m(b.pageX,c.x),l=q(b.pageY,c.y),s=m(b.pageY,c.y),i=!1,f=!1;l>g?o>l&&(i=!0):s>g&&(i=!0),k>h?n>k&&(f=!0):p>h&&(f=!0),i&&f&&e.push(j)}),i||c._clearSelectedCells(),d=0;d<e.length;d++){var k=a(e[d]);k.hasClass(h)?c._deselectElement(a(e[d])):c.elementsToBeSelected.push(a(e[d]))}}else c._processSingleCellSelection(b,g)},_selectRowRange:function(e,f,g){var b,c,d=this,i=q(e,f),j=m(e,f),k=d.grid.contentTable.find(">tbody > tr");for(b=i;j>=b;b++)c=a(k[b]),g&&c.hasClass(h)?d._deselectElement(c):d.elementsToBeSelected.push(c)},_clearSelectedRows:function(){var b=this,c=b.grid;a(c.frozenContentTable).find("> tbody > tr."+h).each(function(){b._deselectElement(a(this))}),a(c.contentTable).find("> tbody > tr."+h).each(function(){b._deselectElement(a(this))})},_clearSelectedCells:function(){var b=this,c=b.grid;a(c.frozenContentTable).find(">tbody > tr > td."+h).each(function(){b._deselectElement(a(this))}),a(c.contentTable).find(">tbody > tr > td."+h).each(function(){b._deselectElement(a(this))})},_processSingleRowSelection:function(i,d){var b=this,e=b.toggle,f=b.multiple,c=a(d.row),g=c.hasClass(h);f||b._clearSelectedRows(),e?g?b._deselectElement(c):b.elementsToBeSelected.push(c):(b._clearSelectedRows(),b.elementsToBeSelected.push(c)),b.lastSelected=c},_processMultiRowSelection:function(f,i){var b=this,g=b.grid,n=f.ctrlKey,r=f.shiftKey,c=a(i.row);if(n)c.hasClass(h)?(b._deselectElement(c),b.lastSelected=c):(b.elementsToBeSelected.push(c),b.lastSelected=c);else if(r){g.contentTable.find(">tbody > tr."+h);
if(b.lastSelected){var s=b.lastSelected,d=s.get(0).rowIndex,j=g.contentTable.find(">tbody > tr"),k=c.get(0).rowIndex,o=q(k,d),p=m(k,d);b._clearSelectedRows();for(var e=o;p>=e;e++)if(e!==d){var l=a(j[e]);b.elementsToBeSelected.push(l)}b.elementsToBeSelected.push(a(j[d]))}else b.elementsToBeSelected.push(c),b.lastSelected=c}else b._processSingleRowSelection(f,i)},_processSingleCellSelection:function(i,d){var b=this,e=b.toggle,f=b.multiple,c=a(d.cell),g=c.hasClass(h);b.lastSelected;f||b._clearSelectedCells(),e?g?b._deselectElement(c):b.elementsToBeSelected.push(c):(b._clearSelectedCells(),b.elementsToBeSelected.push(c)),b.lastSelected=c},_processMultiCellSelection:function(i,w){var b=this,u=b.grid,x=i.ctrlKey,A=i.shiftKey,c=a(w.cell);if(x)c.hasClass(h)?(b._deselectElement(c),b.lastSelected=c):(b.elementsToBeSelected.push(c),b.lastSelected=c);else if(A)if(b.lastSelected){var d,k=b.lastSelected,s=u.contentTable.get(0),p=s.rows[0].cells.length,n=k.parent().get(0).rowIndex,e=n*p+k.get(0).cellIndex,r=u.contentTable.find(">tbody > tr > td"),l=c.parent().get(0).rowIndex,t=l*p+c.get(0).cellIndex,g=q(t,e),j=m(t,e);if(b._clearSelectedCells(),b.spreadsheet){var o=k[0].cellIndex,v=c[0].cellIndex;g=q(o,v),j=m(o,v);var y=q(n,l),z=m(n,l);for(d=y;z>=d;d++){var f,B=s.rows[d];for(f=g;j>=f;f++)b.elementsToBeSelected.push(a(B.cells[f]))}}else for(d=g;j>=d;d++)if(d!==e){var C=a(r[d]);b.elementsToBeSelected.push(C)}b.elementsToBeSelected.push(a(r[e]))}else b.elementsToBeSelected.push(c),b.lastSelected=c;else b._processSingleCellSelection(i,w)},_selectElement:function(a){a.addClass(h)},_deselectElement:function(a){a.removeClass(h)}}),xa=o.extend({options:{ns:".shieldGridGroupReorder",returnDuration:50,returnEasing:"ease-out",dragTreshold:20,draggedTemplate:"<div style='border-color:transparent;' class='sui-grid sui-grid-core'><div class='sui-group-panel-indicator'><span class='sui-group-title'>{0}</span><span class='sui-group-close-button'></span></div></div>"},init:function(b){var a=this;a.grid=b,a.options=l(!0,{},xa.fn.options),a._eventNS=a.options.ns+B(),a._events(!0)},_events:function(d){var a=this,b=a.grid.element;d?(a._downProxy=c(a._down,a),b.on(t+a._eventNS,".sui-group-panel-indicator",a._downProxy)):(b.off(t+a._eventNS,".sui-group-panel-indicator",a._downProxy),a._downProxy=null)},_down:function(g){var e=this,f=a(g.target).closest(".sui-group-panel-indicator"),j=f.offset(),h=e.grid.element,k=h.offset(),l=g.pageX,m=g.pageY;return e.dataField=f.attr("data-field"),g.button>1?void 0:(e._moveProxy=c(e._move,e),e._upProxy=c(e._up,e),a(d).on(A+e._eventNS,e._moveProxy).on(H+e._eventNS,e._upProxy),e.start={left:l-j.left,top:m-j.top,x:l,y:m,target:f,index:f.parent().find(".sui-group-panel-indicator").index(f),positions:e._positions(f),gridPosition:{left:k.left,top:k.top,width:h.outerWidth(),height:h.outerHeight()},isRtl:i.isRtl(h)},b.selection(!1),!1)},_move:function(g){var c=this,h=c.options,i=c.dragged,b=c.start,e=g.pageX,f=g.pageY,k=h.dragTreshold;i?(i.css({left:e-b.left,top:f-b.top}),c.hovered=c._index(e,f),c._indicator()):(w(b.x-e)>k||w(b.y-f)>k)&&(c.dragged=a(j(h.draggedTemplate,b.target.html())).css({position:"absolute",left:e-b.left,top:f-b.top,zIndex:999}).find("table").css("width","auto").end().find("th").attr("style",b.target[0].style.cssText).css({width:b.target.width(),height:b.target.height()}).end().appendTo(d.body))},_positions:function(f){var a,c,d=f.parent().children(".sui-group-panel-indicator"),b=0,e=[];for(b;b<d.length;b++)a=d.eq(b),c=a.offset(),e.push({left:c.left,top:c.top,width:a.outerWidth(),height:a.outerHeight()});return e},_index:function(d,e){var a,c,g,h,f=this.start,b=f.gridPosition;for(c=0;c<f.positions.length;c++)if(a=f.positions[c],g=a.left<=d&&d<=a.left+a.width&&a.top<=e&&e<=a.top+a.height,h=b.left<=d&&d<=b.left+b.width&&b.top<=e&&e<=b.top+b.height,g&&h)return c;return-1},_indicator:function(){var h,f=this,b=f.start,c=f.hovered,g=b.positions[c],e=f.reorderIndicator,j=b.gridPosition.left,k=b.gridPosition.left+b.gridPosition.width,i=b.target.parent().children(".sui-group-panel-indicator"),l=b.isRtl?b.index<c:b.index>c;i.removeClass("sui-reorder-target"),e&&e.hide(),null!=c&&c>-1&&(i.eq(c).addClass("sui-reorder-target"),e||(e=f.reorderIndicator=a("<div class='sui-grid-reorder-indicator'><span class='sui-grid-indicator-top' /><span class='sui-grid-indicator-bottom' /></div>").appendTo(d.body)),c!==b.index&&(h=g.left+(l?0:g.width),e.css({left:q(m(j,h),k),top:g.top,height:g.height}).show()))},_up:function(q){var e,c=this,o=c.options,g=c.grid,l=c.dragged,n=c.start,h=c.hovered,m=c.dataField;if(c._detachDocumentEvents(),l)if(null!=h&&h>-1){if(l.remove(),e=g.trigger(f,{commandName:va,cancel:!1,index:n.index,newIndex:h}),!e.cancel)for(var j=g.dataSource.group,k=0;k<j.length;k++)if(j[k].field==m){var p=j[k];j[k]=j[h],j[h]=p;break}}else setTimeout(function(){l.remove()},i.transitions?o.returnDuration:0),c.grid.dataSource.group&&(e=g.trigger(f,{commandName:T,cancel:!1,field:m}),e.cancel||(c.grid.ungroup(m),g.trigger(T,e)));c.dragged=c.dataField=c.hovered=h=null,c._indicator(),c.reorderIndicator&&(c.reorderIndicator.remove(),c.reorderIndicator=null),c.start=null,a(d).off(c._eventNS),b.selection(!0),e&&!e.cancel&&(delete e.cancel,delete e.commandName,g.dataSource.read(),g.trigger(va,e))},_detachDocumentEvents:function(){var b=this;b._moveProxy=b._upProxy=null,a(d).off(b._eventNS)},destroy:function(){var a=this;a.dataField=null,a._detachDocumentEvents(),a._events(!1)}}),$a=o.extend({options:{ns:".shieldGridColumnGroupReorder",returnDuration:150,returnEasing:"ease-out",dragTreshold:20,draggedTemplate:"<div class='sui-grid sui-grid-core'><div class='sui-gridheader'><table class='sui-table'><thead><tr class='sui-columnheader'><th class='sui-headercell'>{0}</th></tr></thead></table></div></div>"},init:function(b){var a=this;a.grid=b,a.options=l(!0,{},aa.fn.options),a._eventNS=a.options.ns+B(),a._events(!0),b.headerTable.addClass("sui-reorderable")},_events:function(d){var a=this,b=a.grid.element;d?(a._downProxy=c(a._down,a),b.on(t+a._eventNS,".sui-headercell",a._downProxy)):(b.off(t+a._eventNS,".sui-headercell",a._downProxy),a._downProxy=null)},_down:function(f){var e=this,g=a(f.target).closest(".sui-headercell"),n=g.offset(),h=e.grid.element,o=h.offset(),l=f.pageX,m=f.pageY;if(!(f.button>1)){var p=g.attr("data-field"),k=e.grid.dataSource.group;if(k)for(var j=0;j<k.length;j++)if(p===k[j].field)return;return a(d).on(A+e._eventNS,c(e._move,e)).on(H+e._eventNS,c(e._up,e)),e.start={left:l-n.left,top:m-n.top,x:l,y:m,target:g,index:1e3,positions:e._positions(g),gridPosition:{left:o.left,top:o.top,width:h.outerWidth(),height:h.outerHeight()},isRtl:i.isRtl(h)},b.selection(!1),!1}},_move:function(g){var c=this,h=c.options,i=c.dragged,b=c.start,e=g.pageX,f=g.pageY,k=h.dragTreshold;i?(i.css({left:e-b.left,top:f-b.top}),c.hovered=c._index(e,f),c._indicator()):(w(b.x-e)>k||w(b.y-f)>k)&&(c.dragged=a(j(h.draggedTemplate,b.target.html())).css({position:"absolute",left:e-b.left,top:f-b.top,zIndex:999}).find("table").css("width","auto").end().find("th").attr("style",b.target[0].style.cssText).css({width:b.target.width(),height:b.target.height()}).end().appendTo(d.body))},_positions:function(f){var a,b,d=this.grid.element.find(".sui-group-panel-indicator"),c=0,e=[];for(c;c<d.length;c++)a=d.eq(c),b=a.offset(),e.push({left:b.left,top:b.top,width:a.outerWidth(),height:a.outerHeight()}),c==d.length-1&&e.push({left:b.left,top:b.top,width:a.outerWidth(),height:a.outerHeight()});return e},_index:function(b,c){var d,f,i,h,j,g=this.start,e=g.gridPosition,a=this.grid.element.find(".sui-group-panel");if(g.positions.length>0){for(f=0;f<g.positions.length;f++)if(d=g.positions[f],i=d.left<=b&&b<=d.left+d.width&&d.top<=c&&c<=d.top+d.height,j=e.left<=b&&b<=e.left+e.width&&e.top<=c&&c<=e.top+e.height,h=a.offset().left<=b&&b<=a.offset().left+a.width()&&a.offset().top<=c&&c<=a.offset().top+a.height(),i&&j)return f}else h=a.offset().left<=b&&b<=a.offset().left+a.width()&&a.offset().top<=c&&c<=a.offset().top+a.height();return h?(this.isOnGroupPanel=!0,this.grid.element.find(".sui-group-panel-indicator").length):-1},_indicator:function(){var h,f=this,b=f.start,c=f.hovered,g=b.positions[c],e=f.reorderIndicator,j=b.gridPosition.left,l=b.gridPosition.left+b.gridPosition.width,k=b.target.parent().children(".sui-group-panel-indicator"),i=b.isRtl?b.index<c:b.index>c;k.removeClass("sui-reorder-target"),e&&e.hide(),null!=c&&c>-1&&(k.eq(c).addClass("sui-reorder-target"),e||(e=f.reorderIndicator=a("<div class='sui-grid-reorder-indicator'><span class='sui-grid-indicator-top' /><span class='sui-grid-indicator-bottom' /></div>").appendTo(d.body)),this.isOnGroupPanel&&(i=!1),g?(h=g.left+(i?0:g.width),this.isOnGroupPanel=null,e.css({left:q(m(j,h),l),top:g.top,height:g.height}).show()):(h=j+(i?b.gridPosition.width:0),this.isOnGroupPanel=null,e.css({left:h,top:b.gridPosition.top,height:f.grid.element.find(".sui-group-panel-empty").outerHeight()}).show()))},_up:function(o){var e,c=this,m=c.options,k=c.grid,l=c.dragged,g=c.start,h=c.hovered;if(l)if(l.css({left:g.x-g.left,top:g.y-g.top,transition:j("left {0} {1}ms, top {0} {1}ms",m.returnEasing,m.returnDuration)}),null!=h&&h>-1){l.remove();var n=g.target.attr("data-field");e=k.trigger(f,{commandName:wa,cancel:!1,field:n,index:h}),e.cancel||k.group(n,h,"asc")}else setTimeout(function(){l.remove()},i.transitions?m.returnDuration:0);c.dragged=c.hovered=h=null,c._indicator(),c.reorderIndicator&&(c.reorderIndicator.remove(),c.reorderIndicator=null),c.start=null,a(d).off(c._eventNS),b.selection(!0),e&&!e.cancel&&(delete e.cancel,delete e.commandName,k.dataSource.read(),k.trigger(wa,e))},destroy:function(){this._events(!1),this.grid.headerTable.removeClass("sui-reorderable")}}),aa=o.extend({options:{ns:".shieldGridColumnReorder",returnDuration:150,returnEasing:"ease-out",dragTreshold:20,draggedTemplate:"<div class='sui-grid sui-grid-core'><div class='sui-gridheader'><table class='sui-table'><thead><tr class='sui-columnheader'><th class='sui-headercell'>{0}</th></tr></thead></table></div></div>"},init:function(b){var a=this;a.grid=b,a.options=l(!0,{},aa.fn.options),a._eventNS=a.options.ns+B(),a._events(!0),b.headerTable.addClass("sui-reorderable")},_events:function(d){var a=this,b=a.grid.element;d?(a._downProxy=c(a._down,a),b.on(t+a._eventNS,".sui-headercell",a._downProxy)):(b.off(t+a._eventNS,".sui-headercell",a._downProxy),a._downProxy=null)},_down:function(g){var e=this,f=a(g.target).closest(".sui-headercell"),j=f.offset(),h=e.grid.element,k=h.offset(),l=g.pageX,m=g.pageY;if(!(g.button>1))return a(d).on(A+e._eventNS,c(e._move,e)).on(H+e._eventNS,c(e._up,e)),e.start={left:l-j.left,top:m-j.top,x:l,y:m,target:f,index:f.parent().find(".sui-headercell").index(f),positions:e._positions(f),gridPosition:{left:k.left,top:k.top,width:h.outerWidth(),height:h.outerHeight()},isRtl:i.isRtl(h)},b.selection(!1),!1},_move:function(g){var c=this,h=c.options,i=c.dragged,b=c.start,e=g.pageX,f=g.pageY,k=h.dragTreshold;i?(i.css({left:e-b.left,top:f-b.top}),c.hovered=c._index(e,f),c._indicator()):(w(b.x-e)>k||w(b.y-f)>k)&&(c.dragged=a(j(h.draggedTemplate,b.target.html())).css({position:"absolute",left:e-b.left,top:f-b.top,zIndex:999}).find("table").css("width","auto").end().find("th").attr("style",b.target[0].style.cssText).css({width:b.target.width(),height:b.target.height()}).end().appendTo(d.body))},_positions:function(f){var a,c,d=f.parent().children(".sui-headercell"),b=0,e=[];for(b;b<d.length;b++)a=d.eq(b),c=a.offset(),e.push({left:c.left,top:c.top,width:a.outerWidth(),height:a.outerHeight()});return e},_index:function(d,e){var a,c,g,h,f=this.start,b=f.gridPosition;for(c=0;c<f.positions.length;c++)if(a=f.positions[c],g=a.left<=d&&d<=a.left+a.width&&a.top<=e&&e<=a.top+a.height,h=b.left<=d&&d<=b.left+b.width&&b.top<=e&&e<=b.top+b.height,g&&h)return c;return-1},_indicator:function(){var h,f=this,b=f.start,c=f.hovered,g=b.positions[c],e=f.reorderIndicator,j=b.gridPosition.left,k=b.gridPosition.left+b.gridPosition.width,i=b.target.parent().children(".sui-headercell"),l=b.isRtl?b.index<c:b.index>c;i.removeClass("sui-reorder-target"),e&&e.hide(),null!=c&&c>-1&&(i.eq(c).addClass("sui-reorder-target"),e||(e=f.reorderIndicator=a("<div class='sui-grid-reorder-indicator'><span class='sui-grid-indicator-top' /><span class='sui-grid-indicator-bottom' /></div>").appendTo(d.body)),c!==b.index&&(h=g.left+(l?0:g.width),e.css({left:q(m(j,h),k),top:g.top,height:g.height}).show()))},_up:function(n){var e,c=this,l=c.options,m=c.grid,k=c.dragged,g=c.start,h=c.hovered;k&&(k.css({left:g.x-g.left,top:g.y-g.top,transition:j("left {0} {1}ms, top {0} {1}ms",l.returnEasing,l.returnDuration)}),null!=h&&h>-1?(k.remove(),e=m.trigger(f,{commandName:ta,cancel:!1,index:g.index,newIndex:h}),e.cancel||m.reorderColumn(g.index,h)):setTimeout(function(){k.remove()},i.transitions?l.returnDuration:0)),c.dragged=c.hovered=h=null,c._indicator(),c.reorderIndicator&&(c.reorderIndicator.remove(),c.reorderIndicator=null),c.start=null,a(d).off(c._eventNS),b.selection(!0),e&&!e.cancel&&(delete e.cancel,delete e.commandName,m.trigger(ta,e))},destroy:function(){this._events(!1),this.grid.headerTable.removeClass("sui-reorderable")}}),pa=ca.extend({init:function(){ca.fn.init.apply(this,arguments);var a=this;a._eventNS=".shieldGrid"+a.getInstanceId(),a.refresh()},destroy:function(){this._destroyInternal(),ca.fn.destroy.call(this)},_destroyInternal:function(){var c,e,f,b=this,g=b.options,d=b._eventNS;if(b.contentWrapper){if(b._markedCells){for(e in b._markedCells)b._markedCells.hasOwnProperty(e)&&(b._markedCells[e].length=0);b._markedCells=null}if(a(D).off(d),b._destroyFrozenContainers(),b.sorting&&(b.sorting.destroy(),b.sorting=null),b.virtualizedContainer&&(b.virtualizedContainer.destroy(),b.virtualizedContainer=null),b.columns)for(c=0;c<b.columns.length;c++)b.columns[c].destroy();if(b.contentWrapper&&b.contentWrapper.off(Ba),b.scrollableWrapper=null,b._selectable&&(b._selectable.destroy(),b._selectable=null),g.scrolling?(b.contentWrapper.parent().remove(),b.headerWrapper.parent().remove()):(b.contentWrapper.remove(),b.headerWrapper.remove()),b._hasDetailTemplate()&&b.contentTable.off(d),b.popupWindow&&b.popupWindow.destroy(),b._footer&&(a(b._footer).remove(),b._footer=null),b.columns=b._gridColumns=b._windowEditingIndex=b.contentWrapper=b.headerWrapper=b.contentTable=b.hederTable=null,b._buttons){for(c=0;c<b._buttons.length;c++)f=b._buttons[c].button.element,b._buttons[c].button.destroy(),f.remove();b._buttons.length=0}b.pager&&(b.pager.destroy(),b.pager=null,b.pagerWrapper&&(b.pagerWrapper.parent().remove(),b.pagerWrapper=null)),b.loadingPanel&&(b.loadingPanel=null,clearTimeout(b.loadingPanelTimeout),b.loadingPanelTimeout=null),b._columnResizing&&(b._columnResizing.destroy(),b._columnResizing=null),b._toolbar&&(b._toolbar.destroy(),b._toolbar=null),b._editing&&(b._editing.destroy(),b._editing=null),b._columnReorder&&(b._columnReorder.destroy(),b._columnReorder=null),b._sortingInProgress=b._loadingVirtualRows=b._scrollLeft=b._scrollTop=b._populateInsertedItem=b._preventClosingEditors=b._editingInProcess=null,b._filter&&(b._filter.destroy(),b._filter=null),b._groupReorder&&(b._groupReorder.destroy(),b._groupReorder=null),b._columnGroupReorder&&(b._columnGroupReorder.destroy(),b._columnGroupReorder=null),b.dataSource.off(d),b.element.off(d).removeClass("sui-grid sui-grid-core").css(G,"").empty()}},_resizeHandler:function(){var a=this;a._adjustWidthsLocked(),a._adjustHeightsLocked()},_hasDetailTemplate:function(){var a=this.options;return a.detailTemplate||a.events&&a.events.detailCreated},_hasVirtualScrolling:function(){var a=this.options;return a.scrolling&&a.scrolling.virtual&&!a.paging&&!this._hasDetailTemplate()},_canExpandCollapse:function(){return this.options.detailExpandCollapse!==!1},_resolveColumns:function(d){var a,c=this;if(c.columns=[],u.array(d))for(a=0;a<d.length;a++)c.columns.push(new Ua(d[a]));else b.error("Invalid columns declaration. The columns have to be array.",c.options.dieOnError);for(c._gridColumns={},a=0;a<c.columns.length;a++)c._gridColumns[c.columns[a].field]={index:a}},_createWrappers:function(){var c,d,b=this,e=b.element;b._wrapper(),c=a("<div/>").prependTo(e),c.addClass("sui-gridcontent"),d=a("<div/>").prependTo(e),d.addClass("sui-gridheader"),b.options.showHeader||(d.css(z,s),c.addClass("sui-no-header")),b.headerWrapper=d,b.contentWrapper=c},_wrapper:function(){var b=this.options.height,a=this.element;a.is("div")||(a=a.wrap("<div/>").parent()),a.addClass("sui-grid sui-grid-core"),a&&a.css(G,b)},_createGroupPanel:function(){var e,h,f,c,b=this,g=b.options.grouping,i=!1,d=b.dataSource;if(f=b.element.find(".sui-group-panel"),f.length>0&&f.remove(),g.showGroupHeader)if(d.group&&0!==d.group.length){for(e=a('<div class="sui-group-panel"/>'),a(b.element).prepend(e),c=0;c<d.group.length;c++)h=d.group[c],b._createGroupHeaderIndicator(h,e),i=!0;i&&g.allowDragToGroup&&(b._groupReorder&&b._groupReorder.destroy(),b._groupReorder=new xa(b),b._columnGroupReorder&&b._columnGroupReorder.destroy(),b._columnGroupReorder=new $a(b))}else a(b.element).prepend(a('<div class="sui-group-panel sui-group-panel-empty">'+g.message+"</div>"))},_createGroupHeaderIndicator:function(e,h){var f,g,d,b=this;d=a('<div class="sui-group-panel-indicator" data-field="'+e.field+'"/>').appendTo(h),g="desc"==e.order?a('<span class="sui-descending">&#9660;</span>').appendTo(d):a('<span class="sui-ascending">&#9650;</span>').appendTo(d),a('<span class="sui-group-title">'+e.field+"</span>").appendTo(d),b.options.grouping.allowDragToGroup&&(f=a('<span class="sui-group-close-button">&#10006;</span>').appendTo(d),f.on(n,b._closeButtonClicked=c(b._closeButtonClickedHandler,b))),g.on(n,c(b._sortButtonClickedHandler,b))},_sortButtonClickedHandler:function(f){for(var d=this,e=a(f.currentTarget),g=e.parent().attr("data-field"),c=d.dataSource.group,b=0;b<c.length;b++)c[b].field==g&&(e.hasClass("sui-descending")?c[b].order="asc":c[b].order="desc",d.dataSource.read())},_closeButtonClickedHandler:function(e){var c,b=this,g=a(e.currentTarget),d=g.parent().attr("data-field");b.dataSource.group&&(c=b.trigger(f,{commandName:T,cancel:!1,field:d}),c.cancel||(b.ungroup(d),b.trigger(T,c)))},_createHeaderTable:function(){var c=this,d=c.headerWrapper,b=c.element;b.is("table")||(b=d.children("table"),b.length||(b=a("<table/>").appendTo(d))),x&&b.attr("cellspacing",0),b.addClass("sui-table"),c.headerTable=b,c._createTbody(b,!0),c._createThead(b),c._createFakeRow(b,c.columns.length)},_createContentTable:function(){var b=this,f=b.options,e=b.contentWrapper,d=b.element;d.is("table")||(d=e.children("table"),d.length||(d=a("<table/>").appendTo(e))),x&&d.attr("cellspacing",0),d.addClass("sui-table"),f.rowHover&&d.addClass("sui-hover"),b._hasDetailTemplate()&&(b._canExpandCollapse()&&d.addClass("sui-expandable"),d.on(n+b._eventNS,"> tbody > tr > .sui-expand-cell, > tbody > tr > .sui-collapse-cell",c(b._expandCollapseDetailTemplate,b))),b.contentTable=d,b._createTbody(b.contentTable,!1)},_createTbody:function(c,d){var b=c.find("> tbody");b.length||(b=a("<tbody/>").appendTo(c)),d&&b.addClass("sui-hide"),c.tbody=b},_createThead:function(g){var d,i,b,c,j,m,h=this,e=(h.options,h.columns),k="",f=g.find(">thead");for(f.length||(f=a("<thead/>").insertBefore(g.tbody)),b=g.find("tr:has(th):first"),b.length||(b=f.children().first(),b.length||(b=a("<tr/>").appendTo(f))),b.attr(S,"row"),b.empty(),d=0,i=e.length;i>d;d++)c=e[d],j=c.headerTemplate||c.title||c.field||c,m=e[d].sortable?!0:!1,k+="<th "+la(c.headerAttributes)+' data-field="'+e[d].field+'" role="columnheader"'+(m?' tabindex="-1"':"")+">"+j+"</th>";if(b.html(k),b.addClass("sui-columnheader"),b.find("th").addClass("sui-headercell"),e.length&&h._hasDetailTemplate()&&h._canExpandCollapse()){var l=a('<th class="sui-indent-cell"/>');x&&l.html("&nbsp;"),l.prependTo(b)}g.thead=f},_createFakeRow:function(e,f){var b,c,d=e.find(">tbody");if(d.length){for(b=a("<tr/>"),c=0;f>c;c++)a("<td/>").appendTo(b);b.appendTo(d)}},_createColgroup:function(g){var c,h,b,e=this,i=e.options,f=e.columns,d=g.find(">colgroup");for(d.length||(d=a("<colgroup/>").prependTo(g)),d.html(""),i.columns.length&&e._hasDetailTemplate()&&e._canExpandCollapse()&&a('<col class="sui-indent-col"/>').appendTo(d),c=0,h=f.length;h>c;c++)b=f[c].width,a(b&&0!==parseInt(b,10)?j('<col style="width:{0}"/>',J(b)?b:b+"px"):"<col/>").data(r,f[c].field).appendTo(d)},scrollTop:function(c){var b=this,g=b.options,h=g.scrolling,d=b._hasVirtualScrolling(),f=b.contentWrapper;if(h)if(e(c))d?b.virtualizedContainer&&b.virtualizedContainer.scrollTop(c):a(f).scrollTop(c);else{if(!d)return a(f).scrollTop();if(b.virtualizedContainer)return b.virtualizedContainer.scrollTop()}},_scrolling:function(){var v,f,t,b=this,j=b.options,g=a(b.element),z=(i.isRtl(g),b.dataSource),k=b._hasVirtualScrolling(),h=b.headerWrapper,d=b.contentWrapper,l=h.outerHeight(),u=!(k||"auto"!==j.height&&e(j.height)),m=!k&&e(j.maxHeight)?parseInt(j.maxHeight,10):p,n=0,o=0,q=0;if(h.parent().hasClass("sui-gridheader sui-scrolldiv")?l=h.parent().outerHeight():(h.addClass("sui-headercontent").removeClass("sui-gridheader"),h.wrap('<div class="sui-gridheader sui-scrolldiv"/>'),d.addClass("sui-content").removeClass("sui-gridcontent"),d.wrap('<div class="sui-gridcontent sui-scroller"/>'),x&&(b.headerTable.addClass("sui-table-ie7").removeClass("sui-table"),b.contentTable.addClass("sui-table-ie7").removeClass("sui-table")),t=b.scrollableWrapper=k?d.parent():d,t.on(Ba,c(b._onscroll,b))),b.pagerWrapper&&(n=b.pagerWrapper.outerHeight()),b._toolbar){var r,w=g.find(".sui-toolbar"),s=0;for(r=0;r<w.length;r++)s+=a(w[0]).outerHeight();o+=s+1}var y=g.find(".sui-group-panel");y.length>0&&(q+=y.outerHeight()),u?f="auto":(v=g.innerHeight(),f=v-l-n-o-q),a(d).add(d.parent()).css(G,f),m&&m<g.innerHeight()&&(f=m-l-n-o-q,a(d).add(d.parent()).css(G,f)),k?(b._ensureVirtualizedContainer(),b.virtualizedContainer.options.total=z.total,b.virtualizedContainer.render(),b._fixHeaderPadding(b.virtualizedContainer.wrapper.parent())):(b._fixHeaderPadding(d),u||!I||x||Ra||i.hasScrollbarX(d)||d.css(G,f+1))},_fixHeaderPadding:function(f){var d=this,e=i.isRtl(d.element),b=d.headerWrapper,c=a(f).get(0);c&&(c.scrollHeight-c.clientHeight>1?(b.parent().css(e?"padding-left":"padding-right",i.scrollbar()-1),b.removeClass("sui-no-y-scroll")):(b.parent().css(e?"padding-left":"padding-right",0),b.addClass("sui-no-y-scroll")))},_ensureVirtualizedContainer:function(){var d,e,a=this;a.virtualizedContainer||(d=a._renderRow(0,a.contentTable.tbody,{}),e=d.outerHeight(),d.remove(),a.virtualizedContainer=new b.ui.VirtualizedContainer(a.scrollableWrapper,{itemHeight:e,total:a.dataSource.total,createContainer:function(b){return b.addClass("sui-content").append(a.contentTable).find("tbody").empty()},getItems:c(a._loadVirtualRows,a),skipRender:!0}),a.contentWrapper=a.virtualizedContainer.element.children().eq(0))},_loadVirtualRows:function(d,e,g){var a=this,b=a.dataSource,h=null!=b.skip?b.skip:0,i=null!=b.take?b.take:b.view.length,j=100,f=a.virtualizedContainer.container;if(e>d)if(!a._sortingInProgress&&b.remote&&(h>d||e>=h+i))clearTimeout(a._loadWaitTimeout),a._loadWaitTimeout=setTimeout(function(c,d,e){return function(){a._loadWaitTimeout=null,b.skip=c,b.take=d-c,a._loadingVirtualRows=!0,b.one(Ca+".shieldGrid"+a.getInstanceId(),function(){a._loadWaitTimeout||(a._loadingVirtualRows=!1)}),b.read().then(function(){if(!a._loadWaitTimeout){f.empty();for(var g=c;d>g&&g<b.total;g++)a._renderRow(g-c,f,b.view[g-c]);a.loading(!1),e([],!1),a.trigger(ja)}})}}(d,e,g),j);else{f.empty();for(var c=d;e>c&&c<b.total;c++)a._renderRow(c,f,b.view[c]);g([],!1),a.trigger(ja)}else a._renderNoRecords();a._checkIfVerticalScroll(),a._initSelection()},_checkIfVerticalScroll:function(){var a=this,b=a.element.find(".sui-virtualized").get(0),c=a.element.get(0),d=b.scrollHeight>c.scrollHeight;d?(a.headerWrapper.parent().css("padding-right","16px"),a.headerWrapper.removeClass("sui-grid-no-gap")):(a.headerWrapper.parent().css("padding-right","0px"),a.headerWrapper.addClass("sui-grid-no-gap"))},_onscroll:function(l){var e,b=this,f=b.scrollableWrapper,c=f.get(0),g=b.headerWrapper,d=f.scrollLeft(),j=g.scrollLeft();if(i.isRtl(b.element)&&Qa&&c.clientHeight<c.scrollHeight&&(d+=c.offsetWidth-c.clientWidth),d!=j&&(g.scrollLeft(d),b._footer&&(e=a(b._footer).find(".sui-footer-content"),e.length>0&&e.scrollLeft(d))),b.frozenHeaderWrapper){var h=f.scrollTop(),k=b.frozenContentWrapper.scrollTop();h!=k&&b.frozenContentWrapper.scrollTop(h)}},_sorting:function(){var a=this,b=a.options.sorting;a.element;b&&a.columns.length&&(a.sorting&&a.sorting.destroy(),a.sorting=new Xa(b,a))},_renderData:function(){var c,e,a=this,d=a.dataSource.view,b=a.options;b.scrolling,g(b.altRows)?!0:b.altRows,b.rowTemplate,b.altRowTemplate,a.contentTable;a._loadingVirtualRows||(e=a.trigger(f,{commandName:K,cancel:!1}),e.cancel||(a._sortingInProgress=!1,a.columns.length||(c=[],d.length&&_(d[0],function(a,b){c.push(a)}),b.columns=c,a._resolveColumns(c)),a._filtering(),a._destroyFrozenContainers(),a._createThead(a.headerTable),a._createColgroup(a.headerTable),a._createColgroup(a.contentTable),a.contentTable.tbody.empty(),a._sorting(),a._renderRows(),a._renderFooter(),a._refreshColVisibility(),d&&d.length>0&&a._initFrozenCols(),a._initSelection(),a.loading(!1),a.trigger(K)))},_renderRows:function(){var h,e,g,m,i,j,f,c,b=this,k=b.options,l=b.dataSource,d=l.view,n=k.filtering&&k.filtering.enabled;if(b._markedCells){for(g in b._markedCells)b._markedCells.hasOwnProperty(g)&&(b._markedCells[g].length=0);b._markedCells=null}if(!d||!d.length)return b._renderNoRecords(),void b._initScrolling();if(!b._hasVirtualScrolling()||b._sortingInProgress)if(e=l.group,e&&e.length>0){for(m=0,b._renderGroupedData(d,m,0),i=b.headerTable.find(">colgroup").first(),j=b.contentTable.find(">colgroup").first(),f=b.headerTable.thead.find(".sui-columnheader").first(),n&&(c=b.headerTable.find(".sui-filter-row").first()),i.find(".sui-indent-col").remove(),f.find(".sui-columnheader > .sui-indent-cell").remove(),c&&c.length>0&&c.find(".sui-indent-cell").remove(),h=0;h<e.length;h++)a('<col class="sui-indent-col"/>').prependTo(i),a('<th class="sui-indent-cell"/>').prependTo(f),c&&c.length>0&&a('<th class="sui-indent-cell"/>').prependTo(c),a('<col class="sui-indent-col"/>').prependTo(j);b._addAllIndentCells(),b.contentTable.addClass("sui-grouped-table")}else b._renderRowsAndDetails(d);b._createGroupPanel(),b._initScrolling()},_getVisibleColumnCount:function(){var a,b=this.columns||[],d=b.length,c=0;for(a=0;d>a;a++)b[a].visible&&c++;return c},_renderNoRecords:function(){var b=this,c=b.options,d=b.contentTable;g(c.noRecordsTemplate)?a('<tr><td class="sui-grid-norecords-cell" colspan="'+b._getVisibleColumnCount()+'" role="gridcell">'+(c.noRecordsText||"No records to display")+"</td></tr>").appendTo(d.tbody):a('<td class="sui-grid-norecords-cell" colspan="'+b._getVisibleColumnCount()+'" role="gridcell"/>').append(c.noRecordsTemplate).wrap("<tr/>").parent().appendTo(d.tbody)},_initScrolling:function(){var a=this;a.options.scrolling&&!a._sortingInProgress&&a._scrolling()},_initSelection:function(){this._selection()},_addAllIndentCells:function(){var d,b,c,e,g=this,f=g.contentTable.get(0).rows;for(d=0;d<f.length;d++)if(c=a(f[d]),e=parseInt(c.attr("data-group-level"),10),c.hasClass("sui-group-header")){if(e>1)for(b=0;e-1>b;b++)a("<td class='sui-indent-cell'/>").prependTo(c)}else for(b=0;e>b;b++)a("<td class='sui-indent-cell sui-group-intend-cell'/>").prependTo(c)},_renderGroupedData:function(f,e,b){var d,a,c=this;for(c.options.detailExpandCollapse=!1,d=0;d<f.length;d++)a=f[d],a.hasOwnProperty("field")&&a.hasOwnProperty("items")&&a.hasOwnProperty("value")?(b++,c._renderGroupHeader(a,b),c._renderGroupedData(a.items,e,b),c._renderGroupAggregates(a),b--):(c._renderDataItem(a,e,b),e++)},_renderGroupAggregates:function(n){if(n.aggregate){var k,g,o,b,i,f=this,h=f.columns,l={},d=n.aggregate;for(b=0;b<h.length;b++)if(g=h[b].groupFooterTemplate){k=a("<tr class='sui-group-footer' />").appendTo(f.contentTable.tbody);break}if(k){for(b=0;b<h.length;b++)if(i=a("<td class='sui-group-footer-cell' />").appendTo(k),g=h[b].groupFooterTemplate){o=h[b].field;for(var c=0;c<d.length;c++)d[c].field==o&&(y(d[c].aggregate)?l.custom=d[c].value:l[d[c].aggregate]=d[c].value);if(y(g)){var m=g.call(f,i,l);e(m)&&!L(m)&&""!==m&&i.html(m)}else i.html(j.call(f,g,l))}var p=f.dataSource.group.length;for(b=0;p>b;b++)k.prepend(a("<td class='sui-indent-cell' />"))}}},_renderGroupHeader:function(d,e){var b=this,g=b.contentTable,h=b._getVisibleColumnCount()+b.dataSource.group.length-e+1,i=a('<tr class="sui-group-header" data-group-level="'+e+'"/>').appendTo(g),f=a('<td class="sui-group-header-cell" colspan="'+h+'"/>').appendTo(i),j=a('<span class="sui-collapse">&#9662;</span>').appendTo(f);a('<span class="sui-group-header-text">'+d.field+": "+d.value+"</span>").appendTo(f),j.on(n,c(b._expandCollapseHandler,b))},_expandCollapseHandler:function(g){var e,b=this,c=a(g.currentTarget),d=c.parent().parent();c.hasClass("sui-collapse")?(e=b.trigger(f,{commandName:Aa,cancel:!1,row:d}),e.cancel||(b.collapseGroup(d),c.html("&#9656;"),c.removeClass("sui-collapse").addClass("sui-expand"),b.trigger(Aa,{row:d}))):(e=b.trigger(f,{commandName:za,cancel:!1,row:d}),e.cancel||(b.expandGroup(d),c.html("&#9662;"),c.removeClass("sui-expand").addClass("sui-collapse"),b.trigger(za,{row:d})))},_renderDataItem:function(b,c,d){var a=this,e=a.contentTable;a._renderRow(c,e,b).attr("data-group-level",d)},_renderRowsAndDetails:function(c){var d,a,b=this,e=b.contentTable;for(a=0,d=c.length;d>a;a++)b._renderRow(a,e.tbody,b.dataSource.view[a]),b._hasDetailTemplate()&&!b._canExpandCollapse()&&b._addDetailTemplate(c[a])},_renderRow:function(m,l,h){var r,b,w,q,c=this,x=e(l),k=c.options,F=g(k.altRows)?!0:k.altRows,n=F&&m%2&&k.altRowTemplate?k.altRowTemplate:k.rowTemplate,G=c.columns;if(n)J(n)&&(n=n.replace(/^\s+/,"").replace(/\s+$/,"")),b=a(j(n,h)),x&&l.append(b);else{if(b=a('<tr class="'+(F&&m%2?"sui-alt-row":"sui-row")+'"/>').data(ya,m),arguments.length>3){var A=arguments[3],B=l.find("tr"),H=B.eq(A);B.length==A?l.append(b):b.insertBefore(H)}else x&&l.append(b);for(q=0;q<G.length;q++){var o,p,i=G[q],t=i.columnTemplate,D=i.format,v=i.field,u=i.buttons,d=a("<td "+la(i.attributes)+' role="gridcell" tabindex="-1"/>').addClass("sui-cell").appendTo(b);if(d.attr(S,"gridcell").attr(C,"-1"),i.editable||d.attr(Y,X),u)for(p=0;p<u.length;p++)c._buildButton(u[p],d,m);else t?y(t)?(o=t.call(c,d,h,m),e(o)&&!L(o)&&""!==o&&d.html(o)):d.html(j.call(c,t,h)):D?d.html(j.call(c,D,v?E(h,v):h)):d.html(""+E(h,v));i.visible||d.css(z,s)}}return c._hasDetailTemplate()&&c._canExpandCollapse()&&(w=c.trigger(f,{commandName:Da,cancel:!1,item:h}),w.cancel?r=a('<td class="sui-cell sui-expand-cell-disabled"/>'):(r=a('<td class="sui-cell sui-expand-cell"/>'),c._setExpandCollapseCellText(r,k.detailExpandText,k.detailCollapseText)),r.prependTo(b)),b.attr(S,"row"),b},_renderFooter:function(){var k,i,h,t,d,c,m,b=this,p=b.options,g=b.columns,n={},f=b.dataSource.aggregates;for(b._footer&&(a(b._footer).remove(),b._footer=null),d=0;d<g.length;d++)if(h=g[d].footerTemplate){if(p.scrolling&&p.scrolling.virtual){var q=a('<div class="sui-footer" style="padding-right:16px;"/>').appendTo(b.element),u=a('<div class="sui-footer-content"/>').appendTo(q),r=a('<table class="sui-table"/>').appendTo(u),s=b.element.find(".sui-headercontent > table > colgroup > col"),v=a("<colgroup/>").appendTo(r);for(c=0;c<s.length;c++)a(s[c].outerHTML).appendTo(v);k=a("<tbody/>").appendTo(r),b._footer=q}else k=a("<tfoot/>").appendTo(b.contentTable),b._footer=k;i=a('<tr class="sui-grid-footer"/>').appendTo(k);break}if(i){for(d=0;d<g.length;d++)if(m=a('<td class="sui-footer-cell" role="gridcell" tabindex="-1"/>').appendTo(i),h=g[d].footerTemplate){for(t=g[d].field,c=0;c<f.length;c++)f[c].field==t&&(y(f[c].aggregate)?n.custom=f[c].value:n[f[c].aggregate]=f[c].value);if(y(h)){var l=h.call(b,m,n);e(l)&&!L(l)&&""!==l&&m.html(l);
}else m.html(j.call(b,h,n))}var o=i.prev();(o.find(".sui-expand-cell").length>0||o.find(".sui-expand-cell-disabled").length>0||o.find(".sui-indent-cell").length>0||o.find(".sui-collapse-cell").length>0)&&i.prepend(a("<td/>"))}},_buildButton:function(d,h,j){var k,e=this,f=d.commandName,i=d.click;if(b.ui.Button){var l=a('<button type="button">'+d.caption+"</button>").appendTo(h);h.addClass("sui-button-cell"),"delete"===f?(i=e._deleteButtonClicked,g(d.cls)?d.cls="sui-delete":d.cls+=" sui-delete"):"edit"===f&&(e._editing&&(e._editing.type="row"),e._preventClosingEditors=!0,i=e._editButtonClicked,g(d.cls)?d.cls="sui-edit":d.cls+=" sui-edit"),k=new b.ui.Button(l,{cls:d.cls,events:{click:c(i,e,j,h)}}),("delete"==f||"edit"==f)&&(e._buttons||(e._buttons=[]),e._buttons.push({index:j,button:k}))}},_deleteButtonClicked:function(a,h){var g,b=this,e=b.dataSource,c=b.options.editing,d=c?c.confirmation:null;if(g=b.trigger(f,{commandName:ha,cancel:!1,rowIndex:a}),!g.cancel){if(d&&d["delete"]&&d["delete"].enabled&&!D.confirm(j(d["delete"].template,e.view[a])))return;e.removeAtView(a),c&&!c.batch&&e.save(!1),b.trigger(ha,{rowIndex:a})}},_editButtonClicked:function(i,d){var c=this,g=c._editing,e=c.dataSource,h=a(d).parent(),j=c.trigger(f,{commandName:P,cancel:!1,row:h,cell:d,index:c._getRowIndex(h)});j.cancel||(c._editingInProcess=!0,e.tracker&&e.tracker.changes&&e.tracker.changes.added&&e.tracker.changes.added.length>0?e.cancel():"popup"!=c.options.editing.mode?(c._closeAllEditedRows(),g&&g.options.enabled&&g._putRowInEditMode(h),c._changeEditColumnButtons(i,d)):b.ui.Window&&c._initializePopupForm(i),c.trigger(P,{row:a(d).parent(),cell:d,index:c._getRowIndex(a(d).parent())}))},_initializePopupForm:function(r,o){var s,h,n,k,g,f=this,i=f._editing,m=f.dataSource;for(s=a('<div class="sui-modal-popup-edit-window"/>').appendTo(d.body),h=a('<div class="sui-edit-form-container"/>'),n=f.options.columns,k=0;k<n.length;k++)if(g=n[k],g.editable!==!1&&g.field){var t=e(m.schema.options.fields)?m.schema.options.fields[g.field].type:String,q=m.editView(r).data,l=E(q,g.field);f._windowEditingIndex=r,a('<div class="sui-edit-form-label"><label for="'+g.field+'">'+(g.caption?g.caption:g.field)+"</label></div>").appendTo(h);var j=a('<div class="sui-edit-field"></div>').appendTo(h);if(g.editor)i._instantiateCustomEditor(g,j,q,0,!1,g.field);else switch(t){case Number:i._instantiateNumeric(j,l,!1,g.field);break;case Date:i._instantiateDatePicker(j,l,!1,g.field);break;case String:i._instantiateTextBox(j,l,!1,g.field);break;case Boolean:i._instantiateCheckBox(j,l,!1,g.field)}}var p=a('<div class="sui-update-buttons sui-popup-buttons"></div>').appendTo(h),u=a("<button type='button'>Save</button>").appendTo(p),v=a("<button type='button'>Cancel</button>").appendTo(p);if(b.ui.Button){var w=new b.ui.Button(u,{events:{click:c(f._updateButtonClicked,f)}}),x=new b.ui.Button(v,{events:{click:c(f._cancelButtonClicked,f)}});f._buttons=[],f._buttons.push({index:1e4,button:w}),f._buttons.push({index:1e4,button:x})}h.appendTo(d.body),f.popupWindow=new b.ui.Window(s,{title:o?"Insert":"Edit",draggable:{enabled:!1},events:{close:c(f._cancelButtonClicked,f)},height:a(".sui-edit-form-container").height()+57,modal:!0}),f.popupWindow.content(h),f.popupWindow.resize({width:a(".sui-modal-popup-edit-window").width(),height:a(".sui-edit-form-container").height()+66}),f.trigger(o?Ma:La)},_changeEditColumnButtons:function(c,b){var a=this;a._removeButtons(b,c),a._buildButton({caption:"Update",click:a._updateButtonClicked,cls:"sui-update"},b,c),a._buildButton({caption:"Cancel",click:a._cancelButtonClicked,cls:"sui-cancel"},b,c),b.addClass("sui-update-buttons")},_removeButtons:function(c,d){for(var a=this,b=a._buttons.length;b--;)a._buttons[b].index==d&&(a._buttons[b].button.destroy(),a._buttons.splice(b,1));c.removeClass("sui-update-buttons").empty()},_updateButtonClicked:function(b,c){var a=this;return g(a._windowEditingIndex)||(b=a._windowEditingIndex),a._updateItem(b,c),a._editing._errorDuringEdit?void(a._editing._errorDuringEdit=!1):(a._putRowInViewMode(b,c),void("popup"===a.options.editing.mode&&a._removePopupWindow()))},_updateItem:function(l,o){var d,c,h,b,j,m,e,a=this,i=a.dataSource,k=(a.pager,[]),n=!0;if(i.group&&i.group.length>0&&"popup"!=a.options.editing.mode)for(j=a.contentTable.find(".sui-row, .sui-alt-row"),m=a.contentTable.find("tr").get(l),e=0;e<j.length;e++)if(j[e]==m){l=e;break}d=i.editView(l);for(b in d.data)d.data.hasOwnProperty(b)&&(null!=d.data[b]&&(n=!1),a._editing._editors[b]&&("custom"==a._editing._editors[b]?(h=a.trigger("getCustomEditorValue",{field:b,value:null}),c=h.value,a._editing._editors[b]=null):c=a._editing._editors[b].value?a._editing._editors[b].value():a._editing._editors[b].checked?a._editing._editors[b].checked():p,d.data[b]!=c&&k.push(b),(g(c)||null==c)&&(c=a._getDefaultValue(b)),d.set(b,c)));return a._editing._errorDuringEdit?void(k.length=0):(a._editing.options.batch||(h=a.trigger(f,{commandName:O,cancel:!1}),h.cancel||(i.save(!1),a.trigger(O))),a._populateInsertedItem=n,k)},_getDefaultValue:function(c){var a,e=this,d=e.dataSource.schema;return d&&d.options.fields?(a=d.options.fields,b.Model.def(E(a,c+".type"),E(a,c+".def"),E(a,c+".nullable"))):""},_closeAllEditedRows:function(){var c,d,b=this,e=b.contentTable.find(".sui-editable-cell");e.length>0&&(c=e.get(0).parentNode.rowIndex,d=b.contentTable.find(".sui-update-buttons").get(0),b._cancelButtonClicked(c,a(d)))},_cancelButtonClicked:function(g,h){var c,b,e,a=this,d=a.dataSource,i=a.trigger(f,{commandName:R,cancel:!1,rowIndex:g,cell:h});if(!i.cancel){if(d.tracker&&d.tracker.changes&&d.tracker.changes.added&&d.tracker.changes.added.length>0)d.cancel(),"popup"===a.options.editing.mode&&a._removePopupWindow();else if("popup"!=a.options.editing.mode)a._putRowInViewMode(g,h);else{for(c=a.options.columns,b=0;b<c.length;b++)e=a._editing._editors[c[b].field],e&&(y(e.destroy)&&a._editing._editors[c[b].field].destroy(),delete a._editing._editors[c[b].field]);a._removePopupWindow()}a.trigger(R)}},_removePopupWindow:function(){var b=this;b._removeButtons(a(".sui-window .sui-update-buttons"),1e4),b.popupWindow.destroy(),a(".sui-modal-popup-edit-window").remove()},_getRowIndex:function(c){var b=a(c).data(ya);return e(b)?b:-1},_putRowInViewMode:function(e,n){var q,d,f,c,b=this,i=b.options,o=i.navigation,h=b.dataSource,l=b.contentTable,m=e,k=-1;if(h.group&&h.group.length>0&&"popup"!=i.editing.mode)for(f=l.find(">tbody > tr.sui-row, >tbody > tr.sui-alt-row"),d=l.find(">tbody > tr").get(e),c=0;c<f.length;c++)if(f[c]==d){m=c;break}q=h.view[m],n&&"popup"!=i.editing.mode&&b._removeButtons(n,e),d=l.find(">tbody > tr").get(e);var j=parseInt(a(d).attr("data-group-level"),10);for(o&&(k=a(d).children("td").index(b._activeCell)),b._editing._destroyRow(e),d=b._renderRow(m,b.contentTable.tbody,q,e),o&&k>-1&&(b._activeCell=a(d).children("td").eq(k),a(b._activeCell).focus()),c=0;j>c;c++)a('<td class="sui-indent-cell sui-group-intend-cell"/>').prependTo(d);if(j&&d.attr("data-group-level",j),b._editing.options.batch){var p=d.children(".sui-cell");if(b._markedCells&&b._markedCells[e]){var g,r,s=b._markedCells[e];for(c=0;c<s.length;c++)g=s[c],r=a(p[g]).html(),a(p[g]).html('<span class="sui-updated-marker"/>'+r)}}},_renderUpdateMarkers:function(f,d){var e,c,g,b=this,h=b.columns,i=b.contentTable.find(">tbody > tr").eq(d).children(".sui-cell");for(e=0;e<f.length;e++)for(c=0;c<h.length;c++)h[c].field===f[e]&&(g=a(i[c]).html(),a(i[c]).html('<span class="sui-updated-marker"/>'+g),b._markedCells?(b._markedCells[d]||(b._markedCells[d]=[]),b._markedCells[d].push(c)):(b._markedCells={},b._markedCells[d]=[],b._markedCells[d].push(c)))},_selection:function(){var a=this,b=a.options;b.selection&&(a._selectable&&a._selectable.destroy(),a._selectable=new Ya(b.selection,a))},_filtering:function(){var a=this,b=a.options;b.filtering&&b.filtering.enabled&&(a._filter&&a._filter.destroy(),a._filter=new Wa(a))},_paging:function(d){var e,c=this,f=c.element;b.ui.Pager&&d&&(Q(d)&&d instanceof b.ui.Pager?(c.pager=d,c.pager.dataSource=c.dataSource,c.pager.element.appendTo(f)):(e=a("<div/>").appendTo(f),e.addClass("sui-pager"),c.pagerWrapper=e,c.pager=new b.ui.Pager(e.get(0),l({},d,{dataSource:c.dataSource}))))},_reorder:function(){var a=this,b=a.options;b.columnReorder&&(a._columnReorder=new aa(a))},_expandCollapseDetailTemplate:function(d){var b=this,c=a(d.target).closest(".sui-row",b.contentTable);c.length||(c=a(d.target).closest(".sui-alt-row",b.contentTable)),b._toggleDetailTemplate(c)},_toggleDetailTemplate:function(c){var d,b=this,g=b.contentTable.find("tr:first").parent().children().not(".sui-detail-row"),h=V(c[0],g),i=b.dataSource.view,e=c.next(),f=b.options;e&&e.hasClass("sui-detail-row")?(e.toggle(),d=a(c.get(0).cells[0]),b._toggleClasses(d,"sui-expand-cell","sui-collapse-cell"),b._setExpandCollapseCellText(d,f.detailExpandText,f.detailCollapseText)):b._addDetailTemplate(i[h],c)},_setExpandCollapseCellText:function(a,d,e){g(e)&&(e="-"),g(d)&&(d="+");var b=this.options.detailCollapseCssClass,c=this.options.detailExpandCssClass;b=g(b)?"":" class = '"+b+"'",c=g(c)?"":" class = '"+c+"'",a.hasClass("sui-collapse-cell")?a.html("<span"+b+">"+e+"</span>"):a.hasClass("sui-expand-cell")&&a.html("<span"+c+">"+d+"</span>")},_addDetailTemplate:function(h,c){var i,b=this,d=b.options,e=a("<tr class='sui-detail-row'/>");b._canExpandCollapse()&&(i=a("<td class='sui-cell sui-indent-cell'/>"),x&&i.html("&nbsp;"),i.appendTo(e));var g=a('<td class="sui-detail-cell" colspan="'+b._getVisibleColumnCount()+'"></td>'),l=b.trigger(f,{commandName:sa,cancel:!1,detailCell:g,item:h});if(!l.cancel&&(g.appendTo(e),d.detailTemplate&&g.html(j(d.detailTemplate,h)),c?e.insertAfter(c):e.appendTo(b.contentTable.tbody),b.trigger(sa,{detailCell:g,item:h}),c)){var k=a(c.get(0).cells[0]);b._toggleClasses(k,"sui-expand-cell","sui-collapse-cell"),b._setExpandCollapseCellText(k,d.detailExpandText,d.detailCollapseText)}},_toggleClasses:function(a,b,c){a.hasClass(b)?(a.removeClass(b),a.addClass(c)):(a.removeClass(c),a.addClass(b))},_resizing:function(){var a=this;a.options.resizing&&a.options.scrolling&&(a._columnResizing=new na(a))},_initToolbar:function(){var a=this,b=a.options;b.toolbar&&(a._toolbar=new Sa(b.toolbar,a))},_initEditing:function(){var a=this,b=a.options;b.editing&&(a._buttons=[],a._editing=new Ta(b.editing,a))},_refreshOnSort:function(){this._sortingInProgress=!0,this.dataSource.read()},_dsStartHandler:function(){this.loading(!0)},_initNavigation:function(){var b=this,d=b.element,c=b._eventNS+"nav",e=".sui-headercell[tabindex], .sui-filter-cell[tabindex], .sui-cell[tabindex], .sui-footer-cell[tabindex]";b.options.navigation&&(d.addClass("sui-grid-nav").off(c).on(Ka+c,e,function(c){a(b._activeCell).attr(C,"-1"),b._activeCell=a(this),a(b._activeCell).attr(C,"0")}),b._initActiveCell(),a(b._activeCell).attr(C,"0"))},_initActiveCell:function(){var b=this;(a(b._activeCell).length<=0||!a(b._activeCell).is(":visible"))&&(b._activeCell=a(b.element).find(".sui-cell[tabindex]").first(),a(b._activeCell).length<=0&&(b._activeCell=a(b.element).find(".sui-headercell[tabindex]").first()))},_cellEditable:function(b){return a(b).attr(Y)==X?!1:a(b).hasClass("sui-editable-cell")?!0:!1},_keydown:function(h){var d,b=this,n=b.element,l=h.keyCode,j=b.options,f=j.navigation,o=j.editing,p=j.selection,m=h.ctrlKey,i=(h.shiftKey,b.pager),e=!1,g=b._cellEditable(b._activeCell);if("button"!==a(h.target).prop("tagName").toLowerCase()||l!=k.ENTER&&l!=k.SPACE){switch(l){case k.UP:f&&(g||(d=b._getNextNavCell("up"),d&&(a(d).focus(),e=!0)));break;case k.DOWN:f&&(g||(d=b._getNextNavCell("down"),d&&(a(d).focus(),e=!0)));break;case k.LEFT:f&&(g||(d=b._getNextNavCell("left"),d&&(a(d).focus(),e=!0)));break;case k.RIGHT:f&&(g||(d=b._getNextNavCell("right"),d&&(a(d).focus(),e=!0)));break;case k.HOME:f&&(g||(d=m?a(n).find(".sui-cell[tabindex], .sui-headercell[tabindex], .sui-footer-cell[tabindex]").first():b._getNextNavCell("first"),d&&(a(d).focus(),e=!0)));break;case k.END:f&&(g||(d=m?a(n).find(".sui-cell[tabindex], .sui-headercell[tabindex], .sui-footer-cell[tabindex]").last():b._getNextNavCell("last"),d&&(a(d).focus(),e=!0)));break;case k.ENTER:f&&(a(b._activeCell).hasClass("sui-cell")?o&&(g?b._updateButtonClicked(a(b._activeCell).parent().get(0).rowIndex,a(b._activeCell)):b._editing._editingTriggered(h),e=!0):a(b._activeCell).hasClass("sui-headercell")&&(a(b._activeCell).children(".sui-link").length>0&&(b.one(K,c(b.focus,b)),a(b._activeCell).children(".sui-link").first().click()),e=!0));break;case k.PAGEUP:f&&(i&&i.hasPrev()&&(b.one(K,c(b.focus,b)),b.pager.prev()),e=!0);break;case k.PAGEDOWN:f&&(i&&i.hasNext()&&(b.one(K,c(b.focus,b)),b.pager.next()),e=!0);break;case k.ESC:g&&(b.cancelEditing(),f&&a(b._activeCell).focus(),e=!0);break;case k.SPACE:f&&p&&b._selectable&&!g&&(b._selectable.elements=ea(h,b.contentTable,b.frozenContentTable),b._selectable.elements&&b._selectable._performAndProcessSelection(h),e=!0)}e&&h.preventDefault()}},_getNextNavCell:function(e){var b,c=this,d=(c.element,c._activeCell);return(!d||a(d).length<=0)&&(d=a(c.element).find('.sui-cell[tabindex="0"], .sui-headercell[tabindex="0"]').first()),"left"==e?b=c.__findPrevFocusCell(d):"right"==e?b=c.__findNextFocusCell(d):"up"==e?b=c.__findAboveFocusCell(d):"down"==e?b=c.__findBelowFocusCell(d):"first"==e?b=c.__findFirstFocusCell(d):"last"==e&&(b=c.__findLastFocusCell(d)),b&&a(b).length>0?a(b).get(0):null},__findFirstFocusCell:function(d){for(var b,c=this,a=c.__findPrevFocusCell(d);a&&a.length>0;)b=a,a=c.__findPrevFocusCell(a);return b},__findLastFocusCell:function(d){for(var b,c=this,a=c.__findNextFocusCell(d);a&&a.length>0;)b=a,a=c.__findNextFocusCell(a);return b},__findPrevFocusCell:function(c){for(var b=a(c).prev();b&&b.length>0;){if(M(b,C))return b;b=a(c).prev()}return p},__findNextFocusCell:function(c){for(var b=a(c).next();b&&b.length>0;){if(M(b,C))return b;b=a(c).next()}return p},__findAboveFocusCell:function(e){for(var b,c=this,g=a(e).closest("tr"),h=a(e).index(),f=c.headerTable.find(">thead > tr").add(c.contentTable.find(">tbody > tr")).add(c.contentTable.find(">tfoot > tr")),d=a(f).index(g);d>0;){if(b=a(a(f)[d-1]).children().eq(h),M(b,C))return b;d--}return p},__findBelowFocusCell:function(f){for(var b,c=this,g=a(f).closest("tr"),h=a(f).index(),d=c.headerTable.find(">thead > tr").add(c.contentTable.find(">tbody > tr")).add(c.contentTable.find(">tfoot > tr")),e=a(d).index(g);e<d.length-1;){if(b=a(a(d)[e+1]).children().eq(h),M(b,C))return b;e++}return p},focus:function(){var b=this;b.options.navigation?(b._initActiveCell(),a(b._activeCell).length>0?a(b._activeCell).focus():N(b.element)):N(b.element)},refresh:function(e){var d=this,h=e?e.dataSource:null,f=d._eventNS;e=b.extend([o],d.options,e),h&&(e.dataSource=h);var i,j=d.element,k=e.scrolling,l=d.pager?d.pager.options:e.paging,g=0;k&&d.contentWrapper&&(g=d.contentWrapper.get(0).scrollLeft),d._destroyInternal(),i=d.dataSource=_a.create(e.dataSource),j.attr(S,"grid").on(W+f,c(d._keydown,d)),e.editing||j.attr(Y,X),i.on(Ca+f,c(d._renderData,d)).on(Ja+f,c(d._dsStartHandler,d)),a(D).on(Ga+f,c(d._resizeHandler,d)),d._resolveColumns(e.columns),d._createWrappers(),d._createHeaderTable(),d._createContentTable(),d._initToolbar(),d._initEditing(),d._filtering(),d._paging(l),d._resizing(),d._reorder(),d._initNavigation(),d.pager||d.dataSource.read(),d._sorting(),g&&(d.contentWrapper.get(0).scrollLeft=g)},loading:function(d,e){var a=this,c=function(){a.loadingPanel&&a.loadingPanel.show()};b.ui.LoadingPanel&&(d?(a.loadingPanel||(a.loadingPanel=new b.ui.LoadingPanel(a.element.get(0))),e?c():a.loadingPanelTimeout=setTimeout(c,50)):a.loadingPanel&&(clearTimeout(a.loadingPanelTimeout),a.loadingPanelTimeout=null,a.loadingPanel.hide()))},select:function(b){var d=this,c=d._selectable;return b=J(b)?d.contentTable.find(b):a(b),b.length?(c.multiple||(c.clear(),b=b.first()),void c.select(b)):c.select()},selectedRowIndices:function(){var b=this,c=[],d=[];return b.contentTable.children("tbody").children(".sui-row, .sui-alt-row").each(function(){if(a(this).hasClass(h)){var e=b._getRowIndex(a(this));c.push(e),d.push(e>=0?b.dataSource.getDataIndex(e):e)}}),{view:c,data:d}},clearSelection:function(){this._selectable.clear()},sort:function(a,b,c){this.sorting&&this.sorting._sort(a,b,c)},_getItemRow:function(b){return a(Za(b)?this.contentTable.children("tbody").children(".sui-row, .sui-alt-row").get(b):b)},expandRow:function(d){var a=this,b=a._getItemRow(d),c=b.next();c.hasClass("sui-detail-row")?c.css(z)==s&&a._toggleDetailTemplate(b):a._toggleDetailTemplate(b)},collapseRow:function(d){var b=this,a=b._getItemRow(d),c=a.next();c.hasClass("sui-detail-row")?c.css(z)!=s&&b._toggleDetailTemplate(a):(b._toggleDetailTemplate(a),a.next().toggle())},reorderColumn:function(b,c,k){var d,g=this,e=g.element,f=g.columns,h=g.options.columns||[],l=g.headerWrapper,i="before",j=l.find(".sui-columnheader").first().find(".sui-indent-cell").length;if(b=+b,c=+c,isNaN(b)||isNaN(c)||0>b||0>c||b>f.length-1||c>f.length-1)throw new Error("Invalid index in column reorder.");b!==c&&(c>b&&(i="after"),d=f[b],!d.visible||!k&&d.locked||(d=f.splice(b,1)[0],f.splice(c,0,d),d=h.splice(b,1)[0],h.splice(c,0,d),b+=j,c+=j,e.find(".sui-gridheader col:nth-child("+(b+1)+")").add(e.find(".sui-gridheader .sui-columnheader th:nth-child("+(b+1)+")")).add(e.find(".sui-gridheader .sui-filter-row th:nth-child("+(b+1)+")")).add(e.find(".sui-gridcontent col:nth-child("+(b+1)+")")).add(e.find(".sui-gridcontent tr:not(.sui-detail-row) td:nth-child("+(b+1)+")")).each(function(){a(this).parent().children().eq(c)[i](this)})))},addRow:function(a){return this.dataSource.add(e(a)?a:{})},insertRow:function(b,a){return this.dataSource.insertView(b,e(a)?a:{})},saveChanges:function(){this.dataSource.save()},revertChanges:function(){this.dataSource.cancel()},dataItem:function(a){return this.dataSource.view[a]},editCell:function(b,c){var a=this,d=a.contentTable.find(">tbody > tr").eq(b).children("td").eq(c).get(0);a._editingInProcess=!0,a._editing._putCellInEditMode(d,b)},editRow:function(c){var b=this,d=b.contentTable.find(">tbody > tr").eq(c).get(0);b._editingInProcess=!0,b._editing._putRowInEditMode(a(d),0)},editRowPopup:function(c){var a=this;a._editingInProcess=!0,b.ui.Window&&a._initializePopupForm(c)},cancelEditing:function(){var c,d,b=this,e=b.contentTable.find(".sui-editable-cell");e.length>0&&(c=e.get(0).parentNode.rowIndex,d=b.contentTable.find(".sui-update-buttons").get(0),b._putRowInViewMode(c,a(d))),b._editingInProcess=!1},deleteRow:function(a){this.dataSource.removeAtView(a)},filter:function(){var c=this,a=c.dataSource,b=[].slice.call(arguments);return b.length>0?(a.filter=b[0],void a.read()):a.filter},group:function(b,f,c,d){var a=this,e=a.dataSource.group;e?e.splice(f,0,{field:b,order:c,aggregates:d}):(a.dataSource.group=[],a.dataSource.group.push({field:b,order:c,aggregates:d}))},ungroup:function(d){var a,b=this,c=b.dataSource.group;for(b.headerTable.thead.find(".sui-columnheader > .sui-indent-cell").remove(),a=0;a<c.length;a++)c[a].field==d&&(c.splice(a,1),0===c.length&&(b.dataSource.group=null),b.dataSource.read())},collapseGroup:function(a){for(var b=!0,c=parseInt(a.attr("data-group-level"),10);b;)if(a=a.next().css(z,s),a.next().length>0){var d=parseInt(a.next().attr("data-group-level"),10);c>=d&&a.next().hasClass("sui-group-header")&&(b=!1)}else b=!1},expandGroup:function(a){for(var b=!0,c=parseInt(a.attr("data-group-level"),10);b;){if(a=a.next().css(z,""),a.hasClass("sui-group-header")&&a.find(".sui-expand").length>0)return;if(a.next().length>0){var d=parseInt(a.next().attr("data-group-level"),10);c>=d&&a.next().hasClass("sui-group-header")&&(b=!1)}else b=!1}},_getColumnByField:function(c){var a,d=this,b=d.columns||[];for(a=0;a<b.length;a++)if(b[a].field===c)return b[a];return p},_refreshColVisibility:function(){var a,c=this,b=c.columns,d=b.length,e=!1;for(a=0;d>a;a++)if(!b[a].visible){e=!0;break}if(e)for(a=0;d>a;a++)b[a].visible?c.showColumn(b[a].field):c.hideColumn(b[a].field)},_getNextVisibleColumnRealIndex:function(c){var a,d=this,b=d.columns;for(a=c.index+1;a<b.length;a++)if(b[a].visible)return a;return-1},isHidden:function(b){var a=this._getColumnByField(b);return a?!a.visible:p},hideColumn:function(c){var b=this,d=(a(b.element),b._getColumnByField(c));d&&!d.locked&&(a(b.headerTable).find("colgroup").first().find("col").each(function(){return a(this).data(r)==c?(b._gridColumns[c].headerCol=a(this),a(this).detach(),!1):void 0}),a(b.contentTable).find("colgroup").first().find("col").each(function(){return a(this).data(r)==c?(b._gridColumns[c].contentCol=a(this),a(this).detach(),!1):void 0}),b._changeColumnVisibility(c,"hide"),d.visible=!1,b._afterColumnVisibilityChange())},showColumn:function(d){var c,e,f,g,h,b=this,i=(a(b.element),b._getColumnByField(d)),j=a(b.headerTable).find("colgroup"),k=a(b.contentTable).find("colgroup");i&&!i.locked&&(c=b._gridColumns[d],e=c.headerCol,f=c.contentCol,g=b._getNextVisibleColumnRealIndex(c),-1===g?(j.append(e),k.append(f)):(h=b.columns[g].field,j.find("col").each(function(){return a(this).data(r)==h?(a(e).insertBefore(a(this)),!1):void 0}),k.find("col").each(function(){return a(this).data(r)==h?(a(f).insertBefore(a(this)),!1):void 0})),b._changeColumnVisibility(d,"show"),c.headerCol=c.contentCol=p,i.visible=!0,b._afterColumnVisibilityChange())},_changeColumnVisibility:function(i,e){var b,d,f=this,g=a(f.element),h=a(f.headerTable).find(".sui-columnheader").first(),j=a(f.headerTable).find(".sui-filter-row").first(),c=-1;if(h.length&&a(h).children().each(function(b){return a(this).attr("data-field")==i?(c=b,!1):void 0}),!(0>c))for(a(h.find("th")[c])[e](),a(j.find("th")[c])[e](),b=g.find("> .sui-gridcontent > table > tbody > tr"),0===b.length&&(b=g.find("> .sui-gridcontent > .sui-virtualized > table > tbody > tr")),0===b.length&&(b=g.find("> .sui-gridcontent > .sui-content > table > tbody > tr")),d=0;d<b.length;d++)a(b[d].cells[c])[e]()},_afterColumnVisibilityChange:function(){var b=this,c=b._getVisibleColumnCount(),d=b.dataSource,e=d.group?d.group.length:0;a(b.contentTable).find(".sui-grid-norecords-cell, .sui-detail-cell, .sui-group-header-cell").each(function(){a(this).hasClass("sui-group-header-cell")?a(this).attr("colspan",c+e-v(a(this).parent().attr("data-group-level"))+1):a(this).attr("colspan",c)})},_getVisibleColumnFields:function(){var a,d=this,b=d.columns||[],e=b.length,c=[];for(a=0;e>a;a++)b[a].visible&&c.push(b[a].field);return c},_initFrozenCols:function(){var a,c=this,b=c.columns,d=b.length,e=!1;for(a=0;d>a;a++)if(b[a].locked){e=!0;break}if(e)for(c._initFrozenContainers(),a=0;d>a;a++)b[a].locked&&c.lockColumn(b[a].field)},_initFrozenContainers:function(){var b=this,d=b.options,e=d.scrolling;b.frozenHeaderWrapper||(b.frozenHeaderWrapper=a('<div class="sui-header-locked"/>').prependTo(e?b.headerWrapper.parent():b.headerWrapper),b.frozenHeaderTable=a('<table class="sui-table sui-non-selectable"'+(x?' cellspacing="0"':"")+'><colgroup/><thead><tr class="sui-columnheader"/>'+(d.filtering&&d.filtering.enabled?'<tr class="sui-filter-row"/>':"")+'</thead><tbody class="sui-hide"/></table>').appendTo(b.frozenHeaderWrapper)),b.frozenContentWrapper||(b.frozenContentWrapper=a('<div class="sui-content-locked"/>').prependTo(e?b.contentWrapper.parent():b.contentWrapper),b.frozenContentWrapper.height(b.frozenContentWrapper.parent().find(".sui-content").first().height()),b.frozenContentTable=a('<table class="sui-table'+(d.rowHover?" sui-hover":"")+'"'+(x?' cellspacing="0"':"")+'><colgroup/><tbody/><tfoot><tr class="sui-grid-footer"/></tfoot></table>').appendTo(b.frozenContentWrapper),b._hasDetailTemplate()&&(b._canExpandCollapse()&&b.frozenContentTable.addClass("sui-expandable"),b.frozenContentTable.on(n+b._eventNS,"> tbody > tr > .sui-expand-cell, > tbody > tr > .sui-collapse-cell",c(b._expandCollapseDetailTemplate,b))))},_destroyFrozenContainers:function(){var b=this;b.frozenHeaderWrapper&&(a(b.frozenHeaderWrapper).remove(),b.frozenHeaderWrapper=null),b.frozenContentWrapper&&(a(b.frozenContentWrapper).find(".sui-table").off(b._eventNS),a(b.frozenContentWrapper).remove(),b.frozenContentWrapper=null)},isLocked:function(b){var a=this._getColumnByField(b);return a?a.locked:p},lockColumn:function(f){var c,d,b=this,i=a(b.element),k=b.options.filtering,h=b._getColumnByField(f),e=-1,j=b._footer;if(h&&h.visible){if(a(b.headerTable).find("colgroup").first().find("col").each(function(){return a(this).data(r)==f?(a(this).appendTo(a(b.frozenHeaderTable).find("colgroup")),!1):void 0}),a(b.contentTable).find("colgroup").first().find("col").each(function(){return a(this).data(r)==f?(a(this).appendTo(a(b.frozenContentTable).find("colgroup")),!1):void 0}),a(b.headerTable).find(".sui-columnheader").children().each(function(c){return a(this).attr("data-field")==f?(e=c,a(this).appendTo(a(b.frozenHeaderTable).find(".sui-columnheader")),!1):void 0}),k&&k.enabled&&e>=0&&a(b.headerTable).find(".sui-filter-row").children().each(function(c){return a(this).attr("data-field")==f?(a(this).appendTo(a(b.frozenHeaderTable).find(".sui-filter-row")),!1):void 0}),j&&e>=0){var m=a(b.frozenContentTable).find("> tfoot > .sui-grid-footer");a(j).find(".sui-grid-footer td:eq("+e+")").appendTo(m)}if(e>=0){c=i.find("> .sui-gridcontent > table > tbody > tr"),0===c.length&&(c=i.find("> .sui-gridcontent > .sui-virtualized > table > tbody > tr")),0===c.length&&(c=i.find("> .sui-gridcontent > .sui-content > table > tbody > tr"));var g=a(b.frozenContentTable).find("tbody"),n=g.children().length>0;for(d=0;d<c.length;d++){var l=null;l=n?a(g).children()[d]:a(c[d]).clone(!0,!1).empty().appendTo(g),a(c[d].cells[e]).appendTo(l)}}h.locked=!0,b._adjustWidthsLocked(),b._adjustHeightsLocked()}},unlockColumn:function(f){var j,l,g,d,b=this,h=(a(b.element),b.options.filtering),e=b.columns,i=b._footer,k=b._getColumnByField(f),c=-1,m=-1;if(k&&k.visible){for(a(b.frozenHeaderTable).find("colgroup").first().children().each(function(){return a(this).data(r)==f?(j=a(this),c=a(this).index(),!1):void 0}),a(b.frozenContentTable).find("colgroup").first().children().each(function(){return a(this).data(r)==f?(l=a(this),m=a(this).index(),!1):void 0}),d=0;d<e.length;d++)if(e[d].field===f){d<=e.length-2&&(g=e[d+1].field);break}if(g)a(b.headerTable).find("> colgroup col").each(function(d){if(a(this).data(r)===g){if(a(j).insertBefore(a(this)),a(b.frozenHeaderTable).find(".sui-columnheader th:eq("+c+")").insertBefore(a(b.headerTable).find(".sui-columnheader th:eq("+d+")")),h&&h.enabled&&a(b.frozenHeaderTable).find(".sui-filter-row th:eq("+c+")").insertBefore(a(b.headerTable).find(".sui-filter-row th:eq("+d+")")),i){var e=a(b.frozenContentTable).find("> tfoot > .sui-grid-footer");a(e).find("td:eq("+c+")").insertBefore(a(i).find(".sui-grid-footer td:eq("+d+")"))}return!1}}),a(b.contentTable).find("> colgroup col").each(function(c){if(a(this).data(r)===g){a(l).insertBefore(a(this));var d=a(b.contentTable).find(">tbody").first().children();return a(b.frozenContentTable).find(">tbody > tr").each(function(b){a(this).find("td:eq("+m+")").insertBefore(a(d[b]).find("td:eq("+c+")"))}),!1}});else{if(a(b.headerTable).find("colgroup").append(j),a(b.contentTable).find("colgroup").append(l),a(b.frozenHeaderTable).find(".sui-columnheader th:eq("+c+")").appendTo(a(b.headerTable).find(".sui-columnheader")),h&&h.enabled&&a(b.frozenHeaderTable).find(".sui-filter-row th:eq("+c+")").appendTo(a(b.headerTable).find(".sui-filter-row")),i){var n=a(b.frozenContentTable).find("> tfoot > .sui-grid-footer");a(n).find("td:eq("+c+")").appendTo(a(i).find(".sui-grid-footer"))}var o=a(b.contentTable).find(">tbody").first().children();a(b.frozenContentTable).find(">tbody > tr").each(function(b){a(this).find("td:eq("+m+")").appendTo(a(o[b]))})}k.locked=!1,b._adjustWidthsLocked(),b._adjustHeightsLocked()}},_adjustWidthsLocked:function(){var b=this;b.frozenHeaderWrapper&&(a(b.headerWrapper).parent().css(i.isRtl(b.element)?"padding-left":"padding-right",0),a(b.headerWrapper).outerWidth(a(b.headerWrapper).parent().innerWidth()-a(b.frozenHeaderWrapper).outerWidth()-i.scrollbar()),a(b.contentWrapper).outerWidth(a(b.contentWrapper).parent().innerWidth()-a(b.frozenContentWrapper).outerWidth()-1))},_adjustHeightsLocked:function(w){var k,j,d,o,f,g,h,i,e,n,l,m,b,c=this,u=c.options.filtering,t=c._footer;if(c.frozenHeaderWrapper){for(f=a(c.frozenHeaderTable).find("tr").first(),f.height("auto"),g=v(f.height()),h=a(c.headerTable).find("tr").first(),h.height("auto"),i=v(h.height()),g>i?(f.height(g),h.height(g)):i>g&&(f.height(i),h.height(i)),u&&u.enabled&&(e=a(c.frozenHeaderTable).find("tr.sui-filter-row").first(),e.height("auto"),n=v(e.height()),l=a(c.headerTable).find("tr.sui-filter-row").first(),l.height("auto"),m=v(l.height()),n>m?(e.height(n),l.height(n)):m>n&&(e.height(m),l.height(m))),k=a(c.frozenContentTable).find("tbody").first().children(),d=a(c.contentTable).find("> tbody").children(),b=0;b<d.length;b++)a(k[b]).height("auto"),j=v(a(k[b]).height()),a(d[b]).height("auto"),o=v(a(d[b]).height()),j>o?(a(k[b]).height(j),a(d[b]).height(j)):o>j&&(a(k[b]).height(o),a(d[b]).height(o));if(t){var q,p,s=a(c.frozenContentTable).find("> tfoot > .sui-grid-footer"),r=a(t).find(".sui-grid-footer").first();s.height("auto"),q=v(s.height()),r.height("auto"),p=v(r.height()),q>p?(s.height(q),r.height(q)):p>q&&(s.height(p),r.height(p))}w&&c._initScrolling()}}});pa.defaults=ma,b.ui.plugin("Grid",pa)}(jQuery,shield,this);