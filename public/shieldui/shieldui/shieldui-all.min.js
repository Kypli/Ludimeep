/* Shield UI 1.7.43 Trial Version | Copyright 2013-2021 Shield UI Ltd. | http://www.shieldui.com/eula | Expires on Mon, 21 Feb 2022 03:00:30 GMT */
function f(e){this.ok=!1,e=(e=(e="#"==e.charAt(0)?e.substr(1,6):e).replace(/ /g,"")).toLowerCase();var t,u={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(t in u)e==t&&(e=u[t]);for(var c=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],n=0;n<c.length;n++){var i=c[n].re,r=c[n].process,i=i.exec(e);i&&(channels=r(i),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:255<this.r?255:this.r,this.g=this.g<0||isNaN(this.g)?0:255<this.g?255:this.g,this.b=this.b<0||isNaN(this.b)?0:255<this.b?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return"#"+(e=1==e.length?"0"+e:e)+(t=1==t.length?"0"+t:t)+(n=1==n.length?"0"+n:n)},this.getHelpXML=function(){for(var e,t=new Array,n=0;n<c.length;n++)for(var i=c[n].example,r=0;r<i.length;r++)t[t.length]=i[r];for(e in u)t[t.length]=e;var a=document.createElement("ul");a.setAttribute("id","rgbcolor-examples");for(n=0;n<t.length;n++)try{var s=document.createElement("li"),o=new f(t[n]),l=document.createElement("div");l.style.cssText="margin: 3px; border: 1px solid black; background:"+o.toHex()+"; color:"+o.toHex(),l.appendChild(document.createTextNode("test"));var h=document.createTextNode(" "+t[n]+" -> "+o.toRGB()+" -> "+o.toHex());s.appendChild(l),s.appendChild(h),a.appendChild(s)}catch(e){}return a}}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(u){var c,f,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],t="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],d=Array.prototype.slice;if(u.event.fixHooks)for(var n=e.length;n;)u.event.fixHooks[e[--n]]=u.event.mouseHooks;var p=u.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],i,!1);else this.onmousewheel=i;u.data(this,"mousewheel-line-height",p.getLineHeight(this)),u.data(this,"mousewheel-page-height",p.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],i,!1);else this.onmousewheel=null;u.removeData(this,"mousewheel-line-height"),u.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var t=u(e),e=t["offsetParent"in u.fn?"offsetParent":"parent"]();return e.length||(e=u("body")),parseInt(e.css("fontSize"),10)||parseInt(t.css("fontSize"),10)||16},getPageHeight:function(e){return u(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function i(e){var t,n=e||window.event,i=d.call(arguments,1),r=0,a=0,s=0,o=0,l=0,h=0;if((e=u.event.fix(n)).type="mousewheel","detail"in n&&(s=-1*n.detail),"wheelDelta"in n&&(s=n.wheelDelta),"wheelDeltaY"in n&&(s=n.wheelDeltaY),"wheelDeltaX"in n&&(a=-1*n.wheelDeltaX),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(a=-1*s,s=0),r=0===s?a:s,"deltaY"in n&&(r=s=-1*n.deltaY),"deltaX"in n&&(a=n.deltaX,0===s&&(r=-1*a)),0!==s||0!==a)return 1===n.deltaMode?(r*=t=u.data(this,"mousewheel-line-height"),s*=t,a*=t):2===n.deltaMode&&(r*=t=u.data(this,"mousewheel-page-height"),s*=t,a*=t),o=Math.max(Math.abs(s),Math.abs(a)),(!f||o<f)&&m(n,f=o)&&(f/=40),m(n,o)&&(r/=40,a/=40,s/=40),r=Math[1<=r?"floor":"ceil"](r/f),a=Math[1<=a?"floor":"ceil"](a/f),s=Math[1<=s?"floor":"ceil"](s/f),p.settings.normalizeOffset&&this.getBoundingClientRect&&(o=this.getBoundingClientRect(),l=e.clientX-o.left,h=e.clientY-o.top),e.deltaX=a,e.deltaY=s,e.deltaFactor=f,e.offsetX=l,e.offsetY=h,e.deltaMode=0,i.unshift(e,r,a,s),c&&clearTimeout(c),c=setTimeout(g,200),(u.event.dispatch||u.event.handle).apply(this,i)}function g(){f=null}function m(e,t){return p.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}u.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(){this.canvg=function(e,t,n){if(null!=e||null!=t||null!=n){n=n||{},null!=(e="string"==typeof e?document.getElementById(e):e).svg&&e.svg.stop();var _,r=((_={FRAMERATE:30,MAX_VIRTUAL_PIXELS:3e4,init:function(e){_.Definitions={},_.Styles={},_.Animations=[],_.Images=[],_.ctx=e,_.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(e,t){this.viewPorts.push({width:e,height:t})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(e){return null!=e&&"number"==typeof e?e:"x"==e?this.width():"y"==e?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}}}).init(),_.ImagesLoaded=function(){for(var e=0;e<_.Images.length;e++)if(!_.Images[e].loaded)return!1;return!0},_.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},_.compressSpaces=function(e){return e.replace(/[\s\r\t\n]+/gm," ")},_.ajax=function(e){var t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return t?(t.open("GET",e,!1),t.send(null),t.responseText):null},_.parseXml=function(e){if(window.DOMParser)return(new DOMParser).parseFromString(e,"text/xml");e=e.replace(/<!DOCTYPE svg[^>]*>/,"");var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t},_.Property=function(e,t){this.name=e,this.value=t},_.Property.prototype.getValue=function(){return this.value},_.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},_.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var e=parseFloat(this.value);return(this.value+"").match(/%$/)&&(e/=100),e},_.Property.prototype.valueOrDefault=function(e){return this.hasValue()?this.value:e},_.Property.prototype.numValueOrDefault=function(e){return this.hasValue()?this.numValue():e},_.Property.prototype.addOpacity=function(e){var t,n=this.value;return null==e||""==e||"string"!=typeof this.value||(t=new f(this.value)).ok&&(n="rgba("+t.r+", "+t.g+", "+t.b+", "+e+")"),new _.Property(this.name,n)},_.Property.prototype.getDefinition=function(){var e=this.value.match(/#([^\)']+)/);return e=(e=e&&e[1])||this.value,_.Definitions[e]},_.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},_.Property.prototype.getFillStyleDefinition=function(e,t){var n=this.getDefinition();return null!=n&&n.createGradient?n.createGradient(_.ctx,e,t):null!=n&&n.createPattern?n.createPattern(_.ctx,e):null},_.Property.prototype.getDPI=function(e){return 96},_.Property.prototype.getEM=function(e){var t=12,n=new _.Property("fontSize",_.Font.Parse(_.ctx.font).fontSize);return t=n.hasValue()?n.toPixels(e):t},_.Property.prototype.getUnits=function(){return(this.value+"").replace(/[0-9\.\-]/g,"")},_.Property.prototype.toPixels=function(e,t){if(!this.hasValue())return 0;var n=this.value+"";if(n.match(/em$/))return this.numValue()*this.getEM(e);if(n.match(/ex$/))return this.numValue()*this.getEM(e)/2;if(n.match(/px$/))return this.numValue();if(n.match(/pt$/))return this.numValue()*this.getDPI(e)*(1/72);if(n.match(/pc$/))return 15*this.numValue();if(n.match(/cm$/))return this.numValue()*this.getDPI(e)/2.54;if(n.match(/mm$/))return this.numValue()*this.getDPI(e)/25.4;if(n.match(/in$/))return this.numValue()*this.getDPI(e);if(n.match(/%$/))return this.numValue()*_.ViewPort.ComputeSize(e);n=this.numValue();return t&&n<1?n*_.ViewPort.ComputeSize(e):n},_.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(/s$/)?1e3*this.numValue():(e.match(/ms$/),this.numValue())},_.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(/deg$/)?this.numValue()*(Math.PI/180):e.match(/grad$/)?this.numValue()*(Math.PI/200):e.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)},_.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(e,t,n,i,r,a){a=null!=a?this.Parse(a):this.CreateFont("","","","","",_.ctx.font);return{fontFamily:r||a.fontFamily,fontSize:i||a.fontSize,fontStyle:e||a.fontStyle,fontWeight:n||a.fontWeight,fontVariant:t||a.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var s=this;this.Parse=function(e){for(var t={},n=_.trim(_.compressSpaces(e||"")).split(" "),i={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},r="",a=0;a<n.length;a++)i.fontStyle||-1==s.Styles.indexOf(n[a])?i.fontVariant||-1==s.Variants.indexOf(n[a])?i.fontWeight||-1==s.Weights.indexOf(n[a])?i.fontSize?"inherit"!=n[a]&&(r+=n[a]):("inherit"!=n[a]&&(t.fontSize=n[a].split("/")[0]),i.fontStyle=i.fontVariant=i.fontWeight=i.fontSize=!0):("inherit"!=n[a]&&(t.fontWeight=n[a]),i.fontStyle=i.fontVariant=i.fontWeight=!0):("inherit"!=n[a]&&(t.fontVariant=n[a]),i.fontStyle=i.fontVariant=!0):("inherit"!=n[a]&&(t.fontStyle=n[a]),i.fontStyle=!0);return""!=r&&(t.fontFamily=r),t}},_.ToNumberArray=function(e){for(var t=_.trim(_.compressSpaces((e||"").replace(/,/g," "))).split(" "),n=0;n<t.length;n++)t[n]=parseFloat(t[n]);return t},_.Point=function(e,t){this.x=e,this.y=t},_.Point.prototype.angleTo=function(e){return Math.atan2(e.y-this.y,e.x-this.x)},_.Point.prototype.applyTransform=function(e){var t=this.x*e[0]+this.y*e[2]+e[4],e=this.x*e[1]+this.y*e[3]+e[5];this.x=t,this.y=e},_.CreatePoint=function(e){e=_.ToNumberArray(e);return new _.Point(e[0],e[1])},_.CreatePath=function(e){for(var t=_.ToNumberArray(e),n=[],i=0;i<t.length;i+=2)n.push(new _.Point(t[i],t[i+1]));return n},_.BoundingBox=function(e,t,n,r){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(e,t){null!=e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),null!=t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},this.addX=function(e){this.addPoint(e,null)},this.addY=function(e){this.addPoint(null,e)},this.addBoundingBox=function(e){this.addPoint(e.x1,e.y1),this.addPoint(e.x2,e.y2)},this.addQuadraticCurve=function(e,t,n,i,r,a){n=e+2/3*(n-e),i=t+2/3*(i-t);this.addBezierCurve(e,t,n,n+1/3*(r-e),i,i+1/3*(a-t),r,a)},this.addBezierCurve=function(e,t,n,r,a,s,o,l){var h=[e,t],u=[n,r],c=[a,s],f=[o,l];for(this.addPoint(h[0],h[1]),this.addPoint(f[0],f[1]),i=0;i<=1;i++){function d(e){return Math.pow(1-e,3)*h[i]+3*Math.pow(1-e,2)*e*u[i]+3*(1-e)*Math.pow(e,2)*c[i]+Math.pow(e,3)*f[i]}var p,g,m=6*h[i]-12*u[i]+6*c[i],x=-3*h[i]+9*u[i]-9*c[i]+3*f[i],y=3*u[i]-3*h[i];0!=x?(p=Math.pow(m,2)-4*y*x)<0||(0<(g=(-m+Math.sqrt(p))/(2*x))&&g<1&&(0==i&&this.addX(d(g)),1==i&&this.addY(d(g))),0<(x=(-m-Math.sqrt(p))/(2*x))&&x<1&&(0==i&&this.addX(d(x)),1==i&&this.addY(d(x)))):0==m||0<(m=-y/m)&&m<1&&(0==i&&this.addX(d(m)),1==i&&this.addY(d(m)))}},this.isPointInBox=function(e,t){return this.x1<=e&&e<=this.x2&&this.y1<=t&&t<=this.y2},this.addPoint(e,t),this.addPoint(n,r)},_.Transform=function(e){var t=this;this.Type={},this.Type.translate=function(e){this.p=_.CreatePoint(e),this.apply=function(e){e.translate(this.p.x||0,this.p.y||0)},this.applyToPoint=function(e){e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(e){e=_.ToNumberArray(e);this.angle=new _.Property("angle",e[0]),this.cx=e[1]||0,this.cy=e[2]||0,this.apply=function(e){e.translate(this.cx,this.cy),e.rotate(this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.applyToPoint=function(e){var t=this.angle.toRadians();e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),e.applyTransform([Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0]),e.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(e){this.p=_.CreatePoint(e),this.apply=function(e){e.scale(this.p.x||1,this.p.y||this.p.x||1)},this.applyToPoint=function(e){e.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(e){this.m=_.ToNumberArray(e),this.apply=function(e){e.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.applyToPoint=function(e){e.applyTransform(this.m)}},this.Type.SkewBase=function(e){this.base=t.Type.matrix,this.base(e),this.angle=new _.Property("angle",e)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(e){this.base=t.Type.SkewBase,this.base(e),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(e){this.base=t.Type.SkewBase,this.base(e),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].apply(e)},this.applyToPoint=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].applyToPoint(e)};for(var n=_.trim(_.compressSpaces(e)).replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),i=0;i<n.length;i++){var r=n[i].split("(")[0],a=n[i].split("(")[1].replace(")",""),a=new this.Type[r](a);a.type=r,this.transforms.push(a)}},_.AspectRatio=function(e,t,n,i,r,a,s,o,l,h){var u=(t=(t=_.compressSpaces(t)).replace(/^defer\s/,"")).split(" ")[0]||"xMidYMid",c=t.split(" ")[1]||"meet",f=n/i,d=r/a,p=Math.min(f,d),t=Math.max(f,d);"meet"==c&&(i*=p,a*=p),"slice"==c&&(i*=t,a*=t),l=new _.Property("refX",l),h=new _.Property("refY",h),l.hasValue()&&h.hasValue()?e.translate(-p*l.toPixels("x"),-p*h.toPixels("y")):(u.match(/^xMid/)&&("meet"==c&&p==d||"slice"==c&&t==d)&&e.translate(n/2-i/2,0),u.match(/YMid$/)&&("meet"==c&&p==f||"slice"==c&&t==f)&&e.translate(0,r/2-a/2),u.match(/^xMax/)&&("meet"==c&&p==d||"slice"==c&&t==d)&&e.translate(n-i,0),u.match(/YMax$/)&&("meet"==c&&p==f||"slice"==c&&t==f)&&e.translate(0,r-a)),"none"==u?e.scale(f,d):"meet"==c?e.scale(p,p):"slice"==c&&e.scale(t,t),e.translate(null==s?0:-s,null==o?0:-o)},_.Element={},_.EmptyProperty=new _.Property("EMPTY",""),_.Element.ElementBase=function(e){if(this.attributes={},this.styles={},this.children=[],this.attribute=function(e,t){var n=this.attributes[e];return null!=n?n:(1==t&&(n=new _.Property(e,""),this.attributes[e]=n),n||_.EmptyProperty)},this.style=function(e,t){var n=this.styles[e];if(null!=n)return n;var i=this.attribute(e);if(null!=i&&i.hasValue())return this.styles[e]=i;i=this.parent;if(null!=i){i=i.style(e);if(null!=i&&i.hasValue())return i}return 1==t&&(n=new _.Property(e,""),this.styles[e]=n),n||_.EmptyProperty},this.render=function(e){var t;"none"!=this.style("display").value&&"hidden"!=this.attribute("visibility").value&&(e.save(),this.attribute("mask").hasValue()?null!=(t=this.attribute("mask").getDefinition())&&t.apply(e,this):this.style("filter").hasValue()?null!=(t=this.style("filter").getDefinition())&&t.apply(e,this):(this.setContext(e),this.renderChildren(e),this.clearContext(e)),e.restore())},this.setContext=function(e){},this.clearContext=function(e){},this.renderChildren=function(e){for(var t=0;t<this.children.length;t++)this.children[t].render(e)},this.addChild=function(e,t){var n=e;((n=t?_.CreateElement(e):n).parent=this).children.push(n)},null!=e&&1==e.nodeType){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];1==n.nodeType&&this.addChild(n,!0),this.captureTextNodes&&3==n.nodeType&&this.addChild(new _.Element.tspan(n),!1)}for(t=0;t<e.attributes.length;t++){var i=e.attributes[t];this.attributes[i.nodeName]=new _.Property(i.nodeName,i.nodeValue)}if(null!=(l=_.Styles[e.nodeName]))for(var r in l)this.styles[r]=l[r];if(this.attribute("class").hasValue())for(var a=_.compressSpaces(this.attribute("class").value).split(" "),s=0;s<a.length;s++){if(null!=(l=_.Styles["."+a[s]]))for(var r in l)this.styles[r]=l[r];if(null!=(l=_.Styles[e.nodeName+"."+a[s]]))for(var r in l)this.styles[r]=l[r]}if(this.attribute("id").hasValue())if(null!=(l=_.Styles["#"+this.attribute("id").value]))for(var r in l)this.styles[r]=l[r];if(this.attribute("style").hasValue())for(var o,l=this.attribute("style").value.split(";"),t=0;t<l.length;t++)""!=_.trim(l[t])&&(o=l[t].split(":"),r=_.trim(o[0]),o=_.trim(o[1]),this.styles[r]=new _.Property(r,o));this.attribute("id").hasValue()&&null==_.Definitions[this.attribute("id").value]&&(_.Definitions[this.attribute("id").value]=this)}},_.Element.RenderedElementBase=function(e){this.base=_.Element.ElementBase,this.base(e),this.setContext=function(e){var t,n,i,r;this.style("fill").isUrlDefinition()?null!=(n=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity")))&&(e.fillStyle=n):this.style("fill").hasValue()&&("currentColor"==(t=this.style("fill")).value&&(t.value=this.style("color").value),e.fillStyle="none"==t.value?"rgba(0,0,0,0)":t.value),this.style("fill-opacity").hasValue()&&(t=(t=new _.Property("fill",e.fillStyle)).addOpacity(this.style("fill-opacity").value),e.fillStyle=t.value),this.style("stroke").isUrlDefinition()?null!=(n=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity")))&&(e.strokeStyle=n):this.style("stroke").hasValue()&&("currentColor"==(i=this.style("stroke")).value&&(i.value=this.style("color").value),e.strokeStyle="none"==i.value?"rgba(0,0,0,0)":i.value),this.style("stroke-opacity").hasValue()&&(i=(i=new _.Property("stroke",e.strokeStyle)).addOpacity(this.style("stroke-opacity").value),e.strokeStyle=i.value),this.style("stroke-width").hasValue()&&(r=this.style("stroke-width").toPixels(),e.lineWidth=0==r?.001:r),this.style("stroke-linecap").hasValue()&&(e.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(e.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(e.miterLimit=this.style("stroke-miterlimit").value),void 0!==e.font&&(e.font=_.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.attribute("transform").hasValue()&&new _.Transform(this.attribute("transform").value).apply(e),!this.attribute("clip-path").hasValue()||null!=(r=this.attribute("clip-path").getDefinition())&&r.apply(e),this.style("opacity").hasValue()&&(e.globalAlpha=this.style("opacity").numValue())}},_.Element.RenderedElementBase.prototype=new _.Element.ElementBase,_.Element.PathElementBase=function(e){this.base=_.Element.RenderedElementBase,this.base(e),this.path=function(e){return null!=e&&e.beginPath(),new _.BoundingBox},this.renderChildren=function(e){this.path(e),_.Mouse.checkPath(this,e),""!=e.fillStyle&&e.fill(),""!=e.strokeStyle&&e.stroke();var t=this.getMarkers();if(null!=t){if(this.style("marker-start").isUrlDefinition()&&(n=this.style("marker-start").getDefinition()).render(e,t[0][0],t[0][1]),this.style("marker-mid").isUrlDefinition())for(var n=this.style("marker-mid").getDefinition(),i=1;i<t.length-1;i++)n.render(e,t[i][0],t[i][1]);this.style("marker-end").isUrlDefinition()&&(n=this.style("marker-end").getDefinition()).render(e,t[t.length-1][0],t[t.length-1][1])}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},_.Element.PathElementBase.prototype=new _.Element.RenderedElementBase,_.Element.svg=function(e){this.base=_.Element.RenderedElementBase,this.base(e),this.baseClearContext=this.clearContext,this.clearContext=function(e){this.baseClearContext(e),_.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,this.baseSetContext(e),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),e.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var t,n,i,r=_.ViewPort.width(),a=_.ViewPort.height();this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),void 0===this.root&&(r=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y"),n=i=0,this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(i=-this.attribute("refX").toPixels("x"),n=-this.attribute("refY").toPixels("y")),e.beginPath(),e.moveTo(i,n),e.lineTo(r,n),e.lineTo(r,a),e.lineTo(i,a),e.closePath(),e.clip()),_.ViewPort.SetCurrent(r,a),this.attribute("viewBox").hasValue()&&(n=(t=_.ToNumberArray(this.attribute("viewBox").value))[0],i=t[1],r=t[2],a=t[3],_.AspectRatio(e,this.attribute("preserveAspectRatio").value,_.ViewPort.width(),r,_.ViewPort.height(),a,n,i,this.attribute("refX").value,this.attribute("refY").value),_.ViewPort.RemoveCurrent(),_.ViewPort.SetCurrent(t[2],t[3]))}},_.Element.svg.prototype=new _.Element.RenderedElementBase,_.Element.rect=function(e){this.base=_.Element.PathElementBase,this.base(e),this.path=function(e){var t=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y"),a=this.attribute("rx").toPixels("x"),s=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(s=a),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(a=s),a=Math.min(a,i/2),s=Math.min(s,r/2),null!=e&&(e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+i-a,n),e.quadraticCurveTo(t+i,n,t+i,n+s),e.lineTo(t+i,n+r-s),e.quadraticCurveTo(t+i,n+r,t+i-a,n+r),e.lineTo(t+a,n+r),e.quadraticCurveTo(t,n+r,t,n+r-s),e.lineTo(t,n+s),e.quadraticCurveTo(t,n,t+a,n),e.closePath()),new _.BoundingBox(t,n,t+i,n+r)}},_.Element.rect.prototype=new _.Element.PathElementBase,_.Element.circle=function(e){this.base=_.Element.PathElementBase,this.base(e),this.path=function(e){var t=this.attribute("cx").toPixels("x"),n=this.attribute("cy").toPixels("y"),i=this.attribute("r").toPixels();return null!=e&&(e.beginPath(),e.arc(t,n,i,0,2*Math.PI,!0),e.closePath()),new _.BoundingBox(t-i,n-i,t+i,n+i)}},_.Element.circle.prototype=new _.Element.PathElementBase,_.Element.ellipse=function(e){this.base=_.Element.PathElementBase,this.base(e),this.path=function(e){var t=(Math.sqrt(2)-1)/3*4,n=this.attribute("rx").toPixels("x"),i=this.attribute("ry").toPixels("y"),r=this.attribute("cx").toPixels("x"),a=this.attribute("cy").toPixels("y");return null!=e&&(e.beginPath(),e.moveTo(r,a-i),e.bezierCurveTo(r+t*n,a-i,r+n,a-t*i,r+n,a),e.bezierCurveTo(r+n,a+t*i,r+t*n,a+i,r,a+i),e.bezierCurveTo(r-t*n,a+i,r-n,a+t*i,r-n,a),e.bezierCurveTo(r-n,a-t*i,r-t*n,a-i,r,a-i),e.closePath()),new _.BoundingBox(r-n,a-i,r+n,a+i)}},_.Element.ellipse.prototype=new _.Element.PathElementBase,_.Element.line=function(e){this.base=_.Element.PathElementBase,this.base(e),this.getPoints=function(){return[new _.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new _.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(e){var t=this.getPoints();return null!=e&&(e.beginPath(),e.moveTo(t[0].x,t[0].y),e.lineTo(t[1].x,t[1].y)),new _.BoundingBox(t[0].x,t[0].y,t[1].x,t[1].y)},this.getMarkers=function(){var e=this.getPoints(),t=e[0].angleTo(e[1]);return[[e[0],t],[e[1],t]]}},_.Element.line.prototype=new _.Element.PathElementBase,_.Element.polyline=function(e){this.base=_.Element.PathElementBase,this.base(e),this.points=_.CreatePath(this.attribute("points").value),this.path=function(e){var t=new _.BoundingBox(this.points[0].x,this.points[0].y);null!=e&&(e.beginPath(),e.moveTo(this.points[0].x,this.points[0].y));for(var n=1;n<this.points.length;n++)t.addPoint(this.points[n].x,this.points[n].y),null!=e&&e.lineTo(this.points[n].x,this.points[n].y);return t},this.getMarkers=function(){for(var e=[],t=0;t<this.points.length-1;t++)e.push([this.points[t],this.points[t].angleTo(this.points[t+1])]);return e.push([this.points[this.points.length-1],e[e.length-1][1]]),e}},_.Element.polyline.prototype=new _.Element.PathElementBase,_.Element.polygon=function(e){this.base=_.Element.polyline,this.base(e),this.basePath=this.path,this.path=function(e){var t=this.basePath(e);return null!=e&&(e.lineTo(this.points[0].x,this.points[0].y),e.closePath()),t}},_.Element.polygon.prototype=new _.Element.polyline,_.Element.path=function(e){this.base=_.Element.PathElementBase,this.base(e);e=this.attribute("d").value;e=(e=(e=(e=(e=(e=(e=(e=e.replace(/,/gm," ")).replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2")).replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2")).replace(/(\.[0-9]*)(\.)/gm,"$1 $2")).replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),e=_.compressSpaces(e),e=_.trim(e),this.PathParser=new function(e){this.tokens=e.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new _.Point(0,0),this.control=new _.Point(0,0),this.current=new _.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return!!this.isEnd()||null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var e=new _.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(e)},this.getAsControlPoint=function(){var e=this.getPoint();return this.control=e},this.getAsCurrentPoint=function(){var e=this.getPoint();return this.current=e},this.getReflectedControlPoint=function(){return"c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()?this.current:new _.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y)},this.makeAbsolute=function(e){return this.isRelativeCommand()&&(e.x+=this.current.x,e.y+=this.current.y),e},this.addMarker=function(e,t,n){null!=n&&0<this.angles.length&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(n)),this.addMarkerAngle(e,null==t?null:t.angleTo(e))},this.addMarkerAngle=function(e,t){this.points.push(e),this.angles.push(t)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var e=0;e<this.angles.length;e++)if(null==this.angles[e])for(var t=e+1;t<this.angles.length;t++)if(null!=this.angles[t]){this.angles[e]=this.angles[t];break}return this.angles}}(e),this.path=function(e){var t=this.PathParser;t.reset();var n=new _.BoundingBox;for(null!=e&&e.beginPath();!t.isEnd();)switch(t.nextCommand(),t.command){case"M":case"m":var i=t.getAsCurrentPoint();for(t.addMarker(i),n.addPoint(i.x,i.y),null!=e&&e.moveTo(i.x,i.y),t.start=t.current;!t.isCommandOrEnd();){i=t.getAsCurrentPoint();t.addMarker(i,t.start),n.addPoint(i.x,i.y),null!=e&&e.lineTo(i.x,i.y)}break;case"L":case"l":for(;!t.isCommandOrEnd();){var r=t.current,i=t.getAsCurrentPoint();t.addMarker(i,r),n.addPoint(i.x,i.y),null!=e&&e.lineTo(i.x,i.y)}break;case"H":case"h":for(;!t.isCommandOrEnd();){var a=new _.Point((t.isRelativeCommand()?t.current.x:0)+t.getScalar(),t.current.y);t.addMarker(a,t.current),t.current=a,n.addPoint(t.current.x,t.current.y),null!=e&&e.lineTo(t.current.x,t.current.y)}break;case"V":case"v":for(;!t.isCommandOrEnd();){a=new _.Point(t.current.x,(t.isRelativeCommand()?t.current.y:0)+t.getScalar());t.addMarker(a,t.current),t.current=a,n.addPoint(t.current.x,t.current.y),null!=e&&e.lineTo(t.current.x,t.current.y)}break;case"C":case"c":for(;!t.isCommandOrEnd();){var s=t.current,o=t.getPoint(),l=t.getAsControlPoint(),h=t.getAsCurrentPoint();t.addMarker(h,l,o),n.addBezierCurve(s.x,s.y,o.x,o.y,l.x,l.y,h.x,h.y),null!=e&&e.bezierCurveTo(o.x,o.y,l.x,l.y,h.x,h.y)}break;case"S":case"s":for(;!t.isCommandOrEnd();){s=t.current,o=t.getReflectedControlPoint(),l=t.getAsControlPoint(),h=t.getAsCurrentPoint();t.addMarker(h,l,o),n.addBezierCurve(s.x,s.y,o.x,o.y,l.x,l.y,h.x,h.y),null!=e&&e.bezierCurveTo(o.x,o.y,l.x,l.y,h.x,h.y)}break;case"Q":case"q":for(;!t.isCommandOrEnd();){s=t.current,l=t.getAsControlPoint(),h=t.getAsCurrentPoint();t.addMarker(h,l,l),n.addQuadraticCurve(s.x,s.y,l.x,l.y,h.x,h.y),null!=e&&e.quadraticCurveTo(l.x,l.y,h.x,h.y)}break;case"T":case"t":for(;!t.isCommandOrEnd();){s=t.current,l=t.getReflectedControlPoint();t.control=l;h=t.getAsCurrentPoint();t.addMarker(h,l,l),n.addQuadraticCurve(s.x,s.y,l.x,l.y,h.x,h.y),null!=e&&e.quadraticCurveTo(l.x,l.y,h.x,h.y)}break;case"A":case"a":for(;!t.isCommandOrEnd();){var s=t.current,u=t.getScalar(),c=t.getScalar(),f=t.getScalar()*(Math.PI/180),d=t.getScalar(),p=t.getScalar(),h=t.getAsCurrentPoint(),g=new _.Point(Math.cos(f)*(s.x-h.x)/2+Math.sin(f)*(s.y-h.y)/2,-Math.sin(f)*(s.x-h.x)/2+Math.cos(f)*(s.y-h.y)/2),m=Math.pow(g.x,2)/Math.pow(u,2)+Math.pow(g.y,2)/Math.pow(c,2);1<m&&(u*=Math.sqrt(m),c*=Math.sqrt(m));var x=(d==p?-1:1)*Math.sqrt((Math.pow(u,2)*Math.pow(c,2)-Math.pow(u,2)*Math.pow(g.y,2)-Math.pow(c,2)*Math.pow(g.x,2))/(Math.pow(u,2)*Math.pow(g.y,2)+Math.pow(c,2)*Math.pow(g.x,2)));isNaN(x)&&(x=0);var y=new _.Point(x*u*g.y/c,x*-c*g.x/u),v=new _.Point((s.x+h.x)/2+Math.cos(f)*y.x-Math.sin(f)*y.y,(s.y+h.y)/2+Math.sin(f)*y.x+Math.cos(f)*y.y),b=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},w=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(b(e)*b(t))},m=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(w(e,t))},d=m([1,0],[(g.x-y.x)/u,(g.y-y.y)/c]),x=[(g.x-y.x)/u,(g.y-y.y)/c],g=[(-g.x-y.x)/u,(-g.y-y.y)/c],y=m(x,g);w(x,g)<=-1&&(y=Math.PI);m=1-p?1:-1,x=d+(y=1<=w(x,g)?0:y)/2*m,g=new _.Point(v.x+u*Math.cos(x),v.y+c*Math.sin(x));t.addMarkerAngle(g,x-m*Math.PI/2),t.addMarkerAngle(h,x-m*Math.PI),n.addPoint(h.x,h.y),null!=e&&(w=c<u?u:c,m=c<u?1:u/c,u=c<u?c/u:1,e.translate(v.x,v.y),e.rotate(f),e.scale(m,u),e.arc(0,0,w,d,d+y,1-p),e.scale(1/m,1/u),e.rotate(-f),e.translate(-v.x,-v.y))}break;case"Z":case"z":null!=e&&e.closePath(),t.current=t.start}return n},this.getMarkers=function(){for(var e=this.PathParser.getMarkerPoints(),t=this.PathParser.getMarkerAngles(),n=[],i=0;i<e.length;i++)n.push([e[i],t[i]]);return n}},_.Element.path.prototype=new _.Element.PathElementBase,_.Element.pattern=function(e){this.base=_.Element.ElementBase,this.base(e),this.createPattern=function(e,t){var n=this.attribute("width").toPixels("x",!0),i=this.attribute("height").toPixels("y",!0),r=new _.Element.svg;r.attributes.viewBox=new _.Property("viewBox",this.attribute("viewBox").value),r.attributes.width=new _.Property("width",n+"px"),r.attributes.height=new _.Property("height",i+"px"),r.attributes.transform=new _.Property("transform",this.attribute("patternTransform").value),r.children=this.children;var a=document.createElement("canvas");a.width=n,a.height=i;var s=a.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&s.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var o=-1;o<=1;o++)for(var l=-1;l<=1;l++)s.save(),s.translate(o*a.width,l*a.height),r.render(s),s.restore();return e.createPattern(a,"repeat")}},_.Element.pattern.prototype=new _.Element.ElementBase,_.Element.marker=function(e){this.base=_.Element.ElementBase,this.base(e),this.baseRender=this.render,this.render=function(e,t,n){e.translate(t.x,t.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(n),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(e.lineWidth,e.lineWidth),e.save();var i=new _.Element.svg;i.attributes.viewBox=new _.Property("viewBox",this.attribute("viewBox").value),i.attributes.refX=new _.Property("refX",this.attribute("refX").value),i.attributes.refY=new _.Property("refY",this.attribute("refY").value),i.attributes.width=new _.Property("width",this.attribute("markerWidth").value),i.attributes.height=new _.Property("height",this.attribute("markerHeight").value),i.attributes.fill=new _.Property("fill",this.attribute("fill").valueOrDefault("black")),i.attributes.stroke=new _.Property("stroke",this.attribute("stroke").valueOrDefault("none")),i.children=this.children,i.render(e),e.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(1/e.lineWidth,1/e.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(-n),e.translate(-t.x,-t.y)}},_.Element.marker.prototype=new _.Element.ElementBase,_.Element.defs=function(e){this.base=_.Element.ElementBase,this.base(e),this.render=function(e){}},_.Element.defs.prototype=new _.Element.ElementBase,_.Element.GradientBase=function(e){this.base=_.Element.ElementBase,this.base(e),this.gradientUnits=this.attribute("gradientUnits").valueOrDefault("objectBoundingBox"),this.stops=[];for(var t=0;t<this.children.length;t++){var n=this.children[t];"stop"==n.type&&this.stops.push(n)}this.getGradient=function(){},this.createGradient=function(e,t,n){var i=this;this.attribute("xlink:href").hasValue()&&(i=this.attribute("xlink:href").getDefinition());function r(e){return n.hasValue()?new _.Property("color",e).addOpacity(n.value).value:e}var a=this.getGradient(e,t);if(null==a)return r(i.stops[i.stops.length-1].color);for(var s=0;s<i.stops.length;s++)a.addColorStop(i.stops[s].offset,r(i.stops[s].color));if(this.attribute("gradientTransform").hasValue()){var o=_.ViewPort.viewPorts[0],e=new _.Element.rect;e.attributes.x=new _.Property("x",-_.MAX_VIRTUAL_PIXELS/3),e.attributes.y=new _.Property("y",-_.MAX_VIRTUAL_PIXELS/3),e.attributes.width=new _.Property("width",_.MAX_VIRTUAL_PIXELS),e.attributes.height=new _.Property("height",_.MAX_VIRTUAL_PIXELS);t=new _.Element.g;t.attributes.transform=new _.Property("transform",this.attribute("gradientTransform").value),t.children=[e];e=new _.Element.svg;e.attributes.x=new _.Property("x",0),e.attributes.y=new _.Property("y",0),e.attributes.width=new _.Property("width",o.width),e.attributes.height=new _.Property("height",o.height),e.children=[t];t=document.createElement("canvas");t.width=o.width,t.height=o.height;o=t.getContext("2d");return o.fillStyle=a,e.render(o),o.createPattern(t,"no-repeat")}return a}},_.Element.GradientBase.prototype=new _.Element.ElementBase,_.Element.linearGradient=function(e){this.base=_.Element.GradientBase,this.base(e),this.getGradient=function(e,t){var n=t.getBoundingBox();this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var i="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),r="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),t="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),n="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return i==t&&r==n?null:e.createLinearGradient(i,r,t,n)}},_.Element.linearGradient.prototype=new _.Element.GradientBase,_.Element.radialGradient=function(e){this.base=_.Element.GradientBase,this.base(e),this.getGradient=function(e,t){var n=t.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var i="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),r="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),a=i,t=r;this.attribute("fx").hasValue()&&(a="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(t="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));n="objectBoundingBox"==this.gradientUnits?(n.width()+n.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return e.createRadialGradient(a,t,0,i,r,n)}},_.Element.radialGradient.prototype=new _.Element.GradientBase,_.Element.stop=function(e){this.base=_.Element.ElementBase,this.base(e),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),1<this.offset&&(this.offset=1);e=this.style("stop-color");this.style("stop-opacity").hasValue()&&(e=e.addOpacity(this.style("stop-opacity").value)),this.color=e.value},_.Element.stop.prototype=new _.Element.ElementBase,_.Element.AnimateBase=function(e){this.base=_.Element.ElementBase,this.base(e),_.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var e=this.attribute("attributeType").value,t=this.attribute("attributeName").value;return"CSS"==e?this.parent.style(t,!0):this.parent.attribute(t,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(e){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"!=this.attribute("repeatCount").value&&"indefinite"!=this.attribute("repeatDur").value)return"remove"==this.attribute("fill").valueOrDefault("remove")&&!this.removed&&(this.removed=!0,this.getProperty().value=this.initialValue,!0);this.duration=0}this.duration=this.duration+e;var t=!1;return this.begin<this.duration&&(e=this.calcValue(),this.attribute("type").hasValue()&&(e=this.attribute("type").value+"("+e+")"),this.getProperty().value=e,t=!0),t},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var e,t,n,i={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};return this.values.hasValue()?(e=i.progress*(this.values.value.length-1),t=Math.floor(e),n=Math.ceil(e),i.from=new _.Property("from",parseFloat(this.values.value[t])),i.to=new _.Property("to",parseFloat(this.values.value[n])),i.progress=(e-t)/(n-t)):(i.from=this.from,i.to=this.to),i}},_.Element.AnimateBase.prototype=new _.Element.ElementBase,_.Element.animate=function(e){this.base=_.Element.AnimateBase,this.base(e),this.calcValue=function(){var e=this.progress();return e.from.numValue()+(e.to.numValue()-e.from.numValue())*e.progress+this.initialUnits}},_.Element.animate.prototype=new _.Element.AnimateBase,_.Element.animateColor=function(e){this.base=_.Element.AnimateBase,this.base(e),this.calcValue=function(){var e=this.progress(),t=new f(e.from.value),n=new f(e.to.value);if(t.ok&&n.ok){var i=t.r+(n.r-t.r)*e.progress,r=t.g+(n.g-t.g)*e.progress,e=t.b+(n.b-t.b)*e.progress;return"rgb("+parseInt(i,10)+","+parseInt(r,10)+","+parseInt(e,10)+")"}return this.attribute("from").value}},_.Element.animateColor.prototype=new _.Element.AnimateBase,_.Element.animateTransform=function(e){this.base=_.Element.AnimateBase,this.base(e),this.calcValue=function(){for(var e=this.progress(),t=_.ToNumberArray(e.from.value),n=_.ToNumberArray(e.to.value),i="",r=0;r<t.length;r++)i+=t[r]+(n[r]-t[r])*e.progress+" ";return i}},_.Element.animateTransform.prototype=new _.Element.animate,_.Element.font=function(e){this.base=_.Element.ElementBase,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var t=0;t<this.children.length;t++){var n=this.children[t];"font-face"==n.type?(this.fontFace=n).style("font-family").hasValue()&&(_.Definitions[n.style("font-family").value]=this):"missing-glyph"==n.type?this.missingGlyph=n:"glyph"==n.type&&(""!=n.arabicForm?(this.isRTL=!0,this.isArabic=!0,void 0===this.glyphs[n.unicode]&&(this.glyphs[n.unicode]=[]),this.glyphs[n.unicode][n.arabicForm]=n):this.glyphs[n.unicode]=n)}},_.Element.font.prototype=new _.Element.ElementBase,_.Element.fontface=function(e){this.base=_.Element.ElementBase,this.base(e),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},_.Element.fontface.prototype=new _.Element.ElementBase,_.Element.missingglyph=function(e){this.base=_.Element.path,this.base(e),this.horizAdvX=0},_.Element.missingglyph.prototype=new _.Element.path,_.Element.glyph=function(e){this.base=_.Element.path,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},_.Element.glyph.prototype=new _.Element.path,_.Element.text=function(e){this.captureTextNodes=!0,this.base=_.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.style("dominant-baseline").hasValue()&&(e.textBaseline=this.style("dominant-baseline").value),this.style("alignment-baseline").hasValue()&&(e.textBaseline=this.style("alignment-baseline").value)},this.renderChildren=function(e){this.textAnchor=this.style("text-anchor").valueOrDefault("start"),this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y");for(var t=0;t<this.children.length;t++)this.renderChild(e,this,t)},this.renderChild=function(e,t,n){var i=t.children[n];i.attribute("x").hasValue()?i.x=i.attribute("x").toPixels("x"):(this.attribute("dx").hasValue()&&(this.y+=this.attribute("dx").toPixels("x")),i.attribute("dx").hasValue()&&(this.x+=i.attribute("dx").toPixels("x")),i.x=this.x);t=i.measureText(e);if("start"!=this.textAnchor&&(0==n||i.attribute("x").hasValue())){for(var r=t,a=n+1;a<this.children.length;a++){var s=this.children[a];if(s.attribute("x").hasValue())break;r+=s.measureText(e)}i.x-="end"==this.textAnchor?r:r/2}this.x=i.x+t,i.attribute("y").hasValue()?i.y=i.attribute("y").toPixels("y"):(this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),i.attribute("dy").hasValue()&&(this.y+=i.attribute("dy").toPixels("y")),i.y=this.y),this.y=i.y,i.render(e);for(n=0;n<i.children.length;n++)this.renderChild(e,i,n)}},_.Element.text.prototype=new _.Element.RenderedElementBase,_.Element.TextElementBase=function(e){this.base=_.Element.RenderedElementBase,this.base(e),this.getGlyph=function(e,t,n){var i,r=t[n],a=null;return e.isArabic?(i="isolated",(0==n||" "==t[n-1])&&n<t.length-2&&" "!=t[n+1]&&(i="terminal"),0<n&&" "!=t[n-1]&&n<t.length-2&&" "!=t[n+1]&&(i="medial"),0<n&&" "!=t[n-1]&&(n==t.length-1||" "==t[n+1])&&(i="initial"),void 0!==e.glyphs[r]&&null==(a=e.glyphs[r][i])&&"glyph"==e.glyphs[r].type&&(a=e.glyphs[r])):a=e.glyphs[r],a=null==a?e.missingGlyph:a},this.renderChildren=function(e){var t=this.parent.style("font-family").getDefinition();if(null==t)""!=e.fillStyle&&e.fillText(_.compressSpaces(this.getText()),this.x,this.y),""!=e.strokeStyle&&e.strokeText(_.compressSpaces(this.getText()),this.x,this.y);else{var n=this.parent.style("font-size").numValueOrDefault(_.Font.Parse(_.ctx.font).fontSize),i=this.parent.style("font-style").valueOrDefault(_.Font.Parse(_.ctx.font).fontStyle),r=this.getText();t.isRTL&&(r=r.split("").reverse().join(""));for(var a=_.ToNumberArray(this.parent.attribute("dx").value),s=0;s<r.length;s++){var o=this.getGlyph(t,r,s),l=n/t.fontFace.unitsPerEm;e.translate(this.x,this.y),e.scale(l,-l);var h=e.lineWidth;e.lineWidth=e.lineWidth*t.fontFace.unitsPerEm/n,"italic"==i&&e.transform(1,0,.4,1,0,0),o.render(e),"italic"==i&&e.transform(1,0,-.4,1,0,0),e.lineWidth=h,e.scale(1/l,-1/l),e.translate(-this.x,-this.y),this.x+=n*(o.horizAdvX||t.horizAdvX)/t.fontFace.unitsPerEm,void 0===a[s]||isNaN(a[s])||(this.x+=a[s])}}},this.getText=function(){},this.measureText=function(e){var t=this.parent.style("font-family").getDefinition();if(null!=t){var n=this.parent.style("font-size").numValueOrDefault(_.Font.Parse(_.ctx.font).fontSize),i=0,r=this.getText();t.isRTL&&(r=r.split("").reverse().join(""));for(var a=_.ToNumberArray(this.parent.attribute("dx").value),s=0;s<r.length;s++)i+=(this.getGlyph(t,r,s).horizAdvX||t.horizAdvX)*n/t.fontFace.unitsPerEm,void 0===a[s]||isNaN(a[s])||(i+=a[s]);return i}var o=_.compressSpaces(this.getText());if(!e.measureText)return 10*o.length;e.save(),this.setContext(e);o=e.measureText(o).width;return e.restore(),o}},_.Element.TextElementBase.prototype=new _.Element.RenderedElementBase,_.Element.tspan=function(e){this.captureTextNodes=!0,this.base=_.Element.TextElementBase,this.base(e),this.text=e.nodeValue||e.text||"",this.getText=function(){return this.text}},_.Element.tspan.prototype=new _.Element.TextElementBase,_.Element.tref=function(e){this.base=_.Element.TextElementBase,this.base(e),this.getText=function(){var e=this.attribute("xlink:href").getDefinition();if(null!=e)return e.children[0].getText()}},_.Element.tref.prototype=new _.Element.TextElementBase,_.Element.a=function(e){this.base=_.Element.TextElementBase,this.base(e),this.hasText=!0;for(var t=0;t<e.childNodes.length;t++)3!=e.childNodes[t].nodeType&&(this.hasText=!1);this.text=this.hasText?e.childNodes[0].nodeValue:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(e){var t;this.hasText?(this.baseRenderChildren(e),t=new _.Property("fontSize",_.Font.Parse(_.ctx.font).fontSize),_.Mouse.checkBoundingBox(this,new _.BoundingBox(this.x,this.y-t.toPixels("y"),this.x+this.measureText(e),this.y))):((t=new _.Element.g).children=this.children,t.parent=this,t.render(e))},this.onclick=function(){window.open(this.attribute("xlink:href").value)},this.onmousemove=function(){_.ctx.canvas.style.cursor="pointer"}},_.Element.a.prototype=new _.Element.TextElementBase,_.Element.image=function(e){this.base=_.Element.RenderedElementBase,this.base(e);var t,n=this.attribute("xlink:href").value,a=n.match(/\.svg$/);_.Images.push(this),this.loaded=!1,a?(this.img=_.ajax(n),this.loaded=!0):(this.img=document.createElement("img"),(t=this).img.onload=function(){t.loaded=!0},this.img.onerror=function(){console&&console.log('ERROR: image "'+n+'" not found'),t.loaded=!0},this.img.src=n),this.renderChildren=function(e){var t=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y");0!=i&&0!=r&&(e.save(),a?e.drawSvg(this.img,t,n,i,r):(e.translate(t,n),_.AspectRatio(e,this.attribute("preserveAspectRatio").value,i,this.img.width,r,this.img.height,0,0),e.drawImage(this.img,0,0)),e.restore())},this.getBoundingBox=function(){var e=this.attribute("x").toPixels("x"),t=this.attribute("y").toPixels("y"),n=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y");return new _.BoundingBox(e,t,e+n,t+i)}},_.Element.image.prototype=new _.Element.RenderedElementBase,_.Element.g=function(e){this.base=_.Element.RenderedElementBase,this.base(e),this.getBoundingBox=function(){for(var e=new _.BoundingBox,t=0;t<this.children.length;t++)e.addBoundingBox(this.children[t].getBoundingBox());return e}},_.Element.g.prototype=new _.Element.RenderedElementBase,_.Element.symbol=function(e){this.base=_.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){var t,n,i;this.baseSetContext(e),this.attribute("viewBox").hasValue()&&(n=(t=_.ToNumberArray(this.attribute("viewBox").value))[0],i=t[1],width=t[2],height=t[3],_.AspectRatio(e,this.attribute("preserveAspectRatio").value,this.attribute("width").toPixels("x"),width,this.attribute("height").toPixels("y"),height,n,i),_.ViewPort.SetCurrent(t[2],t[3]))}},_.Element.symbol.prototype=new _.Element.RenderedElementBase,_.Element.style=function(e){this.base=_.Element.ElementBase,this.base(e);for(var t="",n=0;n<e.childNodes.length;n++)t+=e.childNodes[n].nodeValue;t=t.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"");for(var i=(t=_.compressSpaces(t)).split("}"),n=0;n<i.length;n++)if(""!=_.trim(i[n]))for(var r=i[n].split("{"),a=r[0].split(","),s=r[1].split(";"),o=0;o<a.length;o++){var l=_.trim(a[o]);if(""!=l){for(var h={},u=0;u<s.length;u++){var c=s[u].indexOf(":"),f=s[u].substr(0,c),c=s[u].substr(c+1,s[u].length-c);null!=f&&null!=c&&(h[_.trim(f)]=new _.Property(_.trim(f),_.trim(c)))}if(_.Styles[l]=h,"@font-face"==l)for(var d=h["font-family"].value.replace(/"/g,""),p=h.src.value.split(","),g=0;g<p.length;g++)if(0<p[g].indexOf('format("svg")'))for(var m=p[g].indexOf("url"),x=p[g].indexOf(")",m),m=p[g].substr(m+5,x-m-6),y=_.parseXml(_.ajax(m)).getElementsByTagName("font"),v=0;v<y.length;v++){var b=_.CreateElement(y[v]);_.Definitions[d]=b}}}},_.Element.style.prototype=new _.Element.ElementBase,_.Element.use=function(e){this.base=_.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.attribute("x").hasValue()&&e.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&e.translate(0,this.attribute("y").toPixels("y"))},this.getDefinition=function(){var e=this.attribute("xlink:href").getDefinition();return this.attribute("width").hasValue()&&(e.attribute("width",!0).value=this.attribute("width").value),this.attribute("height").hasValue()&&(e.attribute("height",!0).value=this.attribute("height").value),e},this.path=function(e){var t=this.getDefinition();null!=t&&t.path(e)},this.renderChildren=function(e){var t,n=this.getDefinition();null!=n&&(t=n.parent,n.parent=null,n.render(e),n.parent=t)}},_.Element.use.prototype=new _.Element.RenderedElementBase,_.Element.mask=function(e){this.base=_.Element.ElementBase,this.base(e),this.apply=function(e,t){var n=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y"),s=t.attribute("mask").value;t.attribute("mask").value="";var o=document.createElement("canvas");o.width=n+r,o.height=i+a;var l=o.getContext("2d");this.renderChildren(l);var h=document.createElement("canvas");h.width=n+r,h.height=i+a;var u=h.getContext("2d");t.render(u),u.globalCompositeOperation="destination-in",u.fillStyle=l.createPattern(o,"no-repeat"),u.fillRect(0,0,n+r,i+a),e.fillStyle=u.createPattern(h,"no-repeat"),e.fillRect(0,0,n+r,i+a),t.attribute("mask").value=s},this.render=function(e){}},_.Element.mask.prototype=new _.Element.ElementBase,_.Element.clipPath=function(e){this.base=_.Element.ElementBase,this.base(e),this.apply=function(e){for(var t=0;t<this.children.length;t++)this.children[t].path&&(this.children[t].path(e),e.clip())},this.render=function(e){}},_.Element.clipPath.prototype=new _.Element.ElementBase,_.Element.filter=function(e){this.base=_.Element.ElementBase,this.base(e),this.apply=function(e,t){var n=t.getBoundingBox(),i=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y");"image"!=t.type&&0!=i&&0!=r||(i=n.x1,r=n.y1);var a=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y");"image"!=t.type&&0!=a&&0!=s||(a=n.width(),s=n.height());var o=t.style("filter").value;t.style("filter").value="";var n="image"==t.type?0:.2,l=n*a,h=n*s,n=document.createElement("canvas");n.width=a+2*l,n.height=s+2*h;var u=n.getContext("2d");u.translate(l-i,h-r),t.render(u);for(var c=0;c<this.children.length;c++)this.children[c].apply(u,0,0,a+2*l,s+2*h);e.drawImage(n,0,0,a+2*l,s+2*h,i-l,r-h,a+2*l,s+2*h),t.style("filter",!0).value=o},this.render=function(e){}},_.Element.filter.prototype=new _.Element.ElementBase,_.Element.feColorMatrix=function(e){function o(e,t,n,i,r,a){return e[n*i*4+4*t+a]}function l(e,t,n,i,r,a,s){e[n*i*4+4*t+a]=s}this.base=_.Element.ElementBase,this.base(e),this.apply=function(e,t,n,i,r){for(var a=e.getImageData(0,0,i,r),n=0;n<r;n++)for(t=0;t<i;t++){var s=(o(a.data,t,n,i,0,0)+o(a.data,t,n,i,0,1)+o(a.data,t,n,i,0,2))/3;l(a.data,t,n,i,0,0,s),l(a.data,t,n,i,0,1,s),l(a.data,t,n,i,0,2,s)}e.clearRect(0,0,i,r),e.putImageData(a,0,0)}},_.Element.filter.prototype=new _.Element.feColorMatrix,_.Element.feGaussianBlur=function(e){function a(e,t,n,i,r){for(var a,s=0;s<r;s++)for(var o=0;o<i;o++)for(var l=e[s*i*4+4*o+3]/255,h=0;h<4;h++){for(var u=n[0]*(0==l?255:e[s*i*4+4*o+h])*(0==l||3==h?1:l),c=1;c<n.length;c++){var f=p(e,Math.max(o-c,0),s,i,0,3)/255,d=p(e,Math.min(o+c,i-1),s,i,0,3)/255;u+=n[c]*((0==f?255:p(e,Math.max(o-c,0),s,i,0,h))*(0==f||3==h?1:f)+(0==d?255:p(e,Math.min(o+c,i-1),s,i,0,h))*(0==d||3==h?1:d))}a=u,t[o*r*4+4*s+h]=a}}function p(e,t,n,i,r,a){return e[n*i*4+4*t+a]}function s(e,t,n,i){var r=e.getImageData(0,0,t,n),i=function(e){for(var t=0,n=1;n<e.length;n++)t+=Math.abs(e[n]);for(t=2*t+Math.abs(e[0]),n=0;n<e.length;n++)e[n]/=t;return e}(i=function(e){e=Math.max(e,.01);var t=Math.ceil(4*e)+1;mask=[];for(var n=0;n<t;n++)mask[n]=Math.exp(n/e*-.5*(n/e));return mask}(i));tmp=[],a(r.data,tmp,i,t,n),a(tmp,r.data,i,n,t),e.clearRect(0,0,t,n),e.putImageData(r,0,0)}this.base=_.Element.ElementBase,this.base(e),this.apply=function(e,t,n,i,r){s(e,i,r,this.attribute("stdDeviation").numValue())}},_.Element.filter.prototype=new _.Element.feGaussianBlur,_.Element.title=function(e){},_.Element.title.prototype=new _.Element.ElementBase,_.Element.desc=function(e){},_.Element.desc.prototype=new _.Element.ElementBase,_.Element.MISSING=function(e){console&&console.log("ERROR: Element '"+e.nodeName+"' not yet implemented.")},_.Element.MISSING.prototype=new _.Element.ElementBase,_.CreateElement=function(e){var t=(t=e.nodeName.replace(/^[^:]+:/,"")).replace(/\-/g,""),n=null;return(n=new(void 0!==_.Element[t]?_.Element[t]:_.Element.MISSING)(e)).type=e.nodeName,n},_.load=function(e,t){_.loadXml(e,_.ajax(t))},_.loadXml=function(e,t){_.loadXmlDoc(e,_.parseXml(t))},_.loadXmlDoc=function(a,e){_.init(a);function t(e){for(var t=a.canvas;t;)e.x-=t.offsetLeft,e.y-=t.offsetTop,t=t.offsetParent;return window.scrollX&&(e.x+=window.scrollX),window.scrollY&&(e.y+=window.scrollY),e}1!=_.opts.ignoreMouse&&(a.canvas.onclick=function(e){e=t(new _.Point((null!=e?e:event).clientX,(null!=e?e:event).clientY));_.Mouse.onclick(e.x,e.y)},a.canvas.onmousemove=function(e){e=t(new _.Point((null!=e?e:event).clientX,(null!=e?e:event).clientY));_.Mouse.onmousemove(e.x,e.y)});function n(){_.ViewPort.Clear(),a.canvas.parentNode&&_.ViewPort.SetCurrent(a.canvas.parentNode.clientWidth,a.canvas.parentNode.clientHeight),1!=_.opts.ignoreDimensions&&(s.style("width").hasValue()&&(a.canvas.width=s.style("width").toPixels("x"),a.canvas.style.width=a.canvas.width+"px"),s.style("height").hasValue()&&(a.canvas.height=s.style("height").toPixels("y"),a.canvas.style.height=a.canvas.height+"px"));var e,t,n,i=a.canvas.clientWidth||a.canvas.width,r=a.canvas.clientHeight||a.canvas.height;1==_.opts.ignoreDimensions&&s.style("width").hasValue()&&s.style("height").hasValue()&&(i=s.style("width").toPixels("x"),r=s.style("height").toPixels("y")),_.ViewPort.SetCurrent(i,r),null!=_.opts.offsetX&&(s.attribute("x",!0).value=_.opts.offsetX),null!=_.opts.offsetY&&(s.attribute("y",!0).value=_.opts.offsetY),null!=_.opts.scaleWidth&&null!=_.opts.scaleHeight&&(t=e=1,n=_.ToNumberArray(s.attribute("viewBox").value),s.attribute("width").hasValue()?e=s.attribute("width").toPixels("x")/_.opts.scaleWidth:isNaN(n[2])||(e=n[2]/_.opts.scaleWidth),s.attribute("height").hasValue()?t=s.attribute("height").toPixels("y")/_.opts.scaleHeight:isNaN(n[3])||(t=n[3]/_.opts.scaleHeight),s.attribute("width",!0).value=_.opts.scaleWidth,s.attribute("height",!0).value=_.opts.scaleHeight,s.attribute("viewBox",!0).value="0 0 "+i*e+" "+r*t,s.attribute("preserveAspectRatio",!0).value="none"),1!=_.opts.ignoreClear&&a.clearRect(0,0,i,r),s.render(a),o&&(o=!1,"function"==typeof _.opts.renderCallback&&_.opts.renderCallback())}var s=_.CreateElement(e.documentElement),o=s.root=!0,i=!0;_.ImagesLoaded()&&(i=!1,n()),_.intervalID=setInterval(function(){var e=!1;if(i&&_.ImagesLoaded()&&(e=!(i=!1)),1!=_.opts.ignoreMouse&&(e|=_.Mouse.hasEvents()),1!=_.opts.ignoreAnimation)for(var t=0;t<_.Animations.length;t++)e|=_.Animations[t].update(1e3/_.FRAMERATE);(e="function"==typeof _.opts.forceRedraw&&1==_.opts.forceRedraw()?!0:e)&&(n(),_.Mouse.runEvents())},1e3/_.FRAMERATE)},_.stop=function(){_.intervalID&&clearInterval(_.intervalID)},_.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(e,t){this.events.push({type:"onclick",x:e,y:t,run:function(e){e.onclick&&e.onclick()}})},this.onmousemove=function(e,t){this.events.push({type:"onmousemove",x:e,y:t,run:function(e){e.onmousemove&&e.onmousemove()}})},this.eventElements=[],this.checkPath=function(e,t){for(var n=0;n<this.events.length;n++){var i=this.events[n];t.isPointInPath&&t.isPointInPath(i.x,i.y)&&(this.eventElements[n]=e)}},this.checkBoundingBox=function(e,t){for(var n=0;n<this.events.length;n++){var i=this.events[n];t.isPointInBox(i.x,i.y)&&(this.eventElements[n]=e)}},this.runEvents=function(){_.ctx.canvas.style.cursor="";for(var e=0;e<this.events.length;e++)for(var t=this.events[e],n=this.eventElements[e];n;)t.run(n),n=n.parent;this.events=[],this.eventElements=[]}},_);1==e.childNodes.length&&"OBJECT"==e.childNodes[0].nodeName||(e.svg=r),r.opts=n;e=e.getContext("2d");void 0!==t.documentElement?r.loadXmlDoc(e,t):"<"==t.substr(0,1)?r.loadXml(e,t):r.load(e,t)}else for(var a=document.getElementsByTagName("svg"),s=0;s<a.length;s++){var o=a[s],l=document.createElement("canvas");l.width=o.clientWidth,l.height=o.clientHeight,o.parentNode.insertBefore(l,o),o.parentNode.removeChild(o);var h=document.createElement("div");h.appendChild(o),canvg(l,h.innerHTML)}}}(),window.CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(e,t,n,i,r){canvg(this.canvas,e,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:t,offsetY:n,scaleWidth:i,scaleHeight:r})}),function(e){var l,h,u,t,o,s,c,f,d,p,M,k,g,m,E,S,T,i,F,D,B,x,y,v,A,N,I,O,R,b,w,r=function(e){return new r.prototype.init(e)};"undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=r:e.Globalize=r,r.cultures={},(r.prototype={constructor:r,init:function(e){return this.cultures=r.cultures,this.cultureSelector=e,this}}).init.prototype=r.prototype,r.cultures.default={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},r.cultures.default.calendar=r.cultures.default.calendars.standard,r.cultures.en=r.cultures.default,r.cultureSelector="en",l=/^0x[a-f0-9]+$/i,h=/^[+\-]?infinity$/i,u=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,t=/^\s+|\s+$/g,o=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},s=function(e,t){return e.substr(e.length-t.length)===t},c=function(){var e,t,n,i,r,a=arguments[0]||{},s=1,o=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[1]||{},s=2),"object"==typeof a||d(a)||(a={});s<o;s++)if(null!=(e=arguments[s]))for(t in e)r=a[t],a!==(n=e[t])&&(l&&n&&(p(n)||(i=f(n)))?(r=i?(i=!1,r&&f(r)?r:[]):r&&p(r)?r:{},a[t]=c(l,r,n)):void 0!==n&&(a[t]=n));return a},f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},d=function(e){return"[object Function]"===Object.prototype.toString.call(e)},p=function(e){return"[object Object]"===Object.prototype.toString.call(e)},M=function(e,t){return 0===e.indexOf(t)},k=function(e){return(e+"").replace(t,"")},g=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)},m=function(e,t,n){for(var i=e.length;i<t;i+=1)e=n?"0"+e:e+"0";return e},E=function(e,t){for(var n=0,i=!1,r=0,a=e.length;r<a;r++){var s=e.charAt(r);switch(s){case"'":i?t.push("'"):n++,i=!1;break;case"\\":i&&t.push("\\"),i=!i;break;default:t.push(s),i=!1}}return n},S=function(e,t){var n=e.patterns,e=(t=t||"F").length;if(1===e){if(!(n=n[t]))throw"Invalid date format string '"+t+"'.";t=n}else 2===e&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},T=function(e,t,n){var i,r,a=n.calendar,s=a.convert;if(!t||!t.length||"i"===t)return r=n&&n.name.length?s?T(e,a.patterns.F,n):(i=new Date(e.getTime()),n=D(e,a.eras),i.setFullYear(B(e,a,n)),i.toLocaleString()):e.toString();var o=a.eras,l="s"===t;t=S(a,t),r=[];var h,u,c,f,d=["0","00","000"],p=/([^d]|^)(d|dd)([^d]|$)/g,g=0,m=F();function x(e,t){var n,e=e+"";return 1<t&&e.length<t?(n=d[t-2]+e).substr(n.length-t,t):n=e}function y(e,t){if(f)return f[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();default:throw"Invalid part value "+t}}for(!l&&s&&(f=s.fromGregorian(e));;){var v=m.lastIndex,b=m.exec(t),v=t.slice(v,b?b.index:t.length);if(g+=E(v,r),!b)break;if(g%2)r.push(b[0]);else{var w=b[0],_=w.length;switch(w){case"ddd":case"dddd":var P=3===_?a.days.namesAbbr:a.days.names;r.push(P[e.getDay()]);break;case"d":case"dd":u=!0,r.push(x(y(e,2),_));break;case"MMM":case"MMMM":var C=y(e,1);r.push((a.monthsGenitive&&(u||c||(u=p.test(t),c=!0),u)?a.monthsGenitive:a.months)[3===_?"namesAbbr":"names"][C]);break;case"M":case"MM":r.push(x(y(e,1)+1,_));break;case"y":case"yy":case"yyyy":C=f?f[0]:B(e,a,D(e,o),l),_<4&&(C%=100),r.push(x(C,_));break;case"h":case"hh":0===(h=e.getHours()%12)&&(h=12),r.push(x(h,_));break;case"H":case"HH":r.push(x(e.getHours(),_));break;case"m":case"mm":r.push(x(e.getMinutes(),_));break;case"s":case"ss":r.push(x(e.getSeconds(),_));break;case"t":case"tt":C=e.getHours()<12?a.AM?a.AM[0]:" ":a.PM?a.PM[0]:" ",r.push(1===_?C.charAt(0):C);break;case"f":case"ff":case"fff":r.push(x(e.getMilliseconds(),3).substr(0,_));break;case"z":case"zz":h=e.getTimezoneOffset()/60,r.push((h<=0?"+":"-")+x(Math.floor(Math.abs(h)),_));break;case"zzz":h=e.getTimezoneOffset()/60,r.push((h<=0?"+":"-")+x(Math.floor(Math.abs(h)),2)+":"+x(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":a.eras&&r.push(a.eras[D(e,o)].name);break;case"/":r.push(a["/"]);break;default:throw"Invalid date format pattern '"+w+"'."}}}return r.join("")},v=function(e,t,n){var i=n.groupSizes,r=i[0],a=1,s=Math.pow(10,t),s=Math.round(e*s)/s,o=(e=s=!isFinite(s)?e:s)+"",l="",s=o.split(/e/i),e=1<s.length?parseInt(s[1],10):0;o=(s=(o=s[0]).split("."))[0],l=1<s.length?s[1]:"",0<e?(o+=(l=m(l,e,!1)).slice(0,e),l=l.substr(e)):e<0&&(l=(o=m(o,(e=-e)+1,!0)).slice(-e,o.length)+l,o=o.slice(0,-e));for(var l=0<t?n["."]+(l.length>t?l.slice(0,t):m(l,t)):"",h=o.length-1,u=n[","],c="";0<=h;){if(0===r||h<r)return o.slice(0,h+1)+(c.length?u+c+l:l);c=o.slice(h-r+1,h+1)+(c.length?u+c:""),h-=r,a<i.length&&(r=i[a],a++)}return o.slice(0,h+1)+u+c+l},i=function(e,t,n){if(!isFinite(e))return e===1/0?n.numberFormat.positiveInfinity:e===-1/0?n.numberFormat.negativeInfinity:n.numberFormat.NaN;if(!t||"i"===t)return n.name.length?e.toLocaleString():e.toString();t=t||"D";var i,r=n.numberFormat,a=Math.abs(e),s=-1;1<t.length&&(s=parseInt(t.slice(1),10));var o,l=t.charAt(0).toUpperCase();switch(l){case"D":i="n",a=g(a),-1!==s&&(a=m(""+a,s,!0)),e<0&&(a="-"+a);break;case"N":o=r;case"C":o=o||r.currency;case"P":o=o||r.percent,i=e<0?o.pattern[0]:o.pattern[1]||"n",-1===s&&(s=o.decimals),a=v(a*("P"===l?100:1),s,o);break;default:throw"Bad number format specifier: "+l}for(var h=/n|\$|-|%/g,u="";;){var c=h.lastIndex,f=h.exec(i);if(u+=i.slice(c,f?f.index:i.length),!f)break;switch(f[0]){case"n":u+=a;break;case"$":u+=r.currency.symbol;break;case"-":/[1-9]/.test(a)&&(u+=r["-"]);break;case"%":u+=r.percent.symbol}}return u},F=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},D=function(e,t){if(!t)return 0;for(var n,i=e.getTime(),r=0,a=t.length;r<a;r++)if(null===(n=t[r].start)||n<=i)return r;return 0},B=function(e,t,n,i){e=e.getFullYear();return!i&&t.eras&&(e-=t.eras[n].offset),e},A=function(e,t){var n,i;return t<100&&(n=new Date,i=D(n),i=B(n,e,i),(e="string"==typeof(e=e.twoDigitYearMax)?(new Date).getFullYear()%100+parseInt(e,10):e)<(t+=i-i%100)&&(t-=100)),t},N=function(e,t,n){var i,r=e.days,a=e._upperDays;return a||(e._upperDays=a=[w(r.names),w(r.namesAbbr),w(r.namesShort)]),t=b(t),n?-1===(i=o(a[1],t))&&(i=o(a[2],t)):i=o(a[0],t),i},I=function(e,t,n){var i=e.months,r=e.monthsGenitive||e.months,a=e._upperMonths,s=e._upperMonthsGen;a||(e._upperMonths=a=[w(i.names),w(i.namesAbbr)],e._upperMonthsGen=s=[w(r.names),w(r.namesAbbr)]),t=b(t);a=o(n?a[1]:a[0],t);return a=a<0?o(n?s[1]:s[0],t):a},O=function(e,t){var n=e._parseRegExp;if(n){var i=n[t];if(i)return i}else e._parseRegExp=n={};for(var r,a=S(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),s=["^"],o=[],l=0,h=0,u=F();null!==(r=u.exec(a));){var c=a.slice(l,r.index),l=u.lastIndex;if((h+=E(c,s))%2)s.push(r[0]);else{var f,d=r[0],p=d.length;switch(d){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":f="(\\D+)";break;case"tt":case"t":f="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":f="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":f="(\\d\\d?)";break;case"zzz":f="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":f="([+-]?\\d\\d?)";break;case"/":f="(\\/)";break;default:throw"Invalid date format pattern '"+d+"'."}f&&s.push(f),o.push(r[0])}}E(a.slice(l),s),s.push("$");e=s.join("").replace(/\s+/g,"\\s+");return n[t]={regExp:e,groups:o}},R=function(e,t,n){return e<t||n<e},b=function(e){return e.split(" ").join(" ").toUpperCase()},w=function(e){for(var t=[],n=0,i=e.length;n<i;n++)t[n]=b(e[n]);return t},x=function(e,t,n){e=k(e);var i=n.calendar,n=O(i,t),r=new RegExp(n.regExp).exec(e);if(null===r)return null;for(var a,s=n.groups,o=null,l=null,h=null,u=null,c=null,f=0,d=0,p=0,g=0,m=null,x=!1,y=0,v=s.length;y<v;y++){var b=r[y+1];if(b){var w=s[y],_=w.length,P=parseInt(b,10);switch(w){case"dd":case"d":if(R(u=P,1,31))return null;break;case"MMM":case"MMMM":if(h=I(i,b,3===_),R(h,0,11))return null;break;case"M":case"MM":if(R(h=P-1,0,11))return null;break;case"y":case"yy":case"yyyy":if(l=_<4?A(i,P):P,R(l,0,9999))return null;break;case"h":case"hh":if(R(f=12===(f=P)?0:f,0,11))return null;break;case"H":case"HH":if(R(f=P,0,23))return null;break;case"m":case"mm":if(R(d=P,0,59))return null;break;case"s":case"ss":if(R(p=P,0,59))return null;break;case"tt":case"t":if(!(x=i.PM&&(b===i.PM[0]||b===i.PM[1]||b===i.PM[2]))&&(!i.AM||b!==i.AM[0]&&b!==i.AM[1]&&b!==i.AM[2]))return null;break;case"f":case"ff":case"fff":if(g=P*Math.pow(10,3-_),R(g,0,999))return null;break;case"ddd":case"dddd":if(c=N(i,b,3===_),R(c,0,6))return null;break;case"zzz":var C=b.split(/:/);if(2!==C.length)return null;if(a=parseInt(C[0],10),R(a,-12,13))return null;C=parseInt(C[1],10);if(R(C,0,59))return null;m=60*a+(M(b,"-")?-C:C);break;case"z":case"zz":if(R(a=P,-12,13))return null;m=60*a;break;case"g":case"gg":if(!(E=b)||!i.eras)return null;for(var E=k(E.toLowerCase()),S=0,T=i.eras.length;S<T;S++)if(E===i.eras[S].name.toLowerCase()){o=S;break}if(null===o)return null}}}t=new Date,e=i.convert,n=e?e.fromGregorian(t)[0]:t.getFullYear();if(null===l?l=n:i.eras&&(l+=i.eras[o||0].offset),null===h&&(h=0),null===u&&(u=1),e){if(null===(t=e.toGregorian(l,h,u)))return null}else{if(t.setFullYear(l,h,u),t.getDate()!==u)return null;if(null!==c&&t.getDay()!==c)return null}return x&&f<12&&(f+=12),t.setHours(f,d,p,g),null!==m&&(e=t.getMinutes()-(m+t.getTimezoneOffset()),t.setHours(t.getHours()+parseInt(e/60,10),e%60)),t},y=function(e,t,n){var i,r=t["-"],a=t["+"];switch(n){case"n -":r=" "+r,a=" "+a;case"n-":s(e,r)?i=["-",e.substr(0,e.length-r.length)]:s(e,a)&&(i=["+",e.substr(0,e.length-a.length)]);break;case"- n":r+=" ",a+=" ";case"-n":M(e,r)?i=["-",e.substr(r.length)]:M(e,a)&&(i=["+",e.substr(a.length)]);break;case"(n)":M(e,"(")&&s(e,")")&&(i=["-",e.substr(1,e.length-2)])}return i||["",e]},r.prototype.findClosestCulture=function(e){return r.findClosestCulture.call(this,e)},r.prototype.format=function(e,t,n){return r.format.call(this,e,t,n)},r.prototype.localize=function(e,t){return r.localize.call(this,e,t)},r.prototype.parseInt=function(e,t,n){return r.parseInt.call(this,e,t,n)},r.prototype.parseFloat=function(e,t,n){return r.parseFloat.call(this,e,t,n)},r.prototype.culture=function(e){return r.culture.call(this,e)},r.addCultureInfo=function(e,t,n){var i={},r=!1,i="string"!=typeof e?(n=e,e=this.culture().name,this.cultures[e]):"string"!=typeof t?(n=t,r=null==this.cultures[e],this.cultures[e]||this.cultures.default):(r=!0,this.cultures[t]);this.cultures[e]=c(!0,{},i,n),r&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},r.findClosestCulture=function(e){var t;if(!e)return this.findClosestCulture(this.cultureSelector)||this.cultures.default;if("string"==typeof e&&(e=e.split(",")),f(e)){for(var n=this.cultures,i=e,r=i.length,a=[],s=0;s<r;s++){var o=(e=k(i[s])).split(";"),l=k(o[0]),h=1!==o.length&&0===(e=k(o[1])).indexOf("q=")?(e=e.substr(2),h=parseFloat(e),isNaN(h)?0:h):1;a.push({lang:l,pri:h})}for(a.sort(function(e,t){return e.pri<t.pri?1:e.pri>t.pri?-1:0}),s=0;s<r;s++)if(t=n[l=a[s].lang])return t;for(s=0;s<r;s++)for(l=a[s].lang;;){var u=l.lastIndexOf("-");if(-1===u)break;if(t=n[l=l.substr(0,u)])return t}for(s=0;s<r;s++)for(var c in l=a[s].lang,n){c=n[c];if(c.language==l)return c}}else if("object"==typeof e)return e;return t||null},r.format=function(e,t,n){n=this.findClosestCulture(n);return e instanceof Date?e=T(e,t,n):"number"==typeof e&&(e=i(e,t,n)),e},r.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures.default.messages[e]},r.parseDate=function(e,t,n){var i,r,a;if(n=this.findClosestCulture(n),t){if((t="string"==typeof t?[t]:t).length)for(var s=0,o=t.length;s<o;s++){var l=t[s];if(l&&(i=x(e,l,n)))break}}else for(r in a=n.calendar.patterns)if(i=x(e,a[r],n))break;return i||null},r.parseInt=function(e,t,n){return g(r.parseFloat(e,t,n))},r.parseFloat=function(e,t,n){"number"!=typeof t&&(n=t,t=10);var i,r,a=this.findClosestCulture(n),s=NaN,o=a.numberFormat;return e=(e=-1<(e=-1<e.indexOf(a.numberFormat.currency.symbol)?(e=e.replace(a.numberFormat.currency.symbol,"")).replace(a.numberFormat.currency["."],a.numberFormat["."]):e).indexOf(a.numberFormat.percent.symbol)?e.replace(a.numberFormat.percent.symbol,""):e).replace(/ /g,""),h.test(e)?s=parseFloat(e):!t&&l.test(e)?s=parseInt(e,16):(a=(n=y(e,o,o.pattern[0]))[0],t=n[1],""===a&&"(n)"!==o.pattern[0]&&(a=(n=y(e,o,"(n)"))[0],t=n[1]),""===a&&"-n"!==o.pattern[0]&&(a=(n=y(e,o,"-n"))[0],t=n[1]),a=a||"+",n=(e=(e=t.indexOf("e"))<0?t.indexOf("E"):e)<0?(i=t,null):(i=t.substr(0,e),t.substr(e+1)),t=o["."],i=(e=i.indexOf(t))<0?(r=i,null):(r=i.substr(0,e),i.substr(e+t.length)),e=o[","],r=r.split(e).join(""),t=e.replace(/\u00A0/g," "),r=a+(r=e!==t?r.split(t).join(""):r),null!==i&&(r+="."+i),null!==n&&(r+="e"+((o=y(n,o,"-n"))[0]||"+")+o[1]),u.test(r)&&(s=parseFloat(r))),s},r.culture=function(e){return void 0!==e&&(this.cultureSelector=e),this.findClosestCulture(e)||this.cultures.default}}(this),function(u,n,f){function t(){}function i(){}function r(e){return e.replace(/(\w)/g,function(e){return e.charCodeAt(0)-97})}function a(e){return u("<div/>").html(e).text()}var s=n.shield=n.shield||{},c=u.extend,d=u.grep,p=u.proxy,e=navigator.userAgent,o=document,l="shieldWidget",h="object",g="function",m="array",x="number",y="undefined",v="sui-vc-top",b=100,w=1e3,_={},P={},C={};function E(){return w++}function S(e){if(!Y.defined(e)||""===e)return"";var r=arguments,a=r&&1<r.length&&typeof r[1]===h,s=typeof Globalize===g&&typeof Globalize.format===g;return e.replace(/\{([\.\d\w\:\-\/\' \[\]]+)\}/g,function(e,t){var n,i=t.indexOf(":");return 0<i&&(t=(n=t).substring(0,i),n=n.substring(i+1)),t=!a||/^\d+$/.test(t)?r[parseInt(t,10)+1]:D(r[1],t),t=n&&s?Globalize.format(t,n):t})}function T(e){if(Y.func(e)){var t=[].slice.call(arguments);return t.shift(),e.apply(this,t)}return S.apply(this,arguments)}function M(e){var t=Object.prototype.toString.call(e);return null===e?"null":e===f?"undefined":t.substr(8,t.length-9).toLowerCase()}function k(e){function t(e,t){return e instanceof t}var n,i,r,a,s,o=Array.apply(null,arguments),l=Y.array(e)&&e.length&&!d(e,function(e){return!Y.func(e)}).length,h=o[1];if(!l)return c.apply(u,o);for(Y.object(h)||Y.array(h)||(h={}),i=2;i<o.length;i++)if(n=o[i])for(r in n)n.hasOwnProperty(r)&&(s=n[r],a=h[r],s&&d(e,p(t,null,s)).length?h[r]=s:Y.object(s)||Y.array(s)?(Y.object(a)||(a=h[r]=Y.array(s)?[]:{}),h[r]=k(e,a,s)):Y.date(s)?h[r]=new Date(s.getTime()):s!==f&&(h[r]=s));return h}function F(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n}function D(e,t){var n;if(!Y.string(t))throw new Error("shield.get: parameter 'path' must be a string.");if(t=B(t),n=P[t])return n(e);try{n=new Function("a","try{return a"+t+"}catch(e){return arguments[1];}")}catch(e){throw new Error("shield.get: invalid 'path' parameter")}return(P[t]=n)(e)}function B(e){for(var t,n,i,r=e.split("."),a=0,s=r.length;a<s;a++)t=(n=r[a]).indexOf("["),n&&(t<0?(i=n.indexOf("'")<0?"'":'"',n=r[a]="["+i+n+i+"]"):0<t&&(n=r[a]="."+n));return r.join("")}function A(e){e=String(e);return e=1===e.length?"0"+e:e}i.extend=function(e){function t(){}var n,i,r,a,s=this,o=e&&e.init?e.init:function(){s.apply(this,arguments)};for(i in t.prototype=s.prototype,n=o.fn=o.prototype=new t,e)e.hasOwnProperty(i)&&(a=M(r=e[i]),n[i]=r&&typeof r===h?c(!0,a===m?[]:{},s.prototype[i],r):r);return(n.constructor=o).extend=s.extend,o},Date.prototype.toISOString||(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+A(this.getUTCMonth()+1)+"-"+A(this.getUTCDate())+"T"+A(this.getUTCHours())+":"+A(this.getUTCMinutes())+":"+A(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"});var N,I,O=i.extend({init:function(e){var t,n=(e||{}).events;for(t in this.events={},e=e||{},n)typeof n[t]===g&&this.on(t,n[t])},on:function(e,t,n){var i,r,a,s,o,l=this.events,h=K.array(e),u=Y.func(t);if(Y.object(e)){for(o in h=[],e)e.hasOwnProperty(o)&&h.push(o);u=!1,t=e}for(a=0,s=h.length;a<s;a++)e=h[a],i=this._eventType(e),r=u?t:t[e],Y.func(r)&&(n&&(r=this._one(e,r)),(l[i]||(l[i]=[])).push({name:e,handler:r}));return this},_one:function(e,t){function n(){i.off(e,n),t.apply(this,arguments)}var i=this;return n},_eventType:function(e){var t=(e+="").indexOf(".");return-1<t?e.substring(0,t):e},_eventNameMatch:function(e,t){var n,i,r,a,s=this._eventType(e),o=this._eventType(t);if(e+="",t+="",s!==o&&o||((n=e.split(".")).shift(),n=d(n,function(e){return Y.string(e)&&0<e.length}),i=t.split("."),o&&i.shift(),i=d(i,function(e){return Y.string(e)&&0<e.length}),!n||!i))return!1;for(a=r=0;a<i.length;a++)-1<u.inArray(i[a],n)&&r++;return r>=i.length},one:function(e,t){this.on(e,t,!0)},off:function(e,t){var n,i,r,a,s,o,l=this,h=l.events,u=K.array(e),c=Y.func(t);if(Y.object(e)){for(o in u=[],e)e.hasOwnProperty(o)&&u.push(o);c=!1,t=e}if(Y.string(e)&&0===e.indexOf(".")){for(n in h)if(h.hasOwnProperty(n)){for(i=h[n]||[],r=c?t:t||f,s=i.length-1;0<=s;s--)!l._eventNameMatch(i[s].name,e)||Y.defined(r)&&i[s].handler!==r||i.splice(s,1);i.length||delete h[n]}}else for(a=0;a<u.length;a++){for(e=u[a],i=h[n=l._eventType(e)]||[],r=c?t:(t||{})[e],s=i.length-1;0<=s;s--)!l._eventNameMatch(i[s].name,e)||Y.defined(r)&&i[s].handler!==r||i.splice(s,1);i.length||delete h[n]}return l},trigger:function(e,t){for(var n=this._eventType(e),i=(this.events[n]||[]).slice(),r=0,a=i.length;r<a;r++)i[r].handler.apply(this,[].slice.call(arguments,1));return t},destroy:function(){this.events={}}}),R=i.extend({init:function(e){var t=!1,n=!1;c(this,{timeStamp:(new Date).getTime(),isDefaultPrevented:function(){return t},isPropagationStopped:function(){return n},preventDefault:function(){t=!0},stopPropagation:function(){n=!0}},e)}}),z=O.extend({init:function(e,t){var n=this,i=n.constructor;t=t||{},n.element=u(e),n.initialOptions=t,n.options=c(!0,{},i.defaults,(i.themes||{})[t.theme],t),n._iid=w++,O.fn.init.call(n,t)},getInstanceId:function(){return this._iid},refresh:function(e){this.refreshWithElement(this.element,e)},refreshWithElement:function(e,t){t=k([i],this.options,t);this.destroy(),this.init(e,t)},hide:function(){u(this.element).hide()},show:function(){u(this.element).show()},isVisible:function(){return u(this.element).is(":visible")},visible:function(){var e=[].slice.call(arguments);if(!(0<e.length))return this.isVisible();e[0]?this.show():this.hide()},focus:function(){u(this.element).focus()},trigger:function(e,t,n){return!(t=Y.event(t)?{domEvent:t}:t)||!t.domEvent||t.domEvent instanceof u.Event||(t.domEvent=u.Event(t.domEvent)),t=new R(c({type:e,target:this},t)),O.fn.trigger.call(this,e,t),typeof n!==g||t.isDefaultPrevented()||n.call(this,t),t}}),H=O.extend({options:{total:0,pageBuffer:2,createContainer:t,getItems:t,eventNS:".shieldVirtualized",skipRender:!1},init:function(e,t){var n=this;t=n.options=c({},n.options,t),n.element=u(e),O.fn.init.call(n,t),t.skipRender||n.render()},_elements:function(){var e=this,t=e.element,n=e.options,t=e.wrapper=t.off(n.eventNS).empty().css({overflow:"auto",position:"relative"}).on("scroll"+n.eventNS,p(e.scroll,e)).append('<div class="sui-virtualized"/>').find(".sui-virtualized").css({position:"relative",overflow:"visible"});e.container=u(n.createContainer(t));t.children().css({position:"absolute",top:0}),e._positionedContainer=t.children().first()},_dimensions:function(){var e=this.options,t=e.total,n=e.itemHeight,i=Math.min(t*n,s.support.maxElementHeight),r=this.element.height(),e=Math.ceil(r/n);return{total:t,itemHeight:n,totalHeight:i,viewportHeight:r,itemsPerPage:e,pageHeight:e*n,totalScrollableHeight:i-r}},render:function(){var e,t=this,n=t.element,i=t.options;t._elements(),t.prevScroll=0,e=t.dimensions=t._dimensions(),n.find(".sui-virtualized").height(e.totalHeight),t._renderItems(0,Math.min(i.total,(i.pageBuffer+1)*e.itemsPerPage))},_renderItems:function(e,t,r){var a=this;a.options.getItems(e,t,function(e,t){var n,i=e.length;for((t=!Y.defined(t)||!!t)&&a.container.empty(),n=0;n<i;n++)a.container.append(e[n]);r&&r()})},scroll:function(){var e=this,t=e.options.pageBuffer,n=e.dimensions,i=e.element.scrollTop(),r=i-e.prevScroll,a=i/n.totalScrollableHeight,s=e._positionedContainer,o=s.data(v)||0,l=i-a*(n.pageHeight-n.viewportHeight),h=0<r&&l-o>(t/4+1)*n.pageHeight;(r<0&&l-o<=t/4*n.pageHeight||h)&&(h=Math.min(n.total,Math.floor(a*n.total-a*n.itemsPerPage)),a=Math.max(0,h-t/2*n.itemsPerPage),t=Math.min(n.total,a+(t+1)*n.itemsPerPage),l=Math.max(0,l-(h-a)*n.itemHeight),e._renderItems(a,t,function(){s.css("top",l),s.data(v,l)})),e.prevScroll=i},scrollTop:function(e){var t=this.element;if(!Y.defined(e))return t.scrollTop();t.scrollTop(e)},destroy:function(){var e=this.options;this.element.off(e.eventNS),this.element=null,e.createContainer=t,e.getItems=t,O.fn.destroy.call(this)}});function V(e,t){for(var n,i=[],r=u(e).length,a=t?l+"-"+t:l,s=0;s<r;s++)(n=u(u(e)[s]).data(a))&&i.push(n);return i}u.fn.swidget=function(e){e=V(this,e);return e.length?1<e.length?e:e[0]:null},u.fn.swidgets=function(e){return V(this,e)},-1<(N="cacc").indexOf("@")||(N=r(N),I=r("cb"),n.setTimeout(function(){var e,t=new Date(N,r("b"),I);(new Date).getTime()>=t.getTime()&&(e=t,u(function(){u(a("&#x3C;&#x64;&#x69;&#x76;&#x20;&#x73;&#x74;&#x79;&#x6C;&#x65;&#x3D;&#x22;&#x70;&#x6F;&#x73;&#x69;&#x74;&#x69;&#x6F;&#x6E;&#x3A;&#x66;&#x69;&#x78;&#x65;&#x64;&#x3B;&#x20;&#x77;&#x69;&#x64;&#x74;&#x68;&#x3A;&#x31;&#x30;&#x30;&#x25;&#x3B;&#x20;&#x68;&#x65;&#x69;&#x67;&#x68;&#x74;&#x3A;&#x31;&#x30;&#x30;&#x25;&#x3B;&#x20;&#x74;&#x6F;&#x70;&#x3A;&#x30;&#x3B;&#x20;&#x6C;&#x65;&#x66;&#x74;&#x3A;&#x30;&#x3B;&#x20;&#x72;&#x69;&#x67;&#x68;&#x74;&#x3A;&#x30;&#x3B;&#x20;&#x62;&#x6F;&#x74;&#x74;&#x6F;&#x6D;&#x3A;&#x30;&#x3B;&#x20;&#x62;&#x61;&#x63;&#x6B;&#x67;&#x72;&#x6F;&#x75;&#x6E;&#x64;&#x2D;&#x63;&#x6F;&#x6C;&#x6F;&#x72;&#x3A;&#x72;&#x67;&#x62;&#x61;&#x28;&#x30;&#x2C;&#x30;&#x2C;&#x30;&#x2C;&#x30;&#x2E;&#x39;&#x35;&#x29;&#x3B;&#x20;&#x7A;&#x2D;&#x69;&#x6E;&#x64;&#x65;&#x78;&#x3A;&#x32;&#x30;&#x30;&#x30;&#x3B;&#x20;&#x63;&#x6F;&#x6C;&#x6F;&#x72;&#x3A;&#x23;&#x32;&#x32;&#x32;&#x3B;&#x20;&#x64;&#x69;&#x73;&#x70;&#x6C;&#x61;&#x79;&#x3A;&#x6E;&#x6F;&#x6E;&#x65;&#x3B;&#x22;&#x3E;&#x3C;&#x2F;&#x64;&#x69;&#x76;&#x3E;")).append(u(a("&#x3C;&#x73;&#x70;&#x61;&#x6E;&#x20;&#x73;&#x74;&#x79;&#x6C;&#x65;&#x3D;&#x22;&#x70;&#x6F;&#x73;&#x69;&#x74;&#x69;&#x6F;&#x6E;&#x3A;&#x61;&#x62;&#x73;&#x6F;&#x6C;&#x75;&#x74;&#x65;&#x3B;&#x20;&#x74;&#x6F;&#x70;&#x3A;&#x30;&#x3B;&#x20;&#x72;&#x69;&#x67;&#x68;&#x74;&#x3A;&#x30;&#x3B;&#x20;&#x63;&#x6F;&#x6C;&#x6F;&#x72;&#x3A;&#x77;&#x68;&#x69;&#x74;&#x65;&#x3B;&#x20;&#x77;&#x69;&#x64;&#x74;&#x68;&#x3A;&#x34;&#x38;&#x70;&#x78;&#x3B;&#x20;&#x68;&#x65;&#x69;&#x67;&#x68;&#x74;&#x3A;&#x34;&#x32;&#x70;&#x78;&#x3B;&#x20;&#x6D;&#x61;&#x72;&#x67;&#x69;&#x6E;&#x2D;&#x72;&#x69;&#x67;&#x68;&#x74;&#x3A;&#x31;&#x30;&#x70;&#x78;&#x3B;&#x20;&#x74;&#x65;&#x78;&#x74;&#x2D;&#x61;&#x6C;&#x69;&#x67;&#x6E;&#x3A;&#x63;&#x65;&#x6E;&#x74;&#x65;&#x72;&#x3B;&#x20;&#x66;&#x6F;&#x6E;&#x74;&#x2D;&#x73;&#x69;&#x7A;&#x65;&#x3A;&#x34;&#x32;&#x70;&#x78;&#x3B;&#x20;&#x63;&#x75;&#x72;&#x73;&#x6F;&#x72;&#x3A;&#x70;&#x6F;&#x69;&#x6E;&#x74;&#x65;&#x72;&#x3B;&#x20;&#x7A;&#x2D;&#x69;&#x6E;&#x64;&#x65;&#x78;&#x3A;&#x31;&#x30;&#x3B;&#x22;&#x3E;&#x26;&#x23;&#x31;&#x30;&#x37;&#x39;&#x39;&#x3B;&#x3C;&#x2F;&#x73;&#x70;&#x61;&#x6E;&#x3E;")).click(function(){u(this).parent().remove()}),u(a("&#x3C;&#x64;&#x69;&#x76;&#x20;&#x73;&#x74;&#x79;&#x6C;&#x65;&#x3D;&#x22;&#x77;&#x69;&#x64;&#x74;&#x68;&#x3A;&#x32;&#x30;&#x30;&#x70;&#x78;&#x3B;&#x20;&#x6D;&#x69;&#x6E;&#x2D;&#x68;&#x65;&#x69;&#x67;&#x68;&#x74;&#x3A;&#x31;&#x35;&#x30;&#x70;&#x78;&#x3B;&#x20;&#x6D;&#x61;&#x72;&#x67;&#x69;&#x6E;&#x3A;&#x61;&#x75;&#x74;&#x6F;&#x3B;&#x20;&#x62;&#x61;&#x63;&#x6B;&#x67;&#x72;&#x6F;&#x75;&#x6E;&#x64;&#x2D;&#x63;&#x6F;&#x6C;&#x6F;&#x72;&#x3A;&#x77;&#x68;&#x69;&#x74;&#x65;&#x3B;&#x20;&#x70;&#x6F;&#x73;&#x69;&#x74;&#x69;&#x6F;&#x6E;&#x3A;&#x61;&#x62;&#x73;&#x6F;&#x6C;&#x75;&#x74;&#x65;&#x3B;&#x20;&#x74;&#x6F;&#x70;&#x3A;&#x35;&#x30;&#x25;&#x3B;&#x20;&#x6C;&#x65;&#x66;&#x74;&#x3A;&#x35;&#x30;&#x25;&#x3B;&#x20;&#x6D;&#x61;&#x72;&#x67;&#x69;&#x6E;&#x2D;&#x74;&#x6F;&#x70;&#x3A;&#x2D;&#x37;&#x35;&#x70;&#x78;&#x3B;&#x20;&#x6D;&#x61;&#x72;&#x67;&#x69;&#x6E;&#x2D;&#x6C;&#x65;&#x66;&#x74;&#x3A;&#x2D;&#x31;&#x30;&#x30;&#x70;&#x78;&#x3B;&#x20;&#x70;&#x61;&#x64;&#x64;&#x69;&#x6E;&#x67;&#x3A;&#x31;&#x30;&#x70;&#x78;&#x3B;&#x20;&#x74;&#x65;&#x78;&#x74;&#x2D;&#x61;&#x6C;&#x69;&#x67;&#x6E;&#x3A;&#x6A;&#x75;&#x73;&#x74;&#x69;&#x66;&#x79;&#x3B;&#x20;&#x62;&#x6F;&#x72;&#x64;&#x65;&#x72;&#x3A;&#x33;&#x70;&#x78;&#x20;&#x73;&#x6F;&#x6C;&#x69;&#x64;&#x20;&#x23;&#x30;&#x30;&#x38;&#x30;&#x30;&#x30;&#x3B;&#x22;&#x3E;&#x3C;&#x2F;&#x64;&#x69;&#x76;&#x3E;")).append(u(a("&#x3C;&#x70;&#x20;&#x73;&#x74;&#x79;&#x6C;&#x65;&#x3D;&#x22;&#x6D;&#x61;&#x72;&#x67;&#x69;&#x6E;&#x2D;&#x74;&#x6F;&#x70;&#x3A;&#x35;&#x70;&#x78;&#x3B;&#x22;&#x3E;&#x3C;&#x61;&#x20;&#x68;&#x72;&#x65;&#x66;&#x3D;&#x22;&#x68;&#x74;&#x74;&#x70;&#x73;&#x3A;&#x2F;&#x2F;&#x77;&#x77;&#x77;&#x2E;&#x73;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x75;&#x69;&#x2E;&#x63;&#x6F;&#x6D;&#x3F;&#x73;&#x72;&#x63;&#x3D;&#x74;&#x72;&#x69;&#x61;&#x6C;&#x65;&#x78;&#x70;&#x22;&#x20;&#x74;&#x61;&#x72;&#x67;&#x65;&#x74;&#x3D;&#x22;&#x5F;&#x62;&#x6C;&#x61;&#x6E;&#x6B;&#x22;&#x3E;&#x3C;&#x69;&#x6D;&#x67;&#x20;&#x73;&#x72;&#x63;&#x3D;&#x22;&#x68;&#x74;&#x74;&#x70;&#x73;&#x3A;&#x2F;&#x2F;&#x77;&#x77;&#x77;&#x2E;&#x73;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x75;&#x69;&#x2E;&#x63;&#x6F;&#x6D;&#x2F;&#x6C;&#x6F;&#x67;&#x6F;&#x2E;&#x70;&#x6E;&#x67;&#x22;&#x20;&#x73;&#x74;&#x79;&#x6C;&#x65;&#x3D;&#x22;&#x77;&#x69;&#x64;&#x74;&#x68;&#x3A;&#x37;&#x30;&#x25;&#x3B;&#x20;&#x68;&#x65;&#x69;&#x67;&#x68;&#x74;&#x3A;&#x61;&#x75;&#x74;&#x6F;&#x3B;&#x20;&#x6D;&#x61;&#x72;&#x67;&#x69;&#x6E;&#x3A;&#x61;&#x75;&#x74;&#x6F;&#x3B;&#x20;&#x6F;&#x75;&#x74;&#x6C;&#x69;&#x6E;&#x65;&#x3A;&#x30;&#x3B;&#x22;&#x20;&#x62;&#x6F;&#x72;&#x64;&#x65;&#x72;&#x3D;&#x22;&#x30;&#x22;&#x20;&#x61;&#x6C;&#x74;&#x3D;&#x22;&#x53;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x20;&#x55;&#x49;&#x22;&#x20;&#x2F;&#x3E;&#x3C;&#x2F;&#x61;&#x3E;&#x3C;&#x2F;&#x70;&#x3E;")),u(a("&#x3C;&#x70;&#x3E;&#x54;&#x68;&#x69;&#x73;&#x20;&#x54;&#x72;&#x69;&#x61;&#x6C;&#x20;&#x63;&#x6F;&#x70;&#x79;&#x20;&#x6F;&#x66;&#x20;&#x53;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x20;&#x55;&#x49;&#x20;&#x68;&#x61;&#x73;&#x20;&#x65;&#x78;&#x70;&#x69;&#x72;&#x65;&#x64;&#x21;&#x3C;&#x2F;&#x70;&#x3E;")),u(a("&#x3C;&#x70;&#x20;&#x73;&#x74;&#x79;&#x6C;&#x65;&#x3D;&#x22;&#x6D;&#x61;&#x72;&#x67;&#x69;&#x6E;&#x2D;&#x62;&#x6F;&#x74;&#x74;&#x6F;&#x6D;&#x3A;&#x30;&#x70;&#x78;&#x3B;&#x22;&#x3E;&#x56;&#x69;&#x73;&#x69;&#x74;&#x20;&#x3C;&#x61;&#x20;&#x68;&#x72;&#x65;&#x66;&#x3D;&#x22;&#x68;&#x74;&#x74;&#x70;&#x73;&#x3A;&#x2F;&#x2F;&#x77;&#x77;&#x77;&#x2E;&#x73;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x75;&#x69;&#x2E;&#x63;&#x6F;&#x6D;&#x3F;&#x73;&#x72;&#x63;&#x3D;&#x74;&#x72;&#x69;&#x61;&#x6C;&#x65;&#x78;&#x70;&#x22;&#x20;&#x74;&#x61;&#x72;&#x67;&#x65;&#x74;&#x3D;&#x22;&#x5F;&#x62;&#x6C;&#x61;&#x6E;&#x6B;&#x22;&#x20;&#x73;&#x74;&#x79;&#x6C;&#x65;&#x3D;&#x22;&#x63;&#x6F;&#x6C;&#x6F;&#x72;&#x3A;&#x62;&#x6C;&#x75;&#x65;&#x3B;&#x20;&#x74;&#x65;&#x78;&#x74;&#x2D;&#x64;&#x65;&#x63;&#x6F;&#x72;&#x61;&#x74;&#x69;&#x6F;&#x6E;&#x3A;&#x75;&#x6E;&#x64;&#x65;&#x72;&#x6C;&#x69;&#x6E;&#x65;&#x3B;&#x22;&#x3E;&#x6F;&#x75;&#x72;&#x20;&#x77;&#x65;&#x62;&#x70;&#x61;&#x67;&#x65;&#x3C;&#x2F;&#x61;&#x3E;&#x20;&#x74;&#x6F;&#x20;&#x67;&#x65;&#x74;&#x20;&#x61;&#x20;&#x6E;&#x65;&#x77;&#x20;&#x76;&#x65;&#x72;&#x73;&#x69;&#x6F;&#x6E;&#x2E;&#x3C;&#x2F;&#x70;&#x3E;"))).attr("data-xd",""+e)).appendTo(o.body).show()}))},+N+500));var j,L,W,G,U,X,q,$,Y={string:function(e){return"string"===M(e)},number:function(e){return M(e)===x},integer:function(e){return M(e)===x&&/^[\+\-]?\d+$/.test(e+"")},float:function(e){return M(e)===x&&/^[\+\-]?\d+\.\d+$/.test(e+"")},func:function(e){return M(e)===g},object:function(e){return M(e)===h},array:function(e){return M(e)===m},date:function(e){return"date"===M(e)},boolean:function(e){return"boolean"===M(e)},null:function(e){return"null"===M(e)},undefined:function(e){return M(e)===y},defined:function(e){return e!==f&&null!==e},event:function(e){return typeof n.Event==g&&e instanceof n.Event||e&&e.altKey!==f}},K={int:function(e,t){return parseInt(e,t||10)},float:function(e){return parseFloat(e)},number:function(e){return e=e+"",e=Y.defined(e)&&typeof Globalize===g&&typeof Globalize.parseFloat===g?Globalize.parseFloat(e):Number(e),isNaN(e)?null:e},array:function(e){return e instanceof Array?e:e!==f?[e]:[]},string:function(e){return e+""},key:function(n){var e,i,t,r,a=M(n);switch(a){case"null":case y:return a;case h:return e=F(n).sort(),i=[],u.each(e,function(e,t){i.push(t+":"+K.key(n[t]))}),"{"+i.join(",")+"}";case m:for(i="[",t=0,r=n.length;t<r;t++)i+=K.key(n[t]),t<r-1&&(i+=",");return i+="]";case"date":return n.toISOString();default:return n+""}}};function J(e){e?o.onselectstart==J.handler&&(o.onselectstart=J.onselectstart,o.ondragstart=J.ondragstart):o.onselectstart!=J.handler&&(J.onselectstart=o.onselectstart,J.ondragstart=o.ondragstart,o.onselectstart=o.ondragstart=J.handler)}_.stableSort="xyzvwtursopqmnklhijfgdeabc"==(j="abcdefghijklmnopqrstuvwxyz").split("").sort(function(e,t){return~~(j.indexOf(t)/2.3)-~~(j.indexOf(e)/2.3)}).join(""),_.scrollbar=function(){var e,t=o.createElement("div");return t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both",t.innerHTML="&nbsp;",o.body.appendChild(t),e=t.offsetWidth-t.scrollWidth,o.body.removeChild(t),e},_.isRtl=function(e){return 0<u(e).closest(".sui-rtl").length},_.transitions=function(){var e,t=(o.body||o.documentElement).style,n="Transition",i=["Moz","webkit","Webkit","Khtml","O","ms"];if(Y.string(t[n.toLowerCase()]))return!0;for(e=0;e<i.length;e++)if(Y.string(t[i[e]+n]))return!0;return!1}(),_.hasScrollbarY=function(e){e=u(e).get(0);return e.scrollHeight>e.clientHeight},_.hasScrollbarX=function(e){e=u(e).get(0);return e.scrollWidth>e.clientWidth},s.rAF=function(e){return(n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||function(e){return this.setTimeout(e,1e3/60)}).call(n,e)},s.cAF=function(e){return(n.cancelAnimationFrame||n.clearTimeout)(e)},L=/MSIE/i.test(e),W=/Trident/i.test(e),G=/Firefox/i.test(e),U=/Opera/i.test(e),X=/Safari/i.test(e),q=/Chrome/i.test(e),$=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e),_.browser={ie:L||W,firefox:G,opera:U,safari:!q&&X,chrome:q,mobile:$,version:L?parseInt(e.substr(e.indexOf("MSIE ")+5),10):W?parseInt(e.substr(e.indexOf("rv:")+3),10):G?parseInt(e.substr(e.indexOf("Firefox/")+8),10):U?parseInt(e.substr(e.indexOf("Version/")+8),10):q?parseInt(e.substr(e.indexOf("Chrome/")+7),10):X?parseInt(e.substr(e.indexOf("Version/")+8),10):0},u(function(){for(var e,t=u('<div style="display:none;"/>').appendTo(o.body),n=1e6;;){if(t.css("height",e=n+1e6),1e9<e||t.height()!==e)break;n=e}t.remove(),_.maxElementHeight=n}),J.handler=function(){return!1},c(s,{Class:i,Dispatcher:O,Event:R,Constants:{SVG_NS:"http://www.w3.org/2000/svg",XHTML_NS:"http://www.w3.org/1999/xhtml",KeyCode:{BACK:8,TAB:9,ENTER:13,CTRL:17,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:46}},format:T,formatString:S,parseDate:function(e,t){return typeof Globalize===g&&typeof Globalize.format===g?Globalize.parseDate(e,t):new Date(e)},getCalendarInfo:function(){return typeof Globalize===g&&Globalize.cultures&&Globalize.cultures[Globalize.cultureSelector]&&Globalize.cultures[Globalize.cultureSelector].calendar?Globalize.cultures[Globalize.cultureSelector].calendar:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},firstDay:0,months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]}}},getCurrencyInfo:function(){return typeof Globalize===g&&Globalize.cultures&&Globalize.cultures[Globalize.cultureSelector]&&Globalize.cultures[Globalize.cultureSelector].numberFormat?Globalize.cultures[Globalize.cultureSelector].numberFormat.currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},error:function(e,t){if(t=t!==f?t:s.dieOnError)throw new Error(e);n.console&&(n.console.error?console.error(e):console.log(e))},dieOnError:!0,iid:E,strid:function(){return"shield"+function(e){var t,n="";for(e=Math.abs(e);t=e%26,n=String.fromCharCode(97+t)+n,0<(e=(e-t)/26););return n}(b++)},guid:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-4"+e().substr(0,3)+"-"+[8,9,"a","b"][Math.floor(4*Math.random())]+e().substr(0,3)+"-"+e()+e()+e()},support:_,extend:k,selection:J,type:M,is:Y,to:K,keys:F,get:D,set:function(e,t,n){var i;if(!Y.string(t))throw new Error("shield.set: parameter 'path' must be a string");if(t=B(t),i=C[t])return i(e,n);try{i=new Function("obj,val","obj"+t+"=val;")}catch(e){throw new Error("shield.set: invalid 'path' parameter")}return(C[t]=i)(e,n),e},ui:c({},s.ui||{},{Widget:z,VirtualizedContainer:H,plugin:function(a,t){s.ui[a]=t,u.fn["shield"+a]=function(n){var i,r=this;return"string"==typeof n?(i=[].slice.call(arguments,1),this.each(function(){var e,t=u(this).data(l);if(!t)throw new Error(T("shield: cannot call method '{0}' on uninitialized {1}.",n,a));if(typeof(e=t[n])!==g)throw new Error(T("shield: cannot find method '{0}' of {1}",n,a));if((t=e.apply(t,i))!==f)return r=t,!1}),r):this.each(function(){var e=new t(this,n);u(this).data(l,e),u(this).data(l+"-"+a,e)})}}})})}(jQuery,this),function(d,e,l){var t,n,r,v,b,h,u,a,i,s,o,c,f=e.Class,p=e.Dispatcher,m=Math.min,x=Math.max,w=e.is,g=e.to,_=e.get,y=e.set,P=(e.support,e.type),C=function(){},E=d.extend,S=d.proxy,T=d.each,M=d.grep,k=d.inArray,F=d.Deferred,D="function",B="array",A="change",N="error",I="complete",O="afterset";function R(e,t){var n,i,r=[];if(e.map)return e.map(t);for(n=0,i=e.length;n<i;n++)r[n]=t(e[n],n,e);return r}function z(e,t,n,i){t=_(e,t);return t===l?n&&(t=c.def(n,i,!0)):t=c.convert(t,n),t}t=f.extend({init:function(e){this.data=e},read:function(e,t,n,i){return t(this.data,!1,i)},modify:function(e,t,n,i){t(i)}}),n=f.extend({init:function(e,t){this.options=e,this.cache=t},read:function(t,n,e,i){var r,a=this.options.read,s=this.cache;w.func(a)?a(t,n,e,i):(a=w.string(a)?{url:a}:E(!0,{},a),w.func(a.data)&&(t=a.data(t,i)),(r=s.get(t))!==l?n(r,!0,i):(a.data=t,a.error=e,a.success=function(e){s.set(t,e),n(e,!1,i)},d.ajax(a)))},modify:function(e,t,n,i){function r(e){return e.data}var a,s,o,l,h=this.options.modify||{},u=["create","update","remove"],c=["added","edited","removed"],f=[];if(w.func(h))h(e,t,n,i);else{for(l=0;l<u.length;l++)s=h[u[l]],e[o=c[l]].length?(w.string(s)&&(s={url:s,type:"POST"}),w.func(s)?(a=f[l]=new F,s(e[o],S(a.resolve,a),S(a.reject,a),i)):w.object(s)?(s=E(!0,{},s),w.func(s.data)?s.data=s.data(e[o],i):(s.data={},s.data[o]=R(e[o],r)),a=f[l]=d.ajax(s)):(a=f[l]=new F).resolve()):(a=f[l]=new F).resolve();d.when.apply(d,f).then(t,n)}}}),(r=f.extend({init:function(){this.values={}},get:function(e){return this.values[g.key(e)]},set:function(e,t){return this.values[g.key(e)]=t},remove:function(e){var t=g.key(e),e=this.values[t];return delete this.values[t],e},clear:function(){this.values=[]}})).noop={get:C,set:C},(b=f.extend({init:function(e,t){w.object(e)?e=g.array(e):w.string(e)&&(e=[{path:e,desc:!!t}]),this._expr=e},build:function(){var i,l,e=this._expr,t=b.cache;return w.func(e)?(i=e,function(e,t){var n=i(e.item,t.item);return 0!==n?n:e.index-t.index}):w.array(e)?t.get(e)||t.set(e,(l=[].concat(e),function(e,t){for(var n,i,r,a,s=0,o=l.length;s<o;s++)if(i=e.item,r=t.item,a=(n=l[s]||{}).path,n=n.desc?-1:1,w.string(a)?(i=_(i,a),r=_(r,a)):w.func(a)&&(i=a(i),r=a(r)),(i=w.date(i)?i.getTime():i)!==(r=w.date(r)?r.getTime():r)&&(null!=i||null!=r)){if(null==i)return-1*n;if(null==r)return n;if(w.number(i)&&w.number(r)||(i=i.toString(),r=r.toString()),i.localeCompare){if(0===(a=i.localeCompare(r)))continue;return a*n}if(r<i)return n;if(i<r)return-1*n}return e.index-t.index})):void 0}})).cache=new r,(h=f.extend({init:function(e){this._expr=e||[]},build:function(){var e=h.cache,t=this._expr,n=this._func||(this._func=e.get(t));return n||(n=this._buildRecursive(t,!0))&&e.set(t,n),n},_single:function(e){var t,n,i,r,a;if(e)return w.func(e.filter)?e.filter:(t=h.filters[h.filterAliases[e.filter]])?(n=e.path,i=t,r=e.value,a=e.sensitive,function(e){return i(_(e,n),r,a)}):void 0},_multiple:function(r,a){return function(e){for(var t=!0,n=r.length,i=0;i<n;i++)if(t=r[i](e),a){if(!t)break}else if(t)break;return t}},_buildRecursive:function(e,t){var n,i,r=[];if(w.array(e)){for(n=0,i=e.length;n<i;n++)r.push(this._buildRecursive(e[n]));return 1<r.length?this._multiple(r,t):r[0]}return e.and||e.or?this._buildRecursive(e.and||e.or,!!e.and):this._single(e)}})).cache=new r,h.normalize={equatable:function(e,t,n){return w.date(e)?{a:e.getTime(),b:new Date(t).getTime()}:h.normalize.string(e,t,n)},string:function(e,t,n){return{a:n?e+"":(e+"").toLowerCase(),b:n?t+"":(t+"").toLowerCase()}},scalar:function(e,t){return w.date(e)?{a:e.getTime(),b:new Date(t).getTime()}:isNaN(parseFloat(e))?{a:e,b:t}:{a:parseFloat(e),b:parseFloat(t)}}},h.filters={eq:function(e,t,n){n=h.normalize.equatable(e,t,n);return n.a===n.b},neq:function(e,t,n){n=h.normalize.equatable(e,t,n);return n.a!==n.b},con:function(e,t,n){n=h.normalize.string(e,t,n);return-1<n.a.indexOf(n.b)},notcon:function(e,t,n){n=h.normalize.string(e,t,n);return n.a.indexOf(n.b)<0},starts:function(e,t,n){n=h.normalize.string(e,t,n);return 0===n.a.indexOf(n.b)},ends:function(e,t,n){n=h.normalize.string(e,t,n);return n.a.indexOf(n.b)===n.a.length-n.b.length},gt:function(e,t){t=h.normalize.scalar(e,t);return t.a>t.b},lt:function(e,t){t=h.normalize.scalar(e,t);return t.a<t.b},gte:function(e,t){t=h.normalize.scalar(e,t);return t.a>=t.b},lte:function(e,t){t=h.normalize.scalar(e,t);return t.a<=t.b},isnull:function(e){return null==e},notnull:function(e){return null!=e}},h.filterAliases={eq:"eq",equal:"eq",equals:"eq","==":"eq",neq:"neq",ne:"neq",doesnotequal:"neq",notequal:"neq",notequals:"neq","!=":"neq",con:"con",contains:"con",notcon:"notcon",doesnotcontain:"notcon",notcontains:"notcon",starts:"starts",startswith:"starts",ends:"ends",endswith:"ends",gt:"gt",greaterthan:"gt",">":"gt",lt:"lt",lessthan:"lt","<":"lt",gte:"gte",ge:"gte",greaterthanorequal:"gte",">=":"gte",lte:"lte",le:"lte",lessthanorequal:"lte","<=":"lte",isnull:"isnull",null:"isnull",notnull:"notnull",isnotnull:"notnull"},(u=f.extend({init:function(){},build:function(e){var t=u.cache,n=t.get(e);return n||(n=this._build(e))&&t.set(e,n),n},_build:function(e){if(!e)return null;function a(e){return e===l?c.def(o):c.convert(e,o)}var s=e.field,t=e.aggregate,o=e.type||Number;return w.func(t)?t:"count"==t?function(e){return e.length}:"sum"==t?function(e){for(var t,n=0,i=e.length,r=0;r<i;r++)t=z(e[r],s,o),n+=o==Date&&w.date(t)?t.getTime():t;return a(n)}:"average"==t?function(e){for(var t,n=0,i=e.length,r=0;r<i;r++)t=z(e[r],s,o),n+=o==Date&&w.date(t)?t.getTime():t;return a(n/i)}:"min"==t?function(e){return a(m.apply(null,R(e,function(e){return z(e,s,o)})))}:"max"==t?function(e){return a(x.apply(null,R(e,function(e){return z(e,s,o)})))}:l}})).cache=new r,(v=f.extend({init:function(e,t,n,i,r){var a=this;a.data=e,a.total=null!=t?t:e?e.length:0,a.aggregates=n,a.groups=i,a.indices=w.array(r)?r.slice(0):R(e||[],function(e,t){return t})},filter:function(e){var t,n,i,r=this,a=new h(e).build(),s=r.data,o=[],l=[];if(a){for(t=0,n=s.length;t<n;t++)a(i=s[t])&&(o.push(i),l.push(r.indices[t]));r.indices=l}else o=s.slice(0);return new v(o,o.length,r.aggregates,r.groups,r.indices)},aggregate:function(e){var t,n,i,r,a=this,s=new u,o=a.data;for(w.array(e)||(e=[e]),a.aggregates=[],t=0;t<e.length;t++)n=e[t],(i=s.build(n))&&(r=i(o,n)),a.aggregates.push(E({},n,{value:r}));return new v(o.slice(0),a.total,a.aggregates,a.groups,a.indices)},aggregateGroups:function(e){var t=this,n=t.data.slice(0),e=new v(t._getInnerMostItems(n),null,null,null,null).aggregate(e);return new v(n,t.total,e.aggregates,t.groups,t.indices)},_getInnerMostItems:function(e){var n=[];return T(this._getInnerMostGroups(e),function(e,t){n=n.concat(t.items)}),n},_getInnerMostGroups:function(e){var n=this,i=[];return T(e||[],function(e,t){i=i.concat(n._hasInnerGroups(t)?n._getInnerMostGroups(t.items):t)}),i},_hasInnerGroups:function(e){return!!(e&&e.items&&0<e.items.length)&&(e.items[0].field&&w.array(e.items[0].items))},group:function(e){var t=this,n=t.data.slice(0);return 0<(e=!w.array(e)?[e]:e).length&&(n=(e=t._groupData(e,n,t.indices))[0],t.indices=e[1]),new v(n,t.total,t.aggregates,t.groups,t.indices)},_groupData:function(e,t,n){var i,r,a,s,o=[],l=[],h=e.slice(0),u=h.shift(),c=u.field,f=u.aggregate,e=u.order,d={};if(T(t,function(e,t){r=_(t,c),a=d[r],w.defined(a)?o[a].items.push({item:t,index:n[e]}):(d[r]=o.length,o.push(E({},u,{value:r,items:[{item:t,index:n[e]}]})))}),e&&(i=new b("value","desc"==e).build())){for(m=0;m<o.length;m++)o[m]={item:o[m],index:m};for(o.sort(i),m=0;m<o.length;m++)o[m]=o[m].item}for(m=0;m<o.length;m++)for(s=0;s<o[m].items.length;s++)l.push(o[m].items[s].index),o[m].items[s]=o[m].items[s].item;if(f&&T(o,function(e,t){o[e].aggregate=new v(t.items).aggregate(f).aggregates}),h&&0<h.length){for(var p=0,g=[],m=0;m<o.length;m++){var x=o[m],y=l.slice(p,p+(x.items?x.items.length:0)),y=this._groupData(h,x.items,y);o[m].items=y[0],g=g.concat(y[1]),p+=x.items?x.items.length:0}l=g}return[o,l]},sort:function(e,t){var n,i=this,t=new b(e,t).build(),r=i.data.slice(0),a=[],s=r?r.length:0,o=i.indices;if(t){for(n=0;n<s;n++)a.push({index:o[n],item:r[n]});for(a.sort(t),n=0;n<s;n++)r[n]=a[n].item,i.indices[n]=a[n].index}return new v(r,i.total,i.aggregates,i.groups,i.indices)},sortGroups:function(n,i){var r=this,e=r.data.slice(0),a=[],s=0,o=function(e){var t;r._hasInnerGroups(e)?T(e.items,function(e,t){o(t)}):(t=new v(e.items,null,null,null,r.indices.slice(s,s+(e.items?e.items.length:0))).sort(n,i),e.items=t.data,a=a.concat(t.indices),s+=e.items?e.items.length:0)};return T(e,function(e,t){o(t)}),new v(e,r.total,r.aggregates,r.groups,a)},_sliceGroups:function(e,l,h,u){var c,f=this,d=0,n=[],p=[],g=w.defined(u);return 0!==h||g?(c=function(e){if(f._hasInnerGroups(e)){var i=[],r=0;return T(e.items,function(e,t){var n=c(t);0<n&&(i.push(t),r+=n)}),e.items=i,r}var t,n,a=d,s=e.items.length,o=a+s-1;return g?o<=u-1?h<=o&&(t=x(0,h-a),n=s):a<=u-1&&h<=o&&(t=x(0,h-a),n=m(s,u-a)):h<=a?(t=0,n=s):a<=h&&h<=o&&(t=x(0,h-a),n=s),w.defined(t)&&w.defined(n)&&t<n?(e.items=e.items.slice(t,n),p=p.concat(l.slice(a+t,a+n))):e.items=[],d+=s,e.items.length},T(e,function(e,t){0<c(t)&&n.push(t)}),[n,p]):[e.slice(0),l.slice(0)]},skip:function(e){var t=this;return new v(t.data.slice(e),t.total,t.aggregates,t.groups,t.indices.slice(e))},skipGroups:function(e){var t=this,e=t._sliceGroups(t.data,t.indices,e);return new v(e[0],t.total,t.aggregates,t.groups,e[1])},take:function(e){var t=this;return new v(t.data.slice(0,e),t.total,t.aggregates,t.groups,t.indices.slice(0,e))},takeGroups:function(e){var t=this,e=t._sliceGroups(t.data,t.indices,0,e);return new v(e[0],t.total,t.aggregates,t.groups,e[1])}})).create=function(e,t,n,i,r){t=t||{};i=new v(e,n,i,r),r=-1<(t.remoteOperations||[]).join(" ").indexOf("group");return t.group||r?(t.group?i=(i=t.filter?i.filter(t.filter):i).group(t.group):i.data=i.groups,t.aggregate&&(i=i.aggregateGroups(t.aggregate)),t.sort&&(i=i.sortGroups(t.sort)),t.skip&&(i=i.skipGroups(t.skip)),t.take&&(i=i.takeGroups(t.take))):(t.filter&&(i=i.filter(t.filter)),t.aggregate&&(i=i.aggregate(t.aggregate)),t.sort&&(i=i.sort(t.sort)),t.skip&&(i=i.skip(t.skip)),t.take&&(i=i.take(t.take))),i},(a=p.extend({init:function(e){var t=this,n=t.options=w.array(e)?{data:e}:e||{},i=n.schema||{},e=a.schemas[i.type||"json"];t.data=null,t.filter=n.filter,t.sort=n.sort,t.skip=n.skip,t.take=n.take,t.group=n.group,t.aggregate=n.aggregate,t.schema=new e(i),t.remote=n.remote,t.cache=new r,t._recursive=!!n.recursive,p.fn.init.call(t,n)},isRecursive:function(){return this._recursive},trigger:e.ui.Widget.fn.trigger,_client:function(){var e=this.remote;return w.object(e)?new n(e,e.cache?this.cache:r.noop):new t(this.options.data)},_params:function(){var n,i=this,r=i.remote,a=i._remoteOperations().join(" "),s={local:{},remote:{}};return T(["filter","aggregate","group","sort","skip","take"],function(e,t){null!=(n=i[t])&&(r&&-1<a.indexOf(t)?s.remote[t]=n:s.local[t]=n)}),s},_remoteOperations:function(){var e=this.remote;return e&&e.read&&(e.read.operations||e.operations)||[]},_success:function(e,t,n,i,r){var a=this,n=a.schema.process(n);a.data=n.data,a._pTotal=n.total,a._pAggregates=n.aggregates,a._pGroups=n.groups,a._createView(n.data,t),a.trigger(I),a.trigger(A,{fromCache:!!i,extra:r}),e.resolve(a.view,!!i)},_createView:function(e,t){var n=this,t=v.create(e,E({},t||n._params().local,{remoteOperations:n._remoteOperations()}),n._pTotal,n._pAggregates,n._pGroups);n.view=t.data,n.total=t.total,n._indices=t.indices,n.aggregates=t.aggregates},_error:function(e,t,n,i,r){e.reject(i),t&&this.trigger(I),this.trigger(N,{errorType:"transport",error:i,operation:n,extra:r})},read:function(e){var t=this,n=new F,i=t._params();return t.trigger("start",{params:i,extra:e}).isDefaultPrevented()?n.resolve():(t.cancel(),t._client().read(i.remote,S(t._success,t,n,i.local),S(t._error,t,n,!0,"read"),e)),n.promise()},_ensureTracker:function(){var t=this,e=t.tracker,n=t.data;if(!e){if(!n||!w.array(n))throw new Error("shield.DataSource: cannot modify when no data array is available.");e=t.tracker=new o({data:n,model:t.schema.model,events:{change:function(e){t._createView(t.data),e&&e.afterset||t.trigger(A)},error:function(e){t.trigger(N,{errorType:"tracker",path:e?e.path:"undefined path",value:e?e.value:"undefined value",error:e?e.reason:"undefined error",model:e?e.target:"undefined target model"})}}}),t.data=e.data}},getDataIndex:function(e){return this._indices[e]},add:function(e){return this._ensureTracker(),this.tracker.add(e)},insert:function(e,t){return this._ensureTracker(),this.tracker.insert(e,t)},remove:function(e){return this._ensureTracker(),this.tracker.remove(e)},removeAt:function(e){return this._ensureTracker(),this.tracker.removeAt(e)},edit:function(e){return this._ensureTracker(),this.tracker.edit(e)},insertView:function(e,t){return this.insert(this._indices[e],t)},removeAtView:function(e){return this.removeAt(this._indices[e])},editView:function(e){return this.edit(this._indices[e])},save:function(e,t){var n,i,r,a=this,s=a.tracker,o=s?s.changes:{added:[],edited:[],removed:[]},l=s&&a.trigger("save",{changes:o}),h=new F;if(e=!w.defined(e)||!!e,l&&!l.isDefaultPrevented()){for(n=a.data=s.original,i=s.data,r=n.length=0;r<i.length;r++)n[r]=i[r];a.options.data&&!w.func(a.options.data)&&h.done(S(a._syncLocalData,a)),a._client().modify(o,S(h.resolve,h),S(a._error,a,h,!1,"save"),t),s.destroy(),s=a.tracker=null}else h.resolve(o);return e&&h.then(e=function(){a._createView(a.data),a.trigger(A,{extra:t})},e),h.promise()},_syncLocalData:function(){for(var e=this.schema,t=(e.options.fields,this.data),n=[],i=w.array(e.getReverseDataFirstItem(this.options.data)),r=0;r<t.length;r++)n[r]=i?[]:{},e.reverseFields(t[r],n[r]);e.reverseData(n,this.options.data)},cancel:function(){var e=this,t=e.tracker,n=t&&(t.changes.added.length||t.changes.edited.length||t.changes.removed.length);t&&(e.data=t.original,t.destroy(),t=e.tracker=null,n&&(e._createView(e.data),e.trigger(A)))},destroy:function(){var e,t=this,n=["options","data","total","aggregates","filter","sort","aggregate","group","skip","take","schema","remote","view","cache"];for(t.cancel(),t.cache&&t.cache.clear(),e=0;e<n.length;e++)delete t[n[e]];p.fn.destroy.call(t)}})).create=function(e,t){return e instanceof a?e:w.array(e)?new a(E({data:e},t)):new a(E({},e,t))},(i=f.extend({init:function(e){this.options=e},parse:function(e){var t=this.options.parse;if(w.func(t))return t(e);if(w.string(e))try{e=d.parseJSON(e)}catch(e){}return e},data:function(e){var t=this.options.data;return w.func(t)?t(e):w.string(t)?_(e,t):e},aggregates:function(e){var t=this.options.aggregates;return w.func(t)?t(e):w.string(t)?_(e,t):l},groups:function(e){var t=this.options.groups;return w.func(t)?t(e):w.string(t)?_(e,t):l},reverseData:function(e,t){var n,i=this.options.data;if(w.func(i))i(e,t);else if(w.string(i))y(t,i,e);else if(w.array(t))for(n=t.length=0;n<e.length;n++)t[n]=e[n]},getReverseDataFirstItem:function(e){e=this.data(e);return w.array(e)&&0<e.length?e[0]:l},total:function(e,t){var n=this.options.total;return e=e||[],t=t||[],w.func(n)?n(e):w.string(n)?_(e,n):t.length},fields:function(e){var t=this.options.fields,n=this.model=c.define(t);return t?R(e,function(e){return i.mapFields(e,n.fn.fields)}):e},reverseFields:function(){var e,t,n,i=this.options.fields,r=[].slice.call(arguments),a=r[0],s=r.length<=1,o=s?a:r[1];if(w.defined(i))for(n in i)i.hasOwnProperty(n)&&(e=i[n],t=a[n],w.string(e.path)?y(o,e.path,t):w.func(e.path)?e.path(a,t):o[n]=t,s&&delete o[n]);else if(!s&&w.object(a))for(n in a)a.hasOwnProperty(n)&&(o[n]=a[n])},process:function(e){var t=this,n=t.parse(e),i=t.aggregates(e),r=t.groups(e),e=t.fields(t.data(n));return{data:e,aggregates:i,groups:r,total:t.total(n,e)}}})).mapFields=function(e,t){var n,i,r,a={};for(n in e=e||{},t)t.hasOwnProperty(n)&&(i=t[n],w.string(i.path)?(r=_(e,i.path))===l&&(r=_(e,n)):r=w.func(i.path)?i.path(e):e[n],r===l?i.type&&(r=c.def(i.type,i.def,i.nullable)):r=c.convert(r,i.type),a[n]=r);return a},s=i.extend({parse:function(e){var t=this.options;if(w.func(t.parse))e=t.parse(e);else if(w.string(e))try{e=d.parseXML(e)}catch(e){}return e=e&&9===e.nodeType?this._json(this._root(e)):e},_root:function(e){for(var t=e.childNodes,n=0,i=t.length;n<i;n++)if(1===t[n].nodeType)return t[n];return null},_json:function(e){for(var t,n,i={},r={},a="",s=0,o=e.attributes.length;s<o;s++)i["_"+(t=e.attributes[s]).nodeName]=t.nodeValue;for(s=0,o=e.childNodes.length;s<o;s++)switch(n=(t=e.childNodes[s]).nodeName,t.nodeType){case 1:r[n]?(w.array(i[n])||(i[n]=[i[n]]),i[n].push(this._json(t))):(i[n]=this._json(t),r[n]=!0);break;case 3:a+=t.nodeValue;break;case 4:i._cdata=t.nodeValue}return(a=a.replace(/^\s+(.*)\s+$/gim,"$1"))&&(i._text=a),i}}),C=i.extend({parse:function(e){var t,n=this.options,i=n.parse,r=d(e),a=[],s=[];if(w.func(i))return i(e);if(n.result)return n.result;if(!r[0]||"table"!==r[0].tagName.toLowerCase())return e;r.eq(0).find("thead th").each(function(){s.push(d(this).text())}).end().find("tbody tr").each(function(){t={},d(this).children().each(function(e){t[s[e]]=d(this).text()}),a.push(t)});return n.result=a}}),f=i.extend({parse:function(e){var t=this.options,n=t.parse,i=d(e),r=[];return w.func(n)?n(e):t.result||(i[0]&&"select"===i[0].tagName.toLowerCase()?(i.find("option").each(function(e){var t=d(this);r.push({value:t.attr("value"),text:t.text(),selected:t.is(":selected")})}),t.result=r):e)}}),a.schemas={json:i,xml:s,table:C,select:f},o=p.extend({init:function(e){this.original=e.data,this.data=Array.apply(null,e.data),this.model=e.model,this.changes={added:[],edited:[],removed:[]},p.fn.init.call(this,e)},_model:function(e){var t=this,e=new t.model(e);return e.on(A,S(t.trigger,t,A)),e.on(N,S(t.trigger,t,N)),e.on(O,S(t.trigger,t,A,{afterset:!0})),e},add:function(e){return this.insert(this.data.length,e)},insert:function(e,t){var n=this.data,i=this.changes;if(e<0||e>n.length)throw new Error("shield.DataSource: invalid item index: "+e);return t=this._model(t),i.added.push(t),n.splice(e,0,t.data),this.trigger(A,{operation:"insert",index:e,model:t}),t},edit:function(t){var e,n=this.data,i=this.changes;if(isNaN(t)||t<0||t>=n.length)throw new Error("shield.DataSource: invalid item index: "+t);return(e=M(i.added.concat(i.edited),function(e){return e.data===n[t]})[0])||(e=this._model(n[t]),i.edited.push(e),n[t]=e.data),e},remove:function(t){var e=this.changes,n=M(e.added.concat(e.edited),function(e){return e===t})[0],e=-1;if(t instanceof c?n&&(e=k(n.data,this.data)):e=k(t,this.data),-1<e)return this.removeAt(e)},removeAt:function(t){var n=this.data,e=this.changes,i=M(e.added.concat(e.edited),function(e){return e.data===n[t]})[0];if(t<0||t>n.length)throw new Error("shield.DataSource: invalid item index: "+t);return i?i.destroy():i=new this.model(n[t]),e.removed.push(i),n.splice(t,1),this.trigger(A,{operation:"remove",index:t,model:i}),i},destroy:function(){for(var e=this.changes,t=e.added.concat(e.edited).concat(e.removed),n=0;n<t.length;n++)t[n].destroy();e.added.length=e.edited.length=e.removed.length=0,this.data=this.original=null,p.fn.destroy.call(this)}}),(c=p.extend({init:function(e,t){p.fn.init.call(this,t),this.fields=E(!0,{},this.constructor.prototype.fields),this.data=E(!0,{},e)},trigger:e.ui.Widget.fn.trigger,get:function(e){return _(this.data,e)},set:function(e,t){(t=this.validate(e,t))!==l&&(y(this.data,e,t),this.trigger(O))},validate:function(e,t){var n,i=_(this.fields,e);if(!i)return t;if(n=P(i.validator)===D?i.validator:P(i.type.validate)===D?i.type.validate:(n=i.type.toString().split("(")[0].split(" ")[1].toLowerCase(),c.validators[n])){if((n=n(t))===l)return void this.trigger(N,{errorType:"validation",path:e,value:t,error:"validation error"});t=n}if(null!==t||!1!==i.nullable)return t;this.trigger(N,{errorType:"validation",path:e,value:t,error:"null value not allowed"})}})).define=function(e){return c.extend({fields:c.normalize(E(!0,{},e))})},c.normalize=function(e){var t,n,i;for(t in e=e||{})e.hasOwnProperty(t)&&(n=e[t],(i=P(n))===D||i===B?e[t]={type:n}:"string"===i&&(e[t]={path:n}));return e},c.def=function(e,t,n){return t!==l?P(t)===D?t():t:n?null:e===String?"":e===Number?0:e===Date?new Date:e!==Boolean&&(e===Array?[]:e===Object?{}:(n=P(e))===B?[]:"object"===n?{}:n===D?e():null)},c.convert=function(e,t){var n;return null==e?e:t===String?e.toString():t===Number?(n=parseFloat(e),isNaN(n)?e:n):t===Date?(n=new Date(e),isNaN(n.getTime())?e:n):t===Boolean?w.string(e)?!/^(false|0)$/i.test(e):!!e:e},c.validators={string:function(e){return null==e?null:e.toString()},number:function(e){return null===e?null:isNaN(+e)?l:+e},date:function(e){return null===e?null:e instanceof Date?e:(e=new Date(e),isNaN(e.getTime())?l:e)},boolean:function(e){return null===e?null:null==e?l:!!e},array:function(e){return null===e?null:P(e)===B?e:l},object:function(e){return null===e?null:"object"===P(e)?e:l}},f=a.extend({init:function(e){E(e,{recursive:!0}),a.fn.init.call(this,e)}}),E(e,{map:R,DataSource:a,RecursiveDataSource:f,DataQuery:v,Model:c})}(jQuery,shield),function(M,e,r,k){var i,m,t,l,P,F,n,s=e.ui.Widget,a=(e.Class,e.Constants.KeyCode),o=e.error,d=document,D=Math.abs,B=Math.min,A=Math.max,C=Math.round,N=Math.floor,E=M.extend,p=M.proxy,S=M.each,T=M.isWindow,I=e.is.defined,O=e.is.func,R=e.is.number,z=e.is.object,h=(e.is.null,e.is.string),u=e.is.array,c=e.to.int,f=e.to.number,g=e.to.string,H=/left|center|right/,V=/top|center|bottom/,j=/[\+\-]\d+(\.[\d]+)?%?/,L=/^\w+/,x=/%$/,y="mousedown",v="mouseup",b="mousemove",w="disabled",W="px",G="left",U="right",X="top",q="bottom",$="center",_="overflow",Y="position",K="absolute",J="relative",Z="scroll",Q="horizontal",ee="vertical",te="flip",ne="pointer",ie="intersect",re="sui-resizable",ae=re+"-"+w,se="sui-draggable",oe=se+"-"+w,le=se+"-dragging",he="sui-unselectable",ue="sui-droppable",ce=ue+"-"+w,fe=ue+"-over",de=0;function pe(){if(I(i))return i;var e,t=M('<div style="width:50px;position:absolute;overflow:hidden;height:50px;display:block;"><div style="width:auto;height:100px;"></div></div>'),n=t.children()[0];return M(d.body).append(t),e=n.offsetWidth,t.css(_,Z),e===(n=n.offsetWidth)&&(n=t[0].clientWidth),t.remove(),i=e-n}function ge(e){var t=M(e||r),n=T(t[0]),e=!!t[0]&&9===t[0].nodeType;return{element:t,isWindow:n,isDocument:e,offset:!n&&t.offset()||{left:0,top:0},scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:n||e?t.width():t.outerWidth(),height:n||e?t.height():t.outerHeight()}}function me(e,t,n){return[f(e[0])*(x.test(e[0])?t/100:1),f(e[1])*(x.test(e[1])?n/100:1)]}function xe(e,t){t=e.css(t);return t&&c(t)||0}function ye(e,t){var n=0;return(I(t)?M(t).find(e):M(e)).each(function(e){n=A(n,xe(M(this),"z-index"))}),n}function ve(e){return e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:{x:e.clientX+d.body.scrollLeft-d.body.clientLeft,y:e.clientY+d.body.scrollTop-d.body.clientTop}}(n={}).GetWithinInfo=ge,n.GetMaxZIndex=ye,n.GetCoordinates=ve,e.ui.Util=n,(m=function(){if(de++,t)return t;this.init(),t=this}).prototype={_pos:null,init:function(){M(d).on(b+".suiMouseTracker",p(this._onMouseMove,this))},_onMouseMove:function(e){this._pos=this.getPosFromEvent(e)},getPosFromEvent:ve,getPosition:function(e){return null===this._pos&&I(e)&&(this._pos=this.getPosFromEvent(e)),this._pos},isInWindow:function(e){var t=this.getPosition(e),n=t.x,i=t.y,e=M(r).scrollTop(),t=M(r).scrollLeft();return t<=n&&n<=t+M(r).width()&&e<=i&&i<=e+M(r).height()},destroy:function(){0<--de||(M(d).off(b+".suiMouseTracker"),t=null)}},e.MouseTracker=m,(l={}).Set=function(e,t,a){if(!e||!t||!a)throw"Invalid arguments passed to Position.Set";var n,s,o,l,i,r={my:a.source,at:a.target,collision:a.overflow,inside:a.inside},h=M(t),u=ge(r.inside),t=(d=(i=u).isWindow||i.isDocument?"":i.element.css("overflow-x"),t=i.isWindow||i.isDocument?"":i.element.css("overflow-y"),d=d===Z||"auto"===d&&i.width<i.element[0].scrollWidth,{width:t===Z||"auto"===t&&i.height<i.element[0].scrollHeight?pe():0,height:d?pe():0}),c=(r.collision||te).split(" "),f={},d=9===(d=(i=h)[0]).nodeType?{width:i.width(),height:i.height(),offset:{top:0,left:0}}:T(d)?{width:i.width(),height:i.height(),offset:{top:i.scrollTop(),left:i.scrollLeft()}}:d.preventDefault?{width:0,height:0,offset:{top:d.pageY,left:d.pageX}}:{width:i.outerWidth(),height:i.outerHeight(),offset:i.offset()};h[0].preventDefault&&(r.at="left top"),s=d.width,o=d.height,i=E({},l=d.offset),S(["my","at"],function(){var e,t,n=(r[this]||"").split(" ");(n=1===n.length?H.test(n[0])?n.concat([$]):V.test(n[0])?[$].concat(n):[$,$]:n)[0]=H.test(n[0])?n[0]:$,n[1]=V.test(n[1])?n[1]:$,e=j.exec(n[0]),t=j.exec(n[1]),f[this]=[e?e[0]:0,t?t[0]:0],r[this]=[L.exec(n[0])[0],L.exec(n[1])[0]]}),1===c.length&&(c[1]=c[0]),r.at[0]===U?i.left+=s:r.at[0]===$&&(i.left+=s/2),r.at[1]===q?i.top+=o:r.at[1]===$&&(i.top+=o/2),n=me(f.at,s,o),i.left+=n[0],i.top+=n[1];var p,g,m=M(e),x=m.outerWidth(),y=m.outerHeight(),d=xe(m,"marginLeft"),e=xe(m,"marginTop"),v=x+d+xe(m,"marginRight")+t.width,b=y+e+xe(m,"marginBottom")+t.height,w=E({},i),_=me(f.my,m.outerWidth(),m.outerHeight());r.my[0]===U?w.left-=x:r.my[0]===$&&(w.left-=x/2),r.my[1]===q?w.top-=y:r.my[1]===$&&(w.top-=y/2),w.left+=_[0],w.top+=_[1],w.left=C(w.left),w.top=C(w.top),p={marginLeft:d,marginTop:e},S([G,X],function(e,t){P[c[e]]&&P[c[e]][t](w,{targetWidth:s,targetHeight:o,elemWidth:x,elemHeight:y,collisionPosition:p,collisionWidth:v,collisionHeight:b,offset:[n[0]+_[0],n[1]+_[1]],my:r.my,at:r.at,within:u,elem:m})}),O(a.callback)&&(g=function(){var e=l.left-w.left,t=e+s-x,n=l.top-w.top,i=n+o-y,r={target:{element:h,left:l.left,top:l.top,width:s,height:o},element:{element:m,left:w.left,top:w.top,width:x,height:y},horizontal:t<0?G:0<e?U:$,vertical:i<0?X:0<n?q:"middle"};s<=x&&D(e+t)<=s&&(r.horizontal=$),o<=y&&D(n+i)<=o&&(r.vertical="middle"),A(D(e),D(t))>A(D(n),D(i))?r.important=Q:r.important=ee,a.callback(r)}),m.offset(w),g&&g()},P={fit:{left:function(e,t){var n=t.within,i=n.isWindow?n.scrollLeft:n.offset.left,r=n.width,a=e.left-t.collisionPosition.marginLeft,s=i-a,o=a+t.collisionWidth-r-i;t.collisionWidth>r?0<s&&o<=0?(n=e.left+s+t.collisionWidth-r-i,e.left+=s-n):e.left=!(0<o&&s<=0)&&o<s?i+r-t.collisionWidth:i:0<s?e.left+=s:0<o?e.left-=o:e.left=A(e.left-a,e.left)},top:function(e,t){var n=t.within,i=n.isWindow?n.scrollTop:n.offset.top,r=t.within.height,a=e.top-t.collisionPosition.marginTop,s=i-a,o=a+t.collisionHeight-r-i;t.collisionHeight>r?0<s&&o<=0?(n=e.top+s+t.collisionHeight-r-i,e.top+=s-n):e.top=!(0<o&&s<=0)&&o<s?i+r-t.collisionHeight:i:0<s?e.top+=s:0<o?e.top-=o:e.top=A(e.top-a,e.top)}},flip:{left:function(e,t){var n=t.within,i=n.offset.left+n.scrollLeft,r=n.width,a=n.isWindow?n.scrollLeft:n.offset.left,s=e.left-t.collisionPosition.marginLeft,o=s-a,l=s+t.collisionWidth-r-a,h=t.my[0]===G?-t.elemWidth:t.my[0]===U?t.elemWidth:0,n=t.at[0]===G?t.targetWidth:t.at[0]===U?-t.targetWidth:0,s=-2*t.offset[0];o<0?((i=e.left+h+n+s+t.collisionWidth-r-i)<0||i<D(o))&&(e.left+=h+n+s):0<l&&(0<(a=e.left-t.collisionPosition.marginLeft+h+n+s-a)||D(a)<l)&&(e.left+=h+n+s)},top:function(e,t){var n=t.within,i=n.offset.top+n.scrollTop,r=n.height,a=n.isWindow?n.scrollTop:n.offset.top,s=e.top-t.collisionPosition.marginTop,o=s-a,l=s+t.collisionHeight-r-a,h=t.my[1]===X?-t.elemHeight:t.my[1]===q?t.elemHeight:0,n=t.at[1]===X?t.targetHeight:t.at[1]===q?-t.targetHeight:0,s=-2*t.offset[1];o<0?(i=e.top+h+n+s+t.collisionHeight-r-i,e.top+h+n+s>o&&(i<0||i<D(o))&&(e.top+=h+n+s)):0<l&&(a=e.top-t.collisionPosition.marginTop+h+n+s-a,e.top+h+n+s>l&&(0<a||D(a)<l)&&(e.top+=h+n+s))}},flipfit:{left:function(){P.flip.left.apply(this,arguments),P.fit.left.apply(this,arguments)},top:function(){P.flip.top.apply(this,arguments),P.fit.top.apply(this,arguments)}}},e.ui.Position=l,w={enabled:!0,cls:k,iframeFix:!1,resizeCls:k,delta:1,handles:["e","w","n","s","se","sw","ne","nw"],handleWidth:8,handleZIndex:105,minHeight:16,minWidth:16,maxHeight:k,maxWidth:k,events:{}},(n=s.extend({init:function(){s.fn.init.apply(this,arguments),I(this.initialOptions.handles)&&(this.options.handles=this.initialOptions.handles);var e=this,t=M(e.element),n=e.options,i=n.cls;e._eventNS=".shieldResizable"+e.getInstanceId(),e.mouseTracker=new m,t.addClass(re+(i?" "+i:"")),e._initHandles(),e.enabled(n.enabled)},_initHandles:function(){var e,t,n,i=this,r=M(i.element),a=(r.width(),r.height()),s=i.options,o=s.handles,l=s.handleWidth,h=l+W,u=l+2+W,c="-"+(l-2)+W,f=s.handleZIndex;for(i.handles=[],n=0;n<o.length;n++){switch(t={},e=g(o[n]).toLowerCase()){case"e":t={width:h,height:a+W,top:0,right:c};break;case"w":t={width:h,height:a+W,top:0,left:c};break;case"n":t={width:"100%",height:h,top:c};break;case"s":t={width:"100%",height:h,bottom:c};break;case"se":t={width:u,height:u,bottom:c,right:c};break;case"sw":t={width:u,height:u,bottom:c,left:c};break;case"ne":t={width:u,height:u,top:c,right:c};break;case"nw":t={width:u,height:u,top:c,left:c}}t.zIndex=f,i.handles[n]={type:e},i.handles[n][y]=p(i._handleMouseDown,i,n),i.handles[n].element=M('<div class="sui-resizable-handle sui-resizable-dir-'+e+'"></div>').appendTo(r).css(t).on(y,i.handles[n][y])}M(d).on(v+i._eventNS,p(i._handleMouseUp,i)).on(b+i._eventNS,p(i._handleMouseMove,i))},_destroyHandles:function(){var e,t=this,n=t.handles;for(M(d).off(t._eventNS),e=0;e<n.length;e++)M(t.handles[e].element).off(y,t.handles[e][y]).remove();t.handles=[]},_fixIframes:function(){var e=this.options.iframeFix;e&&(e=!0===e?"iframe":e,this._fixedFrames=M(d.body).find(e).map(function(){var e=M(this);return M("<div/>").css(Y,K).appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]}))},_unfixIframes:function(){this._fixedFrames&&(M(this._fixedFrames).remove(),delete this._fixedFrames)},_handleMouseDown:function(e,t){var n=this;n._enabled&&!n.resizing&&(n.resizing=!0,n.resizingHandle=e,n.oldPos=n.mouseTracker.getPosition(t),n.startSent=!1,M(n.element).addClass(he),n._fixIframes())},_handleMouseMove:function(e){var t,n,i,r,a,s,o,l,h=this,u=M(h.element),c=h.options,f=c.delta,d=c.minWidth,p=c.maxWidth,g=c.minHeight,m=c.maxHeight,x=c.resizeCls,y=h.resizingHandle,v=h.handles,b=h.mouseTracker,c=h.oldPos;if(b.isInWindow(e)&&h.resizing&&I(y)&&(n=(_=b.getPosition(e)).x-c.x,i=_.y-c.y,_=v[y].type,D(n)>=f||D(i)>=f)){switch(/^(se|sw|ne|nw)$/i.test(_)||(/^(e|w)$/i.test(_)?i=0:n=0),r=n=D(n)<f?0:n,a=i=D(i)<f?0:i,o=s=0,_){case"w":s=-(r=-n);break;case"n":o=-(a=-i);break;case"nw":s=-(r=-n),o=-(a=-i);break;case"sw":s=-(r=-n);break;case"ne":o=-(a=-i)}var y=u.width(),w=u.height(),f=xe(u,X),_=xe(u,G);if(0<r?(I(p)&&p<y+r&&(r=p-y,0!==s&&(s=-r)),_+s<0&&(s=-(r-=_-s))):r<0&&I(d)&&y+r<d&&(r=d-y,0!==s&&(s=-r)),0<a?(I(m)&&m<w+a&&(a=m-w,0!==o&&(o=-a)),f+o<0&&(o=-(a-=f-o))):a<0&&I(g)&&w+a<g&&(a=g-w,0!==o&&(o=-a)),0!==r||0!==a)if(h.startSent||(h.startSent=!0,h.trigger("start"),x&&u.addClass(x)),!h.trigger("resize",{deltaX:r,deltaY:a}).isDefaultPrevented()){if(u.width(y+r).height(w+a),0===s&&0===o||u.css({top:f+o+W,left:_+s+W}),h.oldPos.x=h.oldPos.x+n,h.oldPos.y=h.oldPos.y+i,0!==i)for(l=0;l<v.length;l++)t=v[l],/^(e|w)$/i.test(t.type)&&M(t.element).height(w+a);h.trigger("resized")}}},_handleMouseUp:function(e){var t=this,n=!!t.startSent,i=t.options.resizeCls;t._unfixIframes(),t.resizing&&(t.resizing=!1,t.resizingHandle=k,t.oldPos=k,t.startSent=!1,n&&t.trigger("stop"),M(t.element).removeClass(he+(i?" "+i:"")))},resize:function(e,t){var n=this.options;e=A(B(e,n.maxWidth),n.minWidth),t=A(B(t,n.maxHeight),n.minHeight),M(this.element).width(e).height(t)},enabled:function(){var e=M(this.element),t=[].slice.call(arguments);if(!(0<t.length))return this._enabled;(t=!!t[0])?e.removeClass(ae):e.addClass(ae),this._enabled=t},destroy:function(){var e=this,t=e.options.cls;e.mouseTracker.destroy(),e.mouseTracker=null,M(e.element).removeClass(re+(t?" "+t:"")),e._destroyHandles(),s.fn.destroy.call(e)}})).defaults=w,e.ui.plugin("Resizable",n),F={droppables:{default:[]},Register:function(e){var t=e.options.scope;F.droppables[t]=F.droppables[t]||[],F.droppables[t].push(e)},UnRegister:function(e){for(var t=e.options.scope,n=F.droppables[t],i=0;i<n.length;i++)n[i]===e&&n.splice(i,1)},PrepareOffsets:function(e,t){for(var n,i,r=F.droppables[e.options.scope]||[],a=M(e.helper||e.element),s=0;s<r.length;s++)n=r[s].enabled(),i=r[s].visible(),r[s].ddIsEnabled=n,r[s].ddIsVisible=i,!n||!i||e&&!r[s].accepts(e.element)||e&&e.element.get(0)===r[s].element.get(0)||(r[s].ddOffset=r[s].element.offset(),r[s].proportions({width:r[s].element[0].offsetWidth,height:r[s].element[0].offsetHeight}));e.proportions({width:a[0].offsetWidth,height:a[0].offsetHeight})},DragStart:function(e,t){F.PrepareOffsets(e,t)},Drag:function(e,t){for(var n=F.droppables[e.options.scope]||[],i=n.length,r=0;r<i;r++)!n[r].ddIsEnabled||!n[r].ddIsVisible||e&&!n[r].accepts(e.element)||e&&e.element.get(0)===n[r].element.get(0)||(F.Intersects(e,n[r],t)?n[r].ddIsOver||(n[r].ddIsOver=!0,n[r].over(e,t)):n[r].ddIsOver&&(n[r].ddIsOver=!1,n[r].out(e,t)))},Drop:function(e,t){for(var n,i,r,a=F.droppables[e.options.scope]||[],s=a.length,o=0;o<s;o++)!a[o].ddIsEnabled||!a[o].ddIsVisible||e&&!a[o].accepts(e.element)||e&&e.element.get(0)===a[o].element.get(0)||(a[o].stop(),r=F.Intersects(e,a[o],t),a[o].ddIsOver=!1,r&&((r=a[o].drop(e,t)).isDefaultPrevented()&&(n=!0),r.skipAnimation&&(i=!0)));return{cancelled:n,skipAnimation:i}},Intersects:function(e,t,n){var i,r,a,s,o,l,h,u=t.options.tolerance,c=z(u)?u.x:u,f=z(u)?u.y:u,d=t.proportions(),p=t.ddOffset,g=d.width,u=d.height,t=p.left,d=p.top,t=c==ne?(h=(p=new m).getPosition(n),p.destroy(),t<=h.x&&t+g>=h.x):(r=(i=e.proportions()).width,a=i.height,o=(s=M(e.helper||e.element).offset()).left,l=s.top,"fit"==c?F._linesOverlap(o,o+r,t,t+g,r):c==ie?F._linesOverlap(o,o+r,t,t+g,r/2):F._linesOverlap(o,o+r,t,t+g,0));return!!t&&(u=f==ne?(h||(h=(g=new m).getPosition(n),g.destroy()),d<=h.y&&d+u>=h.y):(i||(r=(i=e.proportions()).width,a=i.height,o=(s=M(e.helper||e.element).offset()).left,l=s.top),"fit"==f?F._linesOverlap(l,l+a,d,d+u,a):f==ie?F._linesOverlap(l,l+a,d,d+u,a/2):F._linesOverlap(l,l+a,d,d+u,0)),t&&u)},_linesOverlap:function(e,t,n,i,r){return I(r)||(r=0),e<n&&t<i?r<t-n:!(n<e&&i<t)||r<i-e}},e.ui.DDManager=F,w={enabled:!0,iframeFix:!1,cls:k,dragCls:k,scope:"default",handle:k,direction:k,min:k,max:k,step:k,allowedPositions:k,stack:!0,helper:k,appendTo:"parent",animation:{enabled:!0,revertDuration:200},events:{}},(n=s.extend({init:function(){s.fn.init.apply(this,arguments);var e=this,t=M(e.element),n=e.options,i=n.cls;e._destroyed&&(e._destroyed=!1),e._eventNS=".shieldDraggable"+e.getInstanceId(),e.mouseTracker=new m,t.addClass(se+(i?" "+i:"")),(i=t.css(Y))!==J&&i!==K&&(e._origPosStyle=i,t.css(Y,J)),e.enabled(n.enabled),e.startSent=!1},proportions:function(){var e=this;if(!(0<arguments.length))return e._proportions||(e._proportions={width:e.element[0].offsetWidth,height:e.element[0].offsetHeight});e._proportions=arguments[0]},_fixIframes:function(){var e=this.options.iframeFix;e&&(e=!0===e?"iframe":e,this._fixedFrames=M(d.body).find(e).map(function(){var e=M(this);return M("<div/>").css(Y,K).appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]}))},_unfixIframes:function(){this._fixedFrames&&(M(this._fixedFrames).remove(),delete this._fixedFrames)},_handleMouseDown:function(e){var t=this,n=t._eventNS;!t._enabled||t._destroyed||t._dragging||(M(d.body).addClass(he),t._dragging=!0,t.startSent=!1,t.helper=t._isCustomHelper=null,t.stepPosition=t.mousePos=t.mouseTracker.getPosition(e),M(d).on(b+n,p(t._handleMouseMove,t)).on(v+n,p(t._handleMouseUp,t)).on("keydown"+n,p(t._handleKeyDown,t)),t._fixIframes())},_initHelper:function(e){var t,n=this,i=n.element,r=n.options,a=r.helper,s=r.appendTo,o=r.cls,r=r.dragCls;n._helperInitialized||(a&&"original"!==a?((t=O(a)?a.call(n,{position:n.oriPosition,event:e}):"clone"==a?i.clone():M(a)).parents("body").length||("parent"===s?i.after(t):s&&"body"!==s?t.appendTo(M(s)):t.appendTo(d.body)),/(fixed|absolute)/i.test(t.css(Y))||t.css(Y,K),l.Set(t,i,{source:"left top",target:"left top",overflow:"none"}),n._isCustomHelper=!0):(t=i,n._isCustomHelper=!1),(n.helper=t).addClass(he+" "+se+(o?" "+o:"")+" "+le+(r?" "+r:"")),n.oriPosition={left:xe(t,G),top:xe(t,X)},n._helperInitialized=!0)},_handleMouseMove:function(e){var t,n,i,r,a,s,o,l,h,u=this,c=u.options,f=c.step,d=c.direction,p=c.allowedPositions,g=p!==k&&0<p.length,m=c.min,x=c.max,y=u.mouseTracker,v=y.getPosition(e);if(y.isInWindow(e)&&u._dragging){if(u._initHelper(e),l=(o=M(u.helper)).width(),h=o.height(),c=xe(o,X),y=xe(o,G),g){for(var b,w=k,_=k,P=k,C=k,E=y+(v.x-u.stepPosition.x),S=c+(v.y-u.stepPosition.y),T=0;T<p.length;T++)(b=p[T]).x!==k&&(P===k||P>D(E-b.x))&&(P=D(E-b.x),w=T),b.y!==k&&(C===k||C>D(S-b.y))&&(C=D(S-b.y),_=T);i=y,r=c,w!==k&&(i=p[w].x,u.stepPosition.x+=p[w].x-y),_!==k&&(r=p[_].y,u.stepPosition.y+=p[_].y-c)}else{if(a=d==ee?0:v.x-u.mousePos.x,s=d==Q?0:v.y-u.mousePos.y,I(f)){if(f=O(f)?f.call(this,{deltaX:a,deltaY:s,element:o,domEvent:e,helperLeft:xe(o,G),helperTop:xe(o,X),mouse:v}):f,R(f)?t=n=f:z(f)&&(t=f.x,n=f.y),I(t)&&D(a)<t&&I(n)&&D(s)<n)return;I(t)&&1<t&&a%t!=0&&(a=(0<=a?1:-1)*N(D(a)/t)*t),I(n)&&1<n&&s%n!=0&&(s=(0<=s?1:-1)*N(D(s)/n)*n)}i=y+a,r=A(0,c+s)}d==Q&&(m!==k&&(i=A(m,i))===m&&(a=0),x!==k&&(i=B(x-l,i))===x-l&&(a=0)),d==ee&&(m&&(r=A(m,r))===m&&(s=0),x&&(r=B(x-h,r))===x-h&&(s=0)),o.css({left:i,top:r}),u.mousePos=v,u.startSent||(u.startSent=!0,u.trigger("start",{element:o,domEvent:e}),u._adjustZIndex(),F.DragStart(u,e)),u.trigger("drag",{deltaX:a,deltaY:s,element:o,domEvent:e}),F.Drag(u,e)}},_handleMouseUp:function(e){var t,n,i=this,r=i.element,a=i.helper,s=i.options.animation;i._unfixIframes(),M(d.body).removeClass(he),i._dragging&&(i.startSent?(t=(n=F.Drop(i,e)).cancelled,n=n.skipAnimation,n=(e=i.trigger("stop",{left:xe(a,G),top:xe(a,X),element:a,domEvent:e,cancelled:t,skipAnimation:n})).skipAnimation,!0===e.cancelled||e.isDefaultPrevented()?M(a).animate({left:i.oriPosition.left,top:i.oriPosition.top},!n&&s&&s.enabled?s.revertDuration:0,p(i._endDrag,i)):(i._isCustomHelper&&(l.Set(r,a,{source:"left top",target:"left top",overflow:"none"}),i._adjustZIndex(r)),i._endDrag())):i._endDrag())},_adjustZIndex:function(e){var t=this.options.stack;!1!==t&&(I(e)||(e=this.helper),M(e).css("z-index",ye(!0===t?"."+se:t)+1))},_handleKeyDown:function(e){var t=this;e.keyCode===a.ESC&&t._dragging&&(t.helper.css({left:t.oriPosition.left+W,top:t.oriPosition.top+W}),t.trigger("cancel"),t._unfixIframes(),t._endDrag())},_endDrag:function(){var e=this,t=e.options.dragCls;e._dragging=!1,e._isCustomHelper?M(e.helper).remove():M(e.helper).removeClass(he+" "+le+(t?" "+t:"")),M(d).off(e._eventNS),e.mousePos=e.oriPosition=e.helper=e._isCustomHelper=e._helperInitialized=null},enabled:function(){var e=this,t=M(e.element),n=e.options,i=n.handle?M(n.handle):t,n=[].slice.call(arguments);if(!(0<n.length))return e._enabled;(n=!!n[0])?(t.removeClass(oe),e._mouseDownProxy||(e._mouseDownProxy=p(e._handleMouseDown,e),i.on(y,e._mouseDownProxy))):(t.addClass(oe),e._mouseDownProxy&&(i.off(y,e._mouseDownProxy),e._mouseDownProxy=null)),e._enabled=n},destroy:function(){var e=this,t=e.options.cls;e.enabled(!1),e.mouseTracker&&(e.mouseTracker.destroy(),e.mouseTracker=null),M(e.element).removeClass(se+" "+oe+(t?" "+t:"")),e._origPosStyle&&(M(e.element).css(Y,e._origPosStyle),e._origPosStyle=null),e._destroyed=!0,s.fn.destroy.call(e)}})).defaults=w,e.ui.plugin("Draggable",n),w={enabled:!0,accepts:"*",cls:k,hoverCls:k,tolerance:"intersect",scope:"default",events:{}},(n=s.extend({init:function(){s.fn.init.apply(this,arguments);var e=this,t=M(e.element),n=e.options,i=n.dieOnError,r=n.accepts,a=n.cls;h(r)||u(r)||r instanceof M||O(r)?(e._eventNS=".shieldDroppable"+e.getInstanceId(),t.addClass(ue+(a?" "+a:"")),F.Register(e),e.enabled(n.enabled)):o("shieldDroppable: The accepts option must be a string, array, function or jQuery object.",i)},accepts:function(e){var t=this.options.accepts;return O(t)?t.call(this,e):M(e).is(t)},proportions:function(){var e=this;if(!(0<arguments.length))return e._proportions||(e._proportions={width:e.element[0].offsetWidth,height:e.element[0].offsetHeight});e._proportions=arguments[0]},over:function(e,t){var n=this.options.hoverCls;this.trigger("over",{draggable:e.element,droppable:this.element,domEvent:t}).isDefaultPrevented()||M(this.element).addClass(fe+(n?" "+n:""))},out:function(e,t){var n=this.options.hoverCls;this.trigger("out",{draggable:e.element,droppable:this.element,domEvent:t}),M(this.element).removeClass(fe+(n?" "+n:""))},stop:function(){var e=this.options.hoverCls;M(this.element).removeClass(fe+(e?" "+e:""))},drop:function(e,t){return this.trigger("drop",{draggable:e.element,droppable:this.element,cancelled:t.cancelled,skipAnimation:t.skipAnimation,domEvent:t})},enabled:function(){var e=[].slice.call(arguments);if(!(0<e.length))return this._enabled;(e=!!e[0])?M(this.element).removeClass(ce):M(this.element).addClass(ce),this._enabled=e},destroy:function(){var e=this,t=e.options.cls;F.UnRegister(e),M(e.element).removeClass(ue+ce+he+(t?" "+t:"")),e._enabled=e._proportions=k,s.fn.destroy.call(e)}})).defaults=w,e.ui.plugin("Droppable",n)}(jQuery,shield,this),function(o,e,U,X){function q(e){return o("<div/>").text(e).html().replace('"',"&quot;").replace(/(?:[\x00-\x08]|[\x0B-\x0C]|[\x0E-\x1F])/g,"")}function $(e){return o("<div/>").html(e).text()}function Y(e){return ae(e)||(k(e)&&(e=e.replace(/\s+/g,"")),e=new Date(e)),(25569+e.getTime()/864e5).toString()}function u(e){return se(e)?ae(e)?e:new Date(k(e)?e.replace(/\s+/g,""):e):new Date}function K(e){return u(e).toISOString().replace(/\.\d+/,"")}function S(e){return se(e)&&k(e)&&0<e.length?e.charAt(0).toUpperCase()+e.substr(1):e}function T(e){return e?1:0}function J(e){return("FF"+e).replace("#","").toUpperCase()}function Z(e,t){return function(e){for(var t,n=B(e),i="";0<n;)t=(n-1)%26,i=String.fromCharCode(65+t)+i,n=B((n-t)/26);return i}(t)+e}function M(e,t){return'<?xml version="1.0"'+(e?' encoding="UTF-8"':"")+(t?' standalone="yes"':"")+"?>\n"}function Q(){return M(1,1)}var l,n,i,ee,c,h,f=e.exp=e.exp||{},t=e.Class,r=(e.DataSource,e.support.browser),d=e.iid,_=document,te=o.extend,ne=o.map,w=o.each,a=e.is,k=a.string,F=a.array,ie=a.number,re=a.boolean,ae=a.date,se=a.defined,oe=a.null,s=a.func,D=a.object,B=e.to.int,le=e.to.key,he=e.error,ue=e.keys,P=(e.get,e.Constants.XHTML_NS),C="application/octet-stream",E="download",A="Untitled",p="creator",g="RG",m="helvetica",x="times",y="courier",v="normal",b="bold",N="italic",I="bolditalic",O=19.049976/25.4;c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",se((a=U).btoa)||(a.btoa=function(e){var t,n,i,r,a=0,s=0,o="",l=[];if(!e)return e;for(;t=(r=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++))>>12&63,n=r>>6&63,i=63&r,l[s++]=c.charAt(r>>18&63)+c.charAt(t)+c.charAt(n)+c.charAt(i),a<e.length;);var o=l.join(""),h=e.length%3;return(h?o.slice(0,h-3):o)+"===".slice(h||3)}),se(a.atob)||(a.atob=function(e){var t,n,i,r,a,s=0,o=0,l=[];if(!e)return e;for(e+="";t=(a=c.indexOf(e.charAt(s++))<<18|c.indexOf(e.charAt(s++))<<12|(i=c.indexOf(e.charAt(s++)))<<6|(r=c.indexOf(e.charAt(s++))))>>16&255,n=a>>8&255,a=255&a,l[o++]=64==i?String.fromCharCode(t):64==r?String.fromCharCode(t,n):String.fromCharCode(t,n,a),s<e.length;);return l.join("")}),function(){if(U.URL=U.URL||U.webkitURL,U.Blob&&U.URL)try{new U.Blob;return f.Blob=U.Blob}catch(e){}var s=U.BlobBuilder||U.WebKitBlobBuilder||U.MozBlobBuilder||function(){function o(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]}function e(){this.data=[]}function l(e,t,n){this.data=e,this.size=e.length,this.type=t,this.encoding=n}function h(e){this.code=this[this.name=e]}var t=e.prototype,n=l.prototype,u=U.FileReaderSync,i="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),r=i.length,a=U.URL||U.webkitURL||U,s=a.createObjectURL,c=a.revokeObjectURL,f=a,d=U.btoa,p=U.atob,g=U.ArrayBuffer,m=U.Uint8Array,x=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(l.fake=n.fake=!0;r--;)h.prototype[i[r]]=r+1;return(f=!a.createObjectURL?U.URL=function(e){var t=_.createElementNS(P,"a");return t.href=e,"origin"in t||("data:"===t.protocol.toLowerCase()?t.origin=null:(e=e.match(x),t.origin=e&&e[1])),t}:f).createObjectURL=function(e){var t=e.type;return oe(t)&&(t=C),e instanceof l?(t="data:"+t,"base64"===e.encoding?t+";base64,"+e.data:"URI"===e.encoding?t+","+decodeURIComponent(e.data):d?t+";base64,"+d(e.data):t+","+encodeURIComponent(e.data)):s?s.call(a,e):void 0},f.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&c&&c.call(a,e)},t.append=function(e){var t=this.data;if(se(m)&&(e instanceof g||e instanceof m)){for(var n="",i=new m(e),r=i.length,a=0;a<r;a++)n+=String.fromCharCode(i[a]);t.push(n)}else if("Blob"===o(e)||"File"===o(e)){if(!u)throw new h("NOT_READABLE_ERR");var s=new u;t.push(s.readAsBinaryString(e))}else e instanceof l?"base64"===e.encoding&&p?t.push(p(e.data)):"URI"===e.encoding?t.push(decodeURIComponent(e.data)):"raw"===e.encoding&&t.push(e.data):(e+="",t.push(U.unescape(encodeURIComponent(e))))},t.getBlob=function(e){return arguments.length||(e=null),new l(this.data.join(""),e,"raw")},t.toString=function(){return"[object BlobBuilder]"},n.slice=function(e,t,n){var i=arguments.length;return i<3&&(n=null),new l(this.data.slice(e,1<i?t:this.data.length),n,this.encoding)},n.toString=function(){return"[object Blob]"},n.close=function(){this.size=0,delete this.data},e}();f.Blob=function(e,t){var n,i,t=t&&t.type||"",r=new s,a=U.Uint8Array;if(e)for(n=0,i=e.length;n<i;n++)se(a)&&a&&e[n]instanceof a?r.append(e[n].buffer):r.append(e[n]);return!(t=r.getBlob(t)).slice&&t.webkitSlice&&(t.slice=t.webkitSlice),t};var e=Object.getPrototypeOf||function(e){return e.__proto__};f.Blob.prototype=e(new f.Blob)}(),h=U.saveAs||function(){if(r.ie&&r.version<10)return X;function f(e){function t(){k(e)?g().revokeObjectURL(e):e.remove()}U.chrome?t():setTimeout(t,n)}function d(e,t,n){for(var i,r=(t=[].concat(t)).length;r--;)if(i=e["on"+t[r]],s(i))try{i.call(e,n||e)}catch(e){a(e)}}function p(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function i(i,n,e){function r(){var e;!h&&s||(s=g().createObjectURL(i)),o?o.location.href=s:(e=U.open(s,"_blank"),se(e)||"undefined"==typeof safari||(U.location.href=s)),l.readyState=l.DONE,u(),f(s)}function a(e){return function(){if(l.readyState!==l.DONE)return e.apply(this,arguments)}}e||(i=p(i));var s,o,l=this,t=i.type,h=!1,u=function(){d(l,"writestart progress write writeend".split(" "))},c={create:!0,exclusive:!1};if(l.readyState=l.INIT,n=n||A,x)return s=g().createObjectURL(i),m.href=s,m.download=n,void setTimeout(function(){var e,t;e=m,t=new MouseEvent("click"),e.dispatchEvent(t),u(),f(s),l.readyState=l.DONE});U.chrome&&t&&t!==b&&(e=i.slice||i.webkitSlice,i=e.call(i,0,i.size,b),h=!0),y&&n!==E&&(n+="."+E),t!==b&&!y||(o=U),v?(w+=i.size,v(U.TEMPORARY,w,a(function(e){e.root.getDirectory("saved",c,a(function(e){function t(){e.getFile(n,c,a(function(n){n.createWriter(a(function(t){t.onwriteend=function(e){o.location.href=n.toURL(),l.readyState=l.DONE,d(l,"writeend",e),f(n)},t.onerror=function(){var e=t.error;e.code!==e.ABORT_ERR&&r()},"writestart progress write abort".split(" ").forEach(function(e){t["on"+e]=l["on"+e]}),t.write(i),l.abort=function(){t.abort(),l.readyState=l.DONE},l.readyState=l.WRITING}),r)}),r)}e.getFile(n,{create:!1},a(function(e){e.remove(),t()}),a(function(e){(e.code===e.NOT_FOUND_ERR?t:r)()}))}),r)}),r)):r()}var g=function(){return U.URL||U.webkitURL||U},m=_.createElementNS(P,"a"),x=E in m,y=U.webkitRequestFileSystem,v=U.requestFileSystem||y||U.mozRequestFileSystem,a=function(e){(U.setImmediate||U.setTimeout)(function(){throw e},0)},b=C,w=0,n=500,e=i.prototype;return se(navigator)&&navigator.msSaveOrOpenBlob?function(e,t,n){return n||(e=p(e)),navigator.msSaveOrOpenBlob(e,t||A)}:(e.abort=function(){this.readyState=this.DONE,d(this,"abort")},e.readyState=e.INIT=0,e.WRITING=1,e.DONE=2,e.error=e.onwritestart=e.onprogress=e.onwrite=e.onabort=e.onerror=e.onwriteend=null,function(e,t,n){return new i(e,t,n)})}(),f.saveAs=function(e){var t=e.content,n=e.contentType,i=e.name,r=e.noAutoBom,a=e.proxy,s="suidlifrm"+d();se(h)&&!e.forceProxy?h(new f.Blob([t],{type:n}),i,r):a?(o(l).remove(),l=o('<div style="display:none;"><iframe name="'+s+'"></iframe></div>').appendTo(_.body),o('<form action="'+a+'" target="'+s+'" method="POST"><input type="hidden" name="fileName" value="'+i+'"/><input type="hidden" name="contentType" value="'+n+'"/><input type="hidden" name="base64content" value="'+U.btoa(t)+'"/></form>').appendTo(l).submit()):he("shield.export.saveAs: No proxy url set for older browser support",e.dieOnError)},f.saveAsNative=se(h),n=t.extend({init:function(e){this.options=te(!0,{},e)},getExt:null,getContentType:null,getContent:null,saveAs:function(e){var t=e.fileName,n=!se(e.forceExt)||!!e.forceExt,i=this.getExt(),r=!f.saveAsNative||e.forceProxy?{type:"string"}:{},r=this.getContent(r);se(r)?(t=t||A,!function(e,t){if(e&&t){var n=e.indexOf(t);return 0<=n&&n===e.length-t.length}return!1}(t+="",i)&&n&&(t+=i),f.saveAs({content:r,contentType:this.getContentType(),name:t,proxy:e.proxy,forceProxy:e.forceProxy,noAutoBom:e.noAutoBom,dieOnError:e.dieOnError})):he("shield.export.ExportBase.saveAs: Error generating content",this.options.dieOnError)},destroy:function(){}}),ee=n.extend({getExt:function(){return".xml"},getContentType:function(){return"text/xml;charset=utf-8"},getContent:function(e){for(var t=this.options,n=K(t.created||new Date),i=(t.author,t.worksheets||[]),r=20,a=[],s=[],o=$("&#x53;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x20;&#x55;&#x49;&#x20;&#x46;&#x72;&#x61;&#x6D;&#x65;&#x77;&#x6F;&#x72;&#x6B;"),o=M()+'<?mso-application progid="Excel.Sheet"?><Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40"><DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"><Created>'+n+"</Created>"+(o?"<Author>"+o+"</Author>":"")+'</DocumentProperties><ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"><ProtectStructure>False</ProtectStructure><ProtectWindows>False</ProtectWindows></ExcelWorkbook>',l=0;l<i.length;l++){for(var h,u,c,f,d,p,g,m,x,y,v=i[l],b=v.name,w=v.columns||[],_=[],P=v.rows||[],C=[],E=0;E<w.length;E++)c=w[E],_.push("<Column"+(se(c.autoWidth)?' ss:AutoFitWidth="'+T(c.autoWidth)+'"':"")+(se(c.width)?' ss:Width="'+c.width+'"':"")+(se(c.index)?' ss:Index="'+c.index+'"':"")+"/>");for(E=0;E<P.length;E++){for(h=(f=P[E]).cells||[],d="<Row"+(se(f.height)?' ss:Height="'+f.height+'"':"")+(se(f.index)?' ss:Index="'+f.index+'"':"")+">",u=0;u<h.length;u++)g=(p=h[u]).type,x=p.value,y=p.style,m=null,"DateTime"==(g=se(g)&&!oe(g)?g===Date?"DateTime":g===Number?"Number":g===Boolean?"Boolean":"String":ae(x)?"DateTime":ie(x)?"Number":re(x)?"Boolean":"String")&&(x=K(x)),D(y)&&(m="s"+r++,a.push('<Style ss:ID="'+m+'"><Alignment'+(y.textAlign?' ss:Horizontal="'+S(y.textAlign)+'"':"")+(y.verticalAlign?' ss:Vertical="'+S(y.verticalAlign)+'"':"")+(se(y.wrap)?' ss:WrapText="'+T(y.wrap)+'"':"")+"/>"+(se(y.format)?'<NumberFormat ss:Format="'+q(y.format)+'"/>':"")+"<Font"+(se(y.bold)?' ss:Bold="'+T(y.bold)+'"':"")+(se(y.italic)?' ss:Italic="'+T(y.italic)+'"':"")+(se(y.color)?' ss:Color="'+y.color+'"':"")+(se(y.fontName)?' ss:FontName="'+y.fontName+'"':"")+(se(y.fontSize)?' ss:Size="'+y.fontSize+'"':"")+"/><Interior"+(se(y.background)?' ss:Color="'+y.background+'" ss:Pattern="Solid"':"")+"/></Style>")),d+="<Cell"+(m?' ss:StyleID="'+m+'"':"")+(se(p.index)?' ss:Index="'+p.index+'"':"")+(se(p.colSpan)?' ss:MergeAcross="'+p.colSpan+'"':"")+(se(p.rowSpan)?' ss:MergeDown="'+p.rowSpan+'"':"")+'><Data ss:Type="'+g+'">'+(se(x)?q(x):"")+"</Data></Cell>";d+="</Row>",C.push(d)}s.push('<Worksheet ss:Name="'+(b?q(b):"Sheet1")+'"><Table>'+_.join("")+C.join("")+"</Table></Worksheet>")}return o+='<Styles><Style ss:ID="Default" ss:Name="Normal"><Alignment ss:Vertical="Bottom"/><Borders/><Font/><Interior/><NumberFormat/><Protection/></Style>'+a.join("")+"</Styles>",o+=s.join(""),o+="</Workbook>"}}),e=n.extend({getExt:function(){return".xlsx"},getContentType:function(){return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},getContent:function(e){var t=this.options,n=t.dieOnError;if(!se(U.JSZip))return t.noLegacyFallback?void he("shield.export.OOXMLWorkbook.getContent: No ZIP library found",n):new ee(t).getContent();for(var i,r,a,s,o,l,h=K(t.created||new Date),u=(t.author,t.worksheets||[]),c=u.length,f=new U.JSZip,d=[],p={},g=[],m=100,x=['<font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font>'],y=['<fill><patternFill patternType="none"/></fill>','<fill><patternFill patternType="gray125"/></fill>'],v=['<xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/>'],b=Q()+'<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/><Default Extension="xml" ContentType="application/xml"/><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>'+ne(u,function(e,t){return'<Override PartName="/xl/worksheets/sheet'+(t+1)+'.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>'}).join("")+'<Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/><Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/></Types>',n=(Q(),Q()+'<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>'+c+'</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="'+c+'" baseType="lpstr">'+ne(u,function(e,t){return"<vt:lpstr>"+(e.name?q(e.name):"Sheet"+(t+1))+"</vt:lpstr>"}).join("")+"</vt:vector></TitlesOfParts><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>15.0300</AppVersion></Properties>"),w=$("&#x53;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x20;&#x55;&#x49;&#x20;&#x46;&#x72;&#x61;&#x6D;&#x65;&#x77;&#x6F;&#x72;&#x6B;"),t=Q()+'<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>'+(w||"")+'</dc:creator><dcterms:created xsi:type="dcterms:W3CDTF">'+h+"</dcterms:created></cp:coreProperties>",c=Q()+'<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x15" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><fileVersion appName="xl" lastEdited="6" lowestEdited="4" rupBuild="14420"/><workbookPr filterPrivacy="1" defaultThemeVersion="124226"/><sheets>'+ne(u,function(e,t){return'<sheet name="'+(e.name?q(e.name):"Sheet"+(t+1))+'" sheetId="'+(t+1)+'" r:id="rId'+(t+1)+'"/>'}).join("")+"</sheets></workbook>",_=(Q(),1),w=Q()+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">'+ne(u,function(e,t){var n=_++;return'<Relationship Id="rId'+n+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet'+n+'.xml"/>'}).join("")+'<Relationship Id="rId'+_+++'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId'+_+++'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId'+_+++'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/></Relationships>',P=(Q(),0);P<u.length;P++){for(var C=u[P],E=C.columns||[],S=E.length,T=C.rows||[],M=T.length,k="",F=[],D=[],B=0;B<M;B++){for(var A=T[B],N=[],I=A.cells||[],O=I.length,R=0;R<O;R++){var z,H,V=I[R],j=V.type,L=V.value,W=te({},V.style||{});se(j)&&!oe(j)?j===Date?(z=X,L=Y(L),W.format||(W.format="m/d/yyyy hh:mm")):z=j===Number?X:j===Boolean?"b":"inlineStr":ae(L)?(z=X,L=Y(L),W.format||(W.format="m/d/yyyy hh:mm")):z=ie(L)?X:re(L)?"b":"inlineStr",o=s=void 0,l="",H=!(a=W)||ue(a).length<=0?X:(s=le(a),p[s]?p[s].cellXfsIndex:(se(a.format)&&(m++,g.push('<numFmt numFmtId="'+m+'" formatCode="'+q(a.format).replace(" ","\\ ")+'"/>'),l+=' numFmtId="'+m+'" applyNumberFormat="1"'),a.background&&(y.push('<fill><patternFill patternType="solid"><fgColor rgb="'+J(a.background)+'"/></patternFill></fill>'),l+=' fillId="'+(y.length-1)+'" applyFill="1"'),(se(a.bold)||se(a.color)||se(a.fontName)||se(a.fontSize)||se(a.italic))&&(x.push("<font>"+(se(a.bold)?'<b val="'+!!a.bold+'"/>':"")+(se(a.color)?'<color rgb="'+J(a.color)+'"/>':"")+(se(a.fontName)?'<name val="'+a.fontName+'"/>':"")+(se(a.fontSize)?'<sz val="'+a.fontSize+'"/>':"")+(se(a.italic)?'<i val="'+!!a.italic+'"/>':"")+"</font>"),l+=' fontId="'+(x.length-1)+'" applyFont="1"'),(se(a.textAlign)||se(a.verticalAlign)||se(a.wrap))&&(o="<alignment"+(se(a.textAlign)?' horizontal="'+a.textAlign+'"':"")+(se(a.verticalAlign)?' vertical="'+a.verticalAlign+'"':"")+(se(a.wrap)?' wrapText="'+!!a.wrap+'"':"")+"/>"),l||o?(v.push("<xf"+(l||"")+(o?">"+o+"</xf>":"/>")),p[s]={cellXfsIndex:v.length-1},v.length-1):X)),j=(L+"").length,(!se(F[R])||F[R]<j)&&(F[R]=j),N.push("<c"+(se(V.index)?' r="'+Z(se(A.index)?A.index:B+1,V.index)+'"':"")+(se(z)?' t="'+z+'"':"")+(se(H)?' s="'+H+'"':"")+">"+("inlineStr"==z?"<is><t>"+q(L)+"</t></is>":"<v>"+L+"</v>")+"</c>")}D.push("<row"+(se(A.index)?' r="'+A.index+'"':"")+(se(A.height)?' ht="'+A.height+'" customHeight="1"':"")+">"+N.join("")+"</row>")}if(0<S){for(k="<cols>",R=0;R<S;R++){var G=E[R];k+="<col"+(se(G.index)?' min="'+G.index+'" max="'+G.index+'"':' min="'+(R+1)+'" max="'+(R+1)+'"')+(se(G.width)?' width="'+(i=G.width,r=se(r=void 0)?r:7,((i-5)/7*100+.5)/100)+'"':"")+(!0!==G.autoWidth&&se(G.width)?"":' width="'+(F[R]*(i=se(i=void 0)?i:7)+5)/i*256/256+'"')+(!0===G.autoWidth?' bestFit="1"':"")+(se(G.autoWidth)||se(G.width)?' customWidth="1"':"")+"/>"}k+="</cols>"}C=Q()+'<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><dimension ref="A1"/><sheetViews><sheetView tabSelected="1" workbookViewId="0"/></sheetViews><sheetFormatPr defaultRowHeight="15" x14ac:dyDescent="0.25"/>'+k+"<sheetData>"+D.join("")+'</sheetData><pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/></worksheet>',d.push(C)}for(h=Q()+'<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="'+g.length+'">'+g.join("")+'</numFmts><fonts count="'+x.length+'" x14ac:knownFonts="1">'+x.join("")+'</fonts><fills count="'+y.length+'">'+y.join("")+'</fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="'+v.length+'">'+v.join("")+'</cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles><dxfs count="0"/><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleMedium9"/><extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"><x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/></ext><ext uri="{9260A510-F301-46a8-8635-F512D64BE5F5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:timelineStyles defaultTimelineStyle="TimeSlicerStyleLight1"/></ext></extLst></styleSheet>',f.file("[Content_Types].xml",b),f.file("_rels/.rels",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>'),f.file("docProps/app.xml",n),f.file("docProps/core.xml",t),f.file("xl/workbook.xml",c),f.file("xl/styles.xml",h),f.file("xl/sharedStrings.xml",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"/>'),f.file("xl/_rels/workbook.xml.rels",w),f.file("xl/theme/theme1.xml",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="1F497D"/></a:dk2><a:lt2><a:srgbClr val="EEECE1"/></a:lt2><a:accent1><a:srgbClr val="4F81BD"/></a:accent1><a:accent2><a:srgbClr val="C0504D"/></a:accent2><a:accent3><a:srgbClr val="9BBB59"/></a:accent3><a:accent4><a:srgbClr val="8064A2"/></a:accent4><a:accent5><a:srgbClr val="4BACC6"/></a:accent5><a:accent6><a:srgbClr val="F79646"/></a:accent6><a:hlink><a:srgbClr val="0000FF"/></a:hlink><a:folHlink><a:srgbClr val="800080"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Cambria" panose="020F0302020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=" "/><a:font script="Hang" typeface="  "/><a:font script="Hans" typeface=""/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:majorFont><a:minorFont><a:latin typeface="Calibri" panose="020F0502020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=" "/><a:font script="Hang" typeface="  "/><a:font script="Hans" typeface=""/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="1"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:shade val="51000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="80000"><a:schemeClr val="phClr"><a:shade val="93000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="94000"/><a:satMod val="135000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst><a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d><a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/></a:theme>'),P=0;P<d.length;P++)f.file("xl/worksheets/sheet"+(P+1)+".xml",d[P]);return e&&"string"!=e.type&&U.JSZip.support.uint8array?f.generate({type:"uint8array"}):f.generate({type:"string"})},saveAs:function(e){var t=this.options;return se(U.JSZip)?n.fn.saveAs.call(this,e):t.noLegacyFallback?void he("shield.export.OOXMLWorkbook.saveAs: No ZIP library found",t.dieOnError):new ee(t).saveAs(e)}}),i={unit:"pt",textColor:"0 g",drawColor:"0 G",fontSize:12,lineHeight:1.15,lineWidth:.200025,producer:"ShieldUI PDF Builder",created:new Date},a=n.extend({_version:"1.3",_formats:{a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"credit-card":[153,243]},_documentProps:["title","subject","author","keywords",p],_capJoinStyles:{0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_noMargins:{left:0,top:0,bottom:0},init:function(e){this.options=te(!0,i,e,{});var t=this,e=t.options;e.dieOnError;t._scaleFactor=t._getScaleFactor(),t._fontSize=e.fontSize,t._textColor=e.textColor,t._objectNumber=2,t._printToDoc=!0,t._offsets=[],t._fonts={},t._fontmap={},t._pages=[],t._pagesContext=[],t._pageDim=[],t._content=[],t._additionalObjects=[],t._page=t._lineCapID=t._lineJoinID=t._contentLength=0,t._fontKey=t._tmp=t._currentPage=t._pageWidth=t._pageHeight=t._pageMode=t._zoomMode=t._layoutMode=X,t._cellPadding=3,t._cellMargin=13,t._lastCellPos={x:X,y:X,w:X,h:X,ln:X},t._cellHeaderFunction=t._tablePrintHeader=t._cellMargins=t._cellTableHeaderRow=t._cellPrintingHeaderRow=t._tableFontSize=X,t._cellPages=1,t.addFonts(),t._fontKey="F1"},getExt:function(){return".pdf"},getContentType:function(){return"application/pdf"},getContent:function(e){return e&&"string"!=e.type?this._getArrayBuffer():this._build()},_toString:function(e){return(""+e).toLowerCase()},_getScaleFactor:function(){var e=this.options.unit;switch(e){case"pt":return 1;case"mm":return 72/25.4000508;case"cm":return 72/2.54000508;case"in":return 72;case"px":return 96/72;case"pc":case"em":return 12;case"ex":return 6;default:return void he("shieldExport: Invalid measurement unit: "+e,this.options.dieOnError)}},_setNumberPrecision:function(e,t){return e.toFixed(t)},_setPadding:function(e,t,n){return("0"+parseInt(e,t)).slice(-n)},_write:function(e){var t=this;t._printToDoc?(t._contentLength+=e.length+1,t._content.push(e)):t._pages[t._currentPage].push(e)},_createObject:function(){var e=this;return e._objectNumber++,e._offsets[e._objectNumber]=e._contentLength,e._write(e._objectNumber+" 0 obj"),e._objectNumber},_createAdditionalObject:function(){var e={objId:2*this._pages.length+1+this._additionalObjects.length,content:""};return this._additionalObjects.push(e),e},_createObjectDeferred:function(){var e=this;return e._objectNumber++,e._offsets[e._objectNumber]=function(){return e._contentLength},e._objectNumber},_createObjectDeferredBegin:function(e){this._offsets[e]=this._contentLength},_writeStream:function(e){this._write("stream"),this._write(e),this._write("endstream")},_writePages:function(){for(var e,t,n,i,r=this,a=(r.options,r._pages,r._pageDim),s=1;s<=r._page;s++)r._createObject(),t=(r._pageWidth=a[s].width)*r._scaleFactor,n=(r._pageHeight=a[s].height)*r._scaleFactor,r._write("<</Type /Page"),r._write("/Parent 1 0 R"),r._write("/Resources 2 0 R"),r._write("/MediaBox [0 0 "+r._setNumberPrecision(t,2)+" "+r._setNumberPrecision(n,2)+"]"),r._write("/Contents "+(r._objectNumber+1)+" 0 R"),r._write(">>"),r._write("endobj"),n=r._pages[s].join("\n"),r._createObject(),r._write("<</Length "+n.length+">>"),r._writeStream(n),r._write("endobj");for(r._offsets[1]=r._contentLength,r._write("1 0 obj"),r._write("<</Type /Pages"),i="/Kids [",e=0;e<r._page;e++)i+=3+2*e+" 0 R ";r._write(i+"]"),r._write("/Count "+r._page),r._write(">>"),r._write("endobj")},_writeFont:function(e){var t=this;e.objectNumber=t._createObject(),t._write("<</BaseFont/"+e.PostScriptName+"/Type/Font"),"string"==typeof e.encoding&&t._write("/Encoding/"+e.encoding),t._write("/Subtype/Type1>>"),t._write("endobj")},_writeFonts:function(){var e,t=this._fonts;for(e in t)t.hasOwnProperty(e)&&this._writeFont(t[e])},_writeXObjectDictionary:function(){},_writeResourceDictionary:function(){var e,t=this,n=t._fonts;for(e in t._write("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),t._write("/Font <<"),n)n.hasOwnProperty(e)&&t._write("/"+e+" "+n[e].objectNumber+" 0 R");t._write(">>"),t._write("/XObject <<"),t._writeXObjectDictionary(),t._write(">>")},_writeResources:function(){var e=this,t=e._offsets;e._writeFonts(),t[2]=e._contentLength,e._write("2 0 obj"),e._write("<<"),e._writeResourceDictionary(),e._write(">>"),e._write("endobj")},_writeAdditionalObjects:function(){for(var e,t=this,n=t._offsets,i=t._additionalObjects,r=0;r<i.length;r++)n[(e=i[r]).objId]=t._contentLength,t._write(e.objId+" 0 obj"),t._write(e.content),t._write("endobj");t._objectNumber+=i.length},_writeToFontDictionary:function(e,t,n){this._fontmap.hasOwnProperty(t)||(this._fontmap[t]={}),this._fontmap[t][n]=e},_to8bitStream:function(e,t){var n,i,r,a,s,o,l=this._fonts,h=this._fontKey,u=(t=t||{}).sourceEncoding||"Unicode",c=t.outputEncoding;if((t.autoencode||c)&&l[h].metadata&&l[h].metadata[u]&&l[h].metadata[u].encoding&&(u=l[h].metadata[u].encoding,!(c=!c&&l[h].encoding?l[h].encoding:c)&&u.codePages&&(c=u.codePages[0]),c=k(c)?u[c]:c)){for(i=!1,n=[],o=0,s=e.length;o<s;o++)(a=c[e.charCodeAt(o)])?n.push(String.fromCharCode(a)):n.push(e[o]),n[o].charCodeAt(0)>>8&&(i=!0);e=n.join("")}for(o=e.length;void 0===i&&0!==o;)e.charCodeAt(o-1)>>8&&(i=!0),o--;if(!i)return e;for(n=t.noBOM?[]:[254,255],o=0,s=e.length;o<s;o++){if((r=(a=e.charCodeAt(o))>>8)>>8)return void he("shieldExport: Character at position "+o+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE",this.options.dieOnError);n.push(r),n.push(a-(r<<8))}return String.fromCharCode.apply(X,n)},_escape:function(e,t){return this._to8bitStream(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_writeInfo:function(){var e,t,n,i,r,a=this,s=a.options,o=s.producer,l=s.created,h=a._documentProps;for(se(o)&&a._write("/Producer ("+o+")"),r=0;r<h.length;r++)i=s[n=h[r]],(i="author"===n||n===p?$("&#x53;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x20;&#x55;&#x49;&#x20;&#x46;&#x72;&#x61;&#x6D;&#x65;&#x77;&#x6F;&#x72;&#x6B;"):i)&&a._write("/"+S(n)+" ("+a._escape(i)+")");o=(t=(e=u(l)).getTimezoneOffset())<0?"+":"-",l=Math.floor(Math.abs(t/60)),t=Math.abs(t%60),t=[o,a._setPadding(l,10,2),"'",a._setPadding(t,10,2),"'"].join(""),a._write(["/CreationDate (D:",e.getFullYear(),a._setPadding(e.getMonth()+1,10,2),a._setPadding(e.getDate(),10,2),a._setPadding(e.getHours(),10,2),a._setPadding(e.getMinutes(),10,2),a._setPadding(e.getSeconds(),10,2),t,")"].join(""))},_writeCatalog:function(){var e,t=this;switch(t._write("/Type /Catalog"),t._write("/Pages 1 0 R"),t._zoomMode||(t._zoomMode="fullwidth"),t._zoomMode){case"fullwidth":t._write("/OpenAction [3 0 R /FitH null]");break;case"fullheight":t._write("/OpenAction [3 0 R /FitV null]");break;case"fullpage":t._write("/OpenAction [3 0 R /Fit]");break;case"original":t._write("/OpenAction [3 0 R /XYZ null null 1]");break;default:"%"===(e=""+t._zoomMode).substr(e.length-1)&&(t._zoomMode=parseInt(t._zoomMode,10)/100),ie(t._zoomMode)&&t._write("/OpenAction [3 0 R /XYZ null null "+t._setNumberPrecision(t._zoomMode,2)+"]")}switch(t._layoutMode||(t._layoutMode="continuous"),t._layoutMode){case"continuous":t._write("/PageLayout /OneColumn");break;case"single":t._write("/PageLayout /SinglePage");break;case"two":case"twoleft":t._write("/PageLayout /TwoColumnLeft");break;case"tworight":t._write("/PageLayout /TwoColumnRight")}t._pageMode&&t._write("/PageMode /"+t._pageMode)},_writeTrailer:function(){var e=this._objectNumber;this._write("/Size "+(e+1)),this._write("/Root "+e+" 0 R"),this._write("/Info "+(e-1)+" 0 R")},addFont:function(e,t,n,i){var r="F"+(ue(this._fonts).length+1).toString(10);this._fonts[r]={id:r,PostScriptName:e,fontName:t,fontStyle:n,encoding:i,metadata:{}};return this._writeToFontDictionary(r,t,n),r},addFonts:function(){for(var e,t,n=[["Helvetica",m,v],["Helvetica-Bold",m,b],["Helvetica-Oblique",m,N],["Helvetica-BoldOblique",m,I],["Courier",y,v],["Courier-Bold",y,b],["Courier-Oblique",y,N],["Courier-BoldOblique",y,I],["Times-Roman",x,v],["Times-Bold",x,b],["Times-Italic",x,N],["Times-BoldItalic",x,I]],i=0,r=n.length;i<r;i++)e=this.addFont(n[i][0],n[i][1],n[i][2],"StandardEncoding"),t=n[i][0].split("-"),this._writeToFontDictionary(e,t[0],t[1]||"")},getActiveFontObj:function(){var e=this._fonts,t=this._fontKey;return e&&t&&e[t]?e[t]:X},getFontObj:function(e,t){var n=this._fonts,t=this.getFont(e,t);return n&&t&&n[t]?n[t]:X},getFont:function(e,t){var n,i=this,r=i._fonts,a=i._fontmap;switch(e=se(e)?e:r[i._fontKey].fontName,t=se(t)?t:i._fontKey?r[i._fontKey].fontStyle:X,se(e)&&(e=e.toLowerCase()),t){case"sans-serif":case"verdana":case"arial":e=m;break;case"fixed":case"monospace":case"terminal":e=y;break;default:e=x}try{n=a[e][t]}catch(e){}return n||null==(n=a[x][t])&&(n=a[x][v]),n},_setPage:function(e){var t=this,n=t._pageDim;0<e&&e<=t._page&&(t._currentPage=e,t._pageWidth=n[e].width,t._pageHeight=n[e].height)},_beginPage:function(e,t){var n,i=this,r=i._formats,a=i._pages,s=i._pageDim,o=i._pagesContext,l=k(t)&&t.toLowerCase();if(k(e)&&(n=e.toLowerCase(),r.hasOwnProperty(n)&&(e=r[n][0]/i._scaleFactor,t=r[n][1]/i._scaleFactor)),F(e)&&(t=e[1],e=e[0]),l){switch(l.substr(0,1)){case"l":e<t&&(l="s");break;case"p":t<e&&(l="s")}"s"===l&&(i._tmp=e,e=t,t=i._tmp)}i._printToDoc=!1,i._page++,a[i._page]=[],s[i._page]={width:Number(e)||i._pageWidth,height:Number(t)||i._pageHeight},o[i._page]={},i._setPage(i._page)},addPage:function(){var e=this,t=e.options,n=t.drawColor,t=t.lineWidth;e._beginPage.apply(e,arguments),e._write(e._setNumberPrecision(t*e._scaleFactor,2)+" w"),e._write(n),0!==e._lineCapID&&e._write(e._lineCapID+" J"),0!==e._lineJoinID&&e._write(e._lineJoinID+" j")},deletePage:function(e){var t=this,n=t._pages,i=t._pageDim;0<e&&e<=t._page&&(n.splice(e,1),i.splice(e,1),t._page--,t._currentPage>t._page&&(t._currentPage=t._page),t._setPage(t._currentPage))},getFontSize:function(){return this._fontSize},getLineHeight:function(){return this.getFontSize()*this.options.lineHeight},getCoordinateString:function(e){return this._setNumberPrecision(e*this._scaleFactor,2)},getVerticalCoordinateString:function(e){return this._setNumberPrecision((this._pageHeight-e)*this._scaleFactor,2)},getPageSize:function(){return{width:this._pageWidth,height:this._pageHeight}},getNumberOfPages:function(){return this._pages.length-1},getPages:function(){return this._pages},getPageInfo:function(e){return{objId:2*(e-1)+3,pageNumber:e,pageContext:this._pagesContext[e]}},getCurrentPageInfo:function(){return this.getPageInfo(this._currentPage)},movePage:function(e,t){var n,i,r,a,s=this,o=s._pages,l=s._pageDim,h=s._pagesContext;if(t<e){for(n=o[e],i=l[e],r=h[e],a=e;t<a;a--)o[a]=o[a-1],l[a]=l[a-1],h[a]=h[a-1];o[t]=n,l[t]=i,h[t]=r,s._setPage(t)}else if(e<t){for(n=o[e],i=l[e],r=h[e],a=e;a<t;a++)o[a]=o[a+1],l[a]=l[a+1],h[a]=h[a+1];o[t]=n,l[t]=i,h[t]=r,s._setPage(t)}return s},insertPage:function(){var e=this,t=[].slice.call(arguments),n=t.shift();return e.addPage.apply(e,t),e.movePage(e._currentPage,n),e},setDisplayMode:function(e,t,n){return this._zoomMode=e,this._layoutMode=t,this._pageMode=n,this},_ESC:function(e,t){var n=this.options;return e=e.split("\t").join(new Array(n.TabLen||9).join(" ")),this._escape(e,t)},text:function(e,t,n,i,r,a){var s,o,l,h,u,c,f,d,p,g,m=this,x="",y="Td",v="",b=m.getCurrentPageInfo().pageContext,w=m.getLineHeight();if(k(e)&&(e=e.match(/[\n\r]/)?e.split(/\r\n|\r|\n/g):[e]),k(r)&&(a=r,r=null),k(i)&&(a=i,i=null),ie(i)&&(r=i,i=null),r&&(r*=Math.PI/180,s=Math.cos(r),r=Math.sin(r),x=[m._setNumberPrecision(s,2),m._setNumberPrecision(r,2),m._setNumberPrecision(-1*r,2),m._setNumberPrecision(s,2),""].join(" "),y="Tm"),"noBOM"in(i=i||{})||(i.noBOM=!0),"autoencode"in i||(i.autoencode=!0),!0===i.stroke?!0!==b.lastTextWasStroke&&(v="1 Tr\n",b.lastTextWasStroke=!0):(b.lastTextWasStroke&&(v="0 Tr\n"),b.lastTextWasStroke=!1),se(m._runningPageHeight)||(m._runningPageHeight=0),k(e))e=m._ESC(e,i);else{if(!(e instanceof Array))return void he('Type of text must be string or Array. "'+e+'" is not recognized.',m.options.dieOnError);for(l=[],u=(o=e.concat()).length;u--;)l.push(m._ESC(o.shift(),i));if(Math.ceil((m._pageHeight-n-m._runningPageHeight)*m._scaleFactor/m.getLineHeight()),a){if(g=ne(e,function(e){return m._getStringWidth(e)*m.getFontSize()/m._scaleFactor}),p=Math.max.apply(Math,g),"center"===a)c=t-p/2,t-=g[0]/2;else{if("right"!==a)return void he('Unrecognized alignment option, use "center" or "right".',m.options.dieOnError);c=t-p,t-=g[0]}for(f=t,e=l[0]+") Tj\n",h=1,u=l.length;h<u;h++)d=p-g[h],"center"===a&&(d/=2),e+=c-f+d+" -"+w+" Td ("+l[h],f=c+d,h<u-1&&(e+=") Tj\n")}else e=l.join(") Tj\nT* (")}return n=m._setNumberPrecision((m._pageHeight-n)*m._scaleFactor,2),m._write("BT\n/"+m._fontKey+" "+m.getFontSize()+" Tf\n"+m.getLineHeight()+" TL\n"+v+m._textColor+"\n"+x+m._setNumberPrecision(t*m._scaleFactor,2)+" "+n+" "+y+"\n("+e+") Tj\nET"),m},lstext:function(e,t,n,i){for(var r=0,a=e.length;r<a;r++,t+=i)this.text(e[r],t,n)},line:function(e,t,n,i){return this.lines([[n-e,i-t]],e,t)},clip:function(){this._write("W"),this._write("S")},lines:function(e,t,n,i,r,a){var s,o,l,h,u,c,f,d,p,g,m,x=this;for(ie(e)&&(x._tmp=n,n=t,t=e,e=x._tmp),i=i||[1,1],x._write(x._setNumberPrecision(t*x._scaleFactor,3)+" "+x._setNumberPrecision((x._pageHeight-n)*x._scaleFactor,3)+" m "),s=i[0],o=i[1],h=e.length,g=t,m=n,l=0;l<h;l++)2===(u=e[l]).length?(g=u[0]*s+g,m=u[1]*o+m,x._write(x._setNumberPrecision(g*x._scaleFactor,3)+" "+x._setNumberPrecision((x._pageHeight-m)*x._scaleFactor,3)+" l")):(c=u[0]*s+g,f=u[1]*o+m,d=u[2]*s+g,p=u[3]*o+m,g=u[4]*s+g,m=u[5]*o+m,x._write(x._setNumberPrecision(c*x._scaleFactor,3)+" "+x._setNumberPrecision((x._pageHeight-f)*x._scaleFactor,3)+" "+x._setNumberPrecision(d*x._scaleFactor,3)+" "+x._setNumberPrecision((x._pageHeight-p)*x._scaleFactor)+" "+x._setNumberPrecision(g*x._scaleFactor)+" "+x._setNumberPrecision((x._pageHeight-m)*x._scaleFactor)+" c"));return a&&x._write(" h"),null!==r&&x._write(x.getStyle(r)),x},rect:function(e,t,n,i,r){var a=this;a.getStyle(r);return a._write([a._setNumberPrecision(e*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-t)*a._scaleFactor,2),a._setNumberPrecision(n*a._scaleFactor,2),a._setNumberPrecision(-i*a._scaleFactor,2),"re"].join(" ")),null!==r&&a._write(a.getStyle(r)),a},triangle:function(e,t,n,i,r,a,s){return this.lines([[n-e,i-t],[r-n,a-i],[e-r,t-a]],e,t,[1,1],s,!0),this},roundedRect:function(e,t,n,i,r,a,s){var o=4/3*(Math.SQRT2-1);return this.lines([[n-2*r,0],[r*o,0,r,a-a*o,r,a],[0,i-2*a],[0,a*o,-r*o,a,-r,a],[2*r-n,0],[-r*o,0,-r,-a*o,-r,-a],[0,2*a-i],[0,-a*o,r*o,-a,r,-a]],e+r,t,[1,1],s),this},ellipse:function(e,t,n,i,r){var a=this,s=4/3*(Math.SQRT2-1)*n,o=4/3*(Math.SQRT2-1)*i;return a._write([a._setNumberPrecision((e+n)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-t)*a._scaleFactor,2),"m",a._setNumberPrecision((e+n)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t-o))*a._scaleFactor,2),a._setNumberPrecision((e+s)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t-i))*a._scaleFactor,2),a._setNumberPrecision(e*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t-i))*a._scaleFactor,2),"c"].join(" ")),a._write([a._setNumberPrecision((e-s)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t-i))*a._scaleFactor,2),a._setNumberPrecision((e-n)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t-o))*a._scaleFactor,2),a._setNumberPrecision((e-n)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-t)*a._scaleFactor,2),"c"].join(" ")),a._write([a._setNumberPrecision((e-n)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t+o))*a._scaleFactor,2),a._setNumberPrecision((e-s)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t+i))*a._scaleFactor,2),a._setNumberPrecision(e*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t+i))*a._scaleFactor,2),"c"].join(" ")),a._write([a._setNumberPrecision((e+s)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t+i))*a._scaleFactor,2),a._setNumberPrecision((e+n)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-(t+o))*a._scaleFactor,2),a._setNumberPrecision((e+n)*a._scaleFactor,2),a._setNumberPrecision((a._pageHeight-t)*a._scaleFactor,2),"c"].join(" ")),null!==r&&a._write(a.getStyle(r)),a},circle:function(e,t,n,i){return this.ellipse(e,t,n,n,i)},setFontSize:function(e){return this._fontSize=e,this},setFont:function(e,t){return this._fontKey=this.getFont(e,t),this},setFontStyle:function(e){return this._fontKey=this.getFont(X,e),this},getFontList:function(){var e,t,n,i={},r=this._fontmap;for(e in r)if(r.hasOwnProperty(e))for(t in i[e]=n=[],r[e])r[e].hasOwnProperty(t)&&n.push(t);return i},addFontScriptName:function(e,t,n){this.addFont(e,t,n,"StandardEncoding")},setLineWidth:function(e){return this._write((e*this._scaleFactor).toFixed(2)+" w"),this},setDrawColor:function(e,t,n,i){var r=this,n=!se(t)||!se(i)&&e===t===n?k(e)?e+" G":r._setNumberPrecision(e/255,2)+" G":(se(i)?k(e)?[e,t,n,i,"K"]:[r._setNumberPrecision(e,2),r._setNumberPrecision(t,2),r._setNumberPrecision(n,2),r._setNumberPrecision(i,2),"K"]:k(e)?[e,t,n,g]:[r._setNumberPrecision(e/255,2),r._setNumberPrecision(t/255,2),r._setNumberPrecision(n/255,2),g]).join(" ");return r._write(n),r},setFillColor:function(e,t,n,i){var r,a=this;return!se(t)||!se(i)&&e===t===n?r=k(e)?e+" g":a._setNumberPrecision(e/255,2)+" g":!se(i)||D(i)?(r=(k(e)?[e,t,n,"rg"]:[a._setNumberPrecision(e/255,2),a._setNumberPrecision(t/255,2),a._setNumberPrecision(n/255,2),"rg"]).join(" "),i&&0===i.a&&(r=["255","255","255","rg"].join(" "))):r=(k(e)?[e,t,n,i,"k"]:[a._setNumberPrecision(e,2),a._setNumberPrecision(t,2),a._setNumberPrecision(n,2),a._setNumberPrecision(i,2),"k"]).join(" "),a._write(r),a},setTextColor:function(e,t,n){var i,r=this;return k(e)&&/^#[0-9A-Fa-f]{6}$/.test(e)&&(e=(i=parseInt(e.substr(1),16))>>16&255,t=i>>8&255,n=255&i),0===e&&0===t&&0===n||!se(t)?r._textColor=r._setNumberPrecision(e/255,3)+" g":r._textColor=[r._setNumberPrecision(e/255,3),r._setNumberPrecision(t/255,3),r._setNumberPrecision(n/255,3),"rg"].join(" "),r},_build:function(){var e,t,n,i,r=this;for(r._printToDoc=!0,r._objectNumber=2,r._write("%PDF-"+r._version),r._writePages(),r._writeAdditionalObjects(),r._writeResources(),r._createObject(),r._write("<<"),r._writeInfo(),r._write(">>"),r._write("endobj"),r._createObject(),r._write("<<"),r._writeCatalog(),r._write(">>"),r._write("endobj"),e=r._contentLength,t="0000000000",r._write("xref"),r._write("0 "+(r._objectNumber+1)),r._write(t+" 65535 f "),i=1;i<=r._objectNumber;i++)n=r._offsets[i],s(n)?r._write((t+r._offsets[i]()).slice(-10)+" 00000 n "):r._write((t+r._offsets[i]).slice(-10)+" 00000 n ");return r._write("trailer"),r._write("<<"),r._writeTrailer(),r._write(">>"),r._write("startxref"),r._write(e),r._write("%%EOF"),r._printToDoc=!1,r._content.join("\n")},getStyle:function(e){var t="S";return"F"===e?t="F".toLowerCase():"FD"===e||"DF"===e?t="B":e!=="F".toLowerCase()&&"f*"!==e&&"both"!==e&&"B*"!==e||(t=e),t},_getArrayBuffer:function(){for(var e=this._build(),t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n);t--;)i[t]=e.charCodeAt(t);return n},_getCharWidths:function(e,t){for(var n,i=t||{},t=this.getActiveFontObj(),r=i.widths||t.metadata.Unicode.widths,a=r.fof||1,s=i.kerning||t.metadata.Unicode.kerning,o=s.fof||1,l=0,h=r[0]||a,u=[],c=0,f=e.length;c<f;c++)n=e.charCodeAt(c),u.push((r[n]||h)/a+(s[n]&&s[n][l]||0)/o),l=n;return u},_sum:function(e){for(var t=e.length,n=0;t;)n+=e[--t];return n},_getStringWidth:function(e,t){return this._sum(this._getCharWidths.call(this,e,t))},_getTextDimensions:function(t){var n=this.getActiveFontObj(),e=n.fontName,i=this._tableFontSize||this.getFontSize(),r=n.fontStyle,n=_.createElement("font");try{n.style.fontStyle=r}catch(e){n.style.fontWeight=r}n.style.fontName=e,n.style.fontSize=i+"pt";try{n.textContent=t}catch(e){n.innerText=t}return _.body.appendChild(n),t={w:(n.offsetWidth+1)*O,h:(n.offsetHeight+1)*O},_.body.removeChild(n),t},_setLastCellPosition:function(e,t,n,i,r){this._lastCellPos={x:e,y:t,w:n,h:i,ln:r}},_getLastCellPosition:function(){return this._lastCellPos},_cellAddPage:function(){var e=this,t=e._cellMargins||e._noMargins;e.addPage(),e._setLastCellPosition(t.left,t.top),e._cellPages++},_setTableHeaderConfig:function(e){this._cellTableHeaderRow=e},_splitWord:function(e,t,n,i){for(var r,a=[],s=0,o=e.length,l=0;s!==o&&l+t[s]<n;)l+=t[s],s++;for(a.push(e.slice(0,s)),r=s,l=0;s!==o;)l+t[s]>i&&(a.push(e.slice(r,s)),l=0,r=s),l+=t[s],s++;return r!==s&&a.push(e.slice(r,s)),a},_splitParagraph:function(e,t,n){var i,r,a,s,o,l,h=this,u=n||{},c=[],f=[c],d=u.textIndent||0,p=0,g=0,m=e.split(" "),x=h._getCharWidths(" ",u)[0],y=-1===u.lineIndent?m[0].length+2:u.lineIndent||0;for(y&&(o=new Array(y).join(" "),l=[],w(m,function(e,t){1<(t=t.split(/\s*\n/)).length?l=l.concat(ne(t,function(e,t){return(t&&e.length?"\n":"")+e})):l.push(t[0])}),m=l,y=h._getStringWidth(o,u)),r=0,a=m.length;r<a;r++){var v=0,b=m[r];if(y&&"\n"==b[0]&&(b=b.substr(1),v=1),i=h._getCharWidths(b,u),t<d+p+(g=h._sum(i))||v){if(t<g){for(s=h._splitWord(b,i,t-(d+p),t),c.push(s.shift()),c=[s.pop()];s.length;)f.push([s.shift()]);g=h._sum(i.slice(b.length-c[0].length))}else c=[b];f.push(c),d=g+y,p=x}else c.push(b),d+=p+g,p=x}return ne(f,y?function(e,t){return(t?o:"")+e.join(" ")}:function(e){return e.join(" ")})},_splitText:function(e,t,n){var i,r,a=this,s=n||{},n=F(e)?e.join(" "):e,n=a._getTextDimensions(n).w/n.length,o=[],l=function(e){var t,n={0:1},i={};return e.widths&&e.kerning?{widths:e.widths,kerning:e.kerning}:(t=a.getFontObj(e.fontName,e.fontStyle)||a.getActiveFontObj()).metadata[e="Unicode"]?{widths:t.metadata[e].widths||n,kerning:t.metadata[e].kerning||i}:{widths:n,kerning:i}}.call(a,s),h=F(e)?e:e.split(/\r?\n/),u=+a._scaleFactor*t/n;for(l.textIndent=s.textIndent?+s.textIndent*a._scaleFactor/n:0,l.lineIndent=s.lineIndent,i=0,r=h.length;i<r;i++)o=o.concat(a._splitParagraph(h[i],u,l));return o},_getLineHeight:function(e,t,n){for(var i,r,a=0,s=this._cellPadding,o=0;o<e.length;o++)r=e[o],i=F(n)?n[o]:n[r],F(i)||(!se(i)||oe(i)?i="":i+=""),r=F(n)?(n[o]=this._splitText(i,t[r]-s),n[o].length):(n[r]=this._splitText(i,t[r]-s),n[r].length),a<(r=this.getLineHeight()*r+1.6*s)&&(a=r);return a},_cell:function(e,t,n,i,r,a,s){var o,l,h,u=this,c=u._getLastCellPosition(),f=u._cellMargins||u._noMargins,d=u._cellPadding;if(se(c.ln)&&(t=c.ln===a?(e=c.x+c.w,c.y):(c.y+c.h+i+u._cellMargin>=u._pageHeight-f.bottom&&(u._cellAddPage(),u._tablePrintHeader&&u._cellTableHeaderRow&&u._renderHeader(a,!0)),(f=u._getLastCellPosition()).y+(f.h||0))),se(r[0]))if(u._cellPrintingHeaderRow?u.rect(e,t,n,i,"FD"):u.rect(e,t,n,i),"right"===s)for(F(r)||(r=[r]),h=0;h<r.length;h++)o=r[h],l=u._getStringWidth(o)*u.getFontSize(),u.text(o,e+n-l-d,t+u.getLineHeight()*(h+1));else u.text(r,e+d,t+u.getLineHeight());return u._setLastCellPosition(e,t,n,i,a),u},_renderHeader:function(e,t){var n,i,r,a,s=this,o=[];if(s._cellTableHeaderRow){for(s._cellPrintingHeaderRow=!0,se(s._cellHeaderFunction)&&(a=s._cellHeaderFunction.call(s,s._cellPages),s._setLastCellPosition(a[0],a[1],a[2],a[3],-1)),s.setFontStyle(b),i=0,r=s._cellTableHeaderRow.length;i<r;i++)s.setFillColor(236,237,238),n=s._cellTableHeaderRow[i],t&&(n[1]=s._cellMargins&&s._cellMargins.top||0,o.push(n)),n=[].concat(n),s._cell.apply(s,n.concat(e));0<o.length&&s._setTableHeaderConfig(o),s.setFontStyle(v),s._cellPrintingHeaderRow=!1}else he("shieldExport: No table header configuration",s.options.dieOnError)},table:function(e,t,n,i,r){function a(e){return e[s]}var s,o,l,h,u,c,f,d,p,g,m,x,y,v=this,b=v._cellPadding,w=[],_=[],P={},C=[],E=!0,S=v.getFontSize(),T=v._noMargins;if(n){if(y=n.slice(0),r&&(!1===r.printHeader&&(E=!1),r.fontSize&&(S=r.fontSize),r.margins&&(T=r.margins)),v._lastCellPos={x:X,y:X,w:X,h:X,ln:X},v._cellPages=1,v._tablePrintHeader=E,v._cellMargins=T,v.setFontSize(S),v._tableFontSize=S,!se(i)||oe(i))w=ue(y[0]);else if(i[0]&&!k(i[0]))for(l=0,h=i.length;l<h;l++)s=i[l],w.push(s.field),_.push(s.title),P[s.field]=se(s.width)?B(s.width)*v._getScaleFactor():X;else w=i;for(l=0,h=w.length;l<h;l++)if(s=w[l],!se(P[s])){for((d=[]).push(v._getTextDimensions(_[l]||s).w+2*b),p=0,u=(f=ne(y,a)).length;p<u;p++)c=f[p],d.push(v._getTextDimensions(c).w+2*b);P[s]=Math.max.apply(Math,d)}if(E){for(x=v._getLineHeight(w,P,_.length?_:w),l=0,h=w.length;l<h;l++)s=w[l],o=_.length?_[l]:s,F(o)||(o+=""),C.push([e,t,P[s],x,o]);v._setTableHeaderConfig(C),v._renderHeader(1,!1)}for(l=0,h=y.length;l<h;l++)for(g=y[l],x=v._getLineHeight(w,P,g),p=0,m=w.length;p<m;p++)s=w[p],v._cell(e,t,P[s],x,g[s],l+2,i[p].align);return v}he("shieldExport: No data specified for PDF table",v.options.dieOnError)}}),t=n.extend({getExt:function(){return".csv"},getContentType:function(){return"text/csv;charset=utf-8"},getContent:function(e){function t(e){return(e+"").replace(c,'""')}var n,i,r,a=this.options,s=a.delimiter||",",o=a.header,l=a.records||[],h=l.length,u="",c=/\"/g;if(a.printHeader&&o){for(n=0;n<o.length;n++)u+=(0<n?s:"")+'"'+t(o[n])+'"';u+="\n"}for(n=0;n<h;n++){for(i=0,r=l[n].length;i<r;i++)u+=(0<i?s:"")+'"'+t(l[n][i])+'"';u+="\n"}return u}}),te(f,{PDFDocument:a,CSVDocument:t,OOXMLWorkbook:e,ExcelXMLSpreadsheet:ee})}(jQuery,shield,this);
shield.version='1.7.43';
!function(p,f,k,M){var s,e,c,n,m,x,y,v,b,w,T,S,A,P,L,C,_,r,o,l,d,h=f.ui.Widget,t=f.Constants,R=document,D=Math,I=D.round,N=D.floor,X=D.ceil,O=D.max,E=D.min,W=D.abs,Y=D.cos,H=D.sin,B=D.PI,F=2*B/360,u="function",z="mouseover",G="mouseout",g="mousemove",V="mouseleave",U="touchstart",j="resize",Z="click",K="point",a=navigator.userAgent,$=k.opera,q=/msie/i.test(a)&&!$,Q=8===R.documentMode,J=/AppleWebKit/.test(a),tt=/Firefox/.test(a),et=t.SVG_NS,it=!!R.createElementNS&&!!R.createElementNS(et,"svg").createSVGRect,nt=!!R.createElement("canvas").getContext,at=!it&&!q&&nt,rt=R.documentElement.ontouchstart!==M,ot={},i=function(){},st=p.extend,lt=p.inArray,dt=f.error,ct=f.to.int,ht=f.is.string,pt=f.is.object,ut=f.is.array,gt=f.is.number,ft=(f.is.integer,f.is.float),mt=f.is.null,xt=f.is.defined,yt=f.to.array,vt="shield-",bt="div",wt="visible",Tt="hidden",kt="relative",St="px",At="L",Pt="M",Lt="none",Ct="absolute",Mt="pointer",_t="rgba(192,192,192,"+(it?1e-4:.002)+")",Rt="pointHoveredState",Dt="pointSelectedState",It="MINUTE",Nt="HOUR",Xt="DAY",Ot="WEEK",Et="MONTH",Wt="YEAR",Yt="stroke-width",Ht={},Bt={};function Ft(t){return D.log(t)/D.LN10}function zt(t){return D.pow(10,t)}function Gt(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function Vt(t,e,i){var n,a,r="setAttribute";if(ht(e))xt(i)?t[r](e,i):t&&t.getAttribute&&(a=t.getAttribute(e));else if(xt(e)&&pt(e))for(n in e)e.hasOwnProperty(n)&&t[r](n,e[n]);return a}function Ut(){for(var t,e=arguments,i=e.length,n=0;n<i;n++)if(null!=(t=e[n]))return t}function jt(t,e){q&&e&&e.opacity!==M&&(e.filter="alpha(opacity="+100*e.opacity+")"),st(t.style,e)}function Zt(t,e,i,n,a){t=R.createElement(t);return e&&st(t,e),a&&jt(t,{padding:0,border:Lt,margin:0}),i&&jt(t,i),n&&n.appendChild(t),t}function Kt(t,e){function i(){}return i.prototype=new t,st(i.prototype,e),i}function $t(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(n),i.apply(this,t)}}function qt(t,e,i,n){var a,r=t/(i=Ut(i,1));for(e||(e=[1,2,2.5,5,10],n&&!1===n.decimalTicks&&(1===i?e=[1,2,5,10]:i<=.1&&(e=[1/i]))),a=0;a<e.length&&(t=e[a],!(r<=(e[a]+(e[a+1]||e[a]))/2));a++);return t*=i}function Qt(){this.color=0,this.symbol=0}function Jt(t,i){for(var n,e=t.length,a=0;a<e;a++)t[a]._ssIndex=a;for(t.sort(function(t,e){return 0===(n=i(t,e))?t._ssIndex-e._ssIndex:n}),a=0;a<e;a++)delete t[a]._ssIndex}function te(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function ee(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function ie(t,e){for(var i in t)t.hasOwnProperty(i)&&(t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i])}function ne(t){e=e||Zt(bt),t&&e.appendChild(t),e.innerHTML=""}function ae(t){return parseFloat(t.toPrecision(14))}function re(t,e){c=Ut(t,Ht[e.guid].applyAnimation)}Qt.prototype={wrapColor:function(t){this.color>=t&&(this.color=0)},wrapSymbol:function(t){this.symbol>=t&&(this.symbol=0)}},m={MILLISECOND:1,SECOND:1e3,MINUTE:6e4,HOUR:36e5,DAY:864e5,WEEK:6048e5,MONTH:2592e6,YEAR:31556952e3},n={init:function(t,e,i){var n,a,r,o,s,l=t.shift,d=-1<(e=e||"").indexOf("C"),c=d?7:3,h=e.split(" "),p=[].concat(i),i=function(t){for(r=t.length;r--;)t[r]===Pt&&t.splice(r+1,0,t[r+1],t[r+2],t[r+1],t[r+2])};if(d&&(i(h),i(p)),t.isArea&&(o=h.splice(h.length-6,6),s=p.splice(p.length-6,6)),l<=p.length/c)for(;l--;)p=[].concat(p).splice(0,c).concat(p);if(t.shift=0,h.length)for(n=p.length;h.length<n;)a=[].concat(h).splice(h.length-c,c),d&&(a[c-6]=a[c-2],a[c-5]=a[c-1]),h=h.concat(a);return o&&(h=h.concat(o),p=p.concat(s)),[h,p]},step:function(t,e,i,n){var a,r=[],o=t.length;if(1===i)r=n;else if(o===e.length&&i<1)for(;o--;)a=parseFloat(t[o]),r[o]=isNaN(a)?t[o]:i*parseFloat(e[o]-a)+a;else r=e;return r}},r=p.fx,o=r.step,l=p.Tween,d=l&&l.propHooks,p.extend(p.easing,{easeOutQuad:function(t,e,i,n,a){return-n*(e/=a)*(e-2)+i}}),p.each(["cur","_default","width","height"],function(e,i){var n,a,t=o;"cur"===i?t=r.prototype:"_default"===i&&l&&(t=d[i],i="set"),(n=t[i])&&(t[i]=function(t){return(a=(t=e?t:this).elem).attr?a.attr(t.prop,"cur"===i?M:t.now):n.apply(this,arguments)})}),ve=function(t){var e,i=t.elem;t.started||(e=n.init(i,i.d,i.toD),t.start=e[0],t.end=e[1],t.started=!0),i.attr("d",n.step(t.start,t.end,t.pos,i.toD))},l?d.d={set:ve}:o.d=ve;p.getScript;function oe(){return p.extend.apply(p,[].concat.apply([!0,null],arguments))}function se(t,e,i){p(t).bind(e,i)}function le(t,e,i){var n=R.removeEventListener?"removeEventListener":"detachEvent";R[n]&&!t[n]&&(t[n]=function(){}),p(t).unbind(e,i)}function de(t,e,i,n){var a,r,o;t instanceof f.ui.Widget?t.trigger(e,i,n):t instanceof f.Dispatcher?(a=t.trigger(e,i),typeof n!=u||a.isDefaultPrevented()||n.call(t,a)):(a=t,t=e,e=i,i=n,o=p.Event(t),n="detached"+t,!q&&e&&(delete e.layerX,delete e.layerY),st(o,e),a[t]&&(a[n]=a[t],a[t]=null),p.each(["preventDefault","stopPropagation"],function(t,e){var i=o[e];o[e]=function(){try{i.call(o)}catch(t){"preventDefault"===e&&(r=!0)}}}),p(a).trigger(o),a[n]&&(a[t]=a[n],a[n]=null),!i||o.isDefaultPrevented()||r||i(o))}function ce(t){p(t).stop()}var he,pe,ue,ge,fe=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){for(var i=0,n=t.length;i<n;i++)if(!1===e.call(t[i],t[i],i,t))return i},me=p.grep,xe=p.map,t={enabled:!0,align:"center",x:0,y:15,style:{color:"#7E7E7E",fontSize:"11px",lineHeight:"14px"}},ye=(he={seriesPalette:["#1E98E4","#FFC500","#FF2A00","#CACACA","#7F7F7F","#00FF9C","#6D31FF","#00B2A1","#B9FF85","#FF8000"],allowUTCFormatting:!0,primaryHeader:{text:"Shield UI Chart",align:"center",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif",y:-15,style:{color:"#4B4B4B",fontSize:"16px",top:10}},secondaryHeader:{text:"",align:"center",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif",y:5,style:{color:"#606060"}},loadingTextStyle:{fontWeight:"bold",position:kt,top:"1em"},symbols:["circle"],chartAreaBorderColor:"#000000",chartAreaBorderWidth:0,borderColor:"#A0A0A0",borderRadius:0,borderWidth:0,seriesType:"bar",scaleAxesForHiddenSeries:!1,chartAreaPaddingTop:40,chartAreaPaddingRight:10,chartAreaPaddingBottom:20,chartAreaPaddingLeft:10,style:{fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif",fontSize:"12px"},backgroundColor:"#FFFFFF",axisX:{plotStripWidth:0,drawWidth:1,ticksWidth:1,ticksHeight:6,drawColor:"#636363",ticksColor:"#636363",lastTickTextVisible:!0,axisTickText:{style:{color:"#636363",fontSize:"11px",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"},y:17},title:{style:{color:"#636363",fontWeight:"normal",fontSize:"11px",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"}}},axisY:{plotStripWidth:1,drawWidth:0,tickWidth:1,tickColor:"#7E7E7E",drawColor:"#636363",plotStripDashStyle:"Solid",axisTickText:{style:{color:"#636363",fontSize:"11px",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"}},title:{style:{color:"#636363",fontSize:"11px",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"}}},seriesSettings:{bar:{borderWidth:0},line:{enablePointSelection:!1,allowMultiPointSelection:!0,applyAnimation:{duration:1200},events:{},drawWidth:3,shadow:!1,pointMark:{enabled:!0,drawWidth:2,drawRadius:3,drawColor:null,innerColor:null,activeSettings:{pointHoveredState:{enabled:!0,innerColor:"#FFFFFF",drawWidth:2,drawRadius:4},pointSelectedState:{color:"#7AF4F4",shadow:!1,drawWidth:2}}},point:{events:{}},dataPointText:oe(t,{enabled:!1,format:"{point.y}",verticalAlign:"bottom",y:0}),pointsLimit:300,pointRange:0,addToLegend:!0,activeSettings:{pointHoveredState:{drawWidth:3,pointMark:{}},pointSelectedState:{pointMark:{}}},completeSeriesTrace:!0},polarline:{applyAnimation:{duration:500}},polararea:{applyAnimation:{duration:500}},polarbar:{applyAnimation:{duration:500}},polarspline:{applyAnimation:{duration:500}},polarsplinearea:{applyAnimation:{duration:500}},polarscatter:{applyAnimation:{duration:500}}},chartLegend:{enabled:!0,align:"center",renderDirection:"horizontal",borderWidth:0,borderColor:"#909090",borderRadius:0,shadow:!1,legendItemSettings:{disabledStyle:{color:"#CCC"},mouseOverStyle:{color:"#000"},elementStyle:{cursor:Mt,color:"#3E576F",fontSize:"12px"}},checkMarkSettings:{enabled:!1,shape:"check",width:1,color:"#3E576F",mouseOverColor:M,coordinates:{x:M,y:M,width:M,height:M}},symbolWidthINTERNAL:12,drawRadius:4,legendMarkerDistance:5,verticalAlign:"bottom",x:0,y:10},tooltipSettings:{enabled:!0,customHeaderText:"{point.pointName}",customPointText:"<span>{point.dataSeries.collectionAlias}</span>: {point.y}",format:null,position:null,chartBound:!1,axisMarkers:{enabled:!1,mode:"xy",color:"#999999",width:1,zIndex:3},showDistance:rt?25:10}}).seriesSettings,ve=ye.line;pe=he.allowUTCFormatting,ue=pe?"getUTC":"get",ge=pe?"setUTC":"set",x=pe?Date.UTC:function(t,e,i,n,a,r){return new Date(t,e,Ut(i,1),Ut(n,0),Ut(a,0),Ut(r,0)).getTime()},y=ue+"Minutes",v=ue+"Hours",b=ue+"Day",w=ue+"Date",T=ue+"Month",S=ue+"FullYear",A=ge+"Minutes",P=ge+"Hours",L=ge+"Date",C=ge+"Month",_=ge+"FullYear";function be(e){var t,i,n=[];return(t=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(i=e))?n=[ct(t[1]),ct(t[2]),ct(t[3]),parseFloat(t[4],10)]:(t=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))&&(n=[ct(t[1],16),ct(t[2],16),ct(t[3],16),1]),{get:function(t){return t=n&&!isNaN(n[0])?"rgb"===t?"rgb("+n[0]+","+n[1]+","+n[2]+")":"a"===t?n[3]:"rgba("+n.join(",")+")":e},brighten:function(t){if(gt(t)&&0!==t)for(var e=0;e<3;e++)n[e]+=ct(255*t),n[e]<0&&(n[e]=0),255<n[e]&&(n[e]=255);return this},setOpacity:function(t){return n[3]=t,this}}}function we(){}we.prototype={init:function(t,e){this.element="span"===e?Zt(e):R.createElementNS(et,e),this.renderer=t,this.attrSetters={}},animate:function(t,e,i){var n,a,r=Ut(e,c,!0);ce(this),r?(r=oe(r),i&&(r.complete=i),n=t,a=r,r=p(e=this),n.d&&(e.toD=n.d,n.d=1),r.stop(),r.animate(n,a)):(this.attr(t),i&&i())},attr:function(t,e){var i,n,a,r,o,s,l,d,c,h=this,p=h.element,u=p.nodeName.toLowerCase(),g=h.renderer,f=h.attrSetters,m=h.shadows,x=h;if(ht(t)&&xt(e)&&(i=t,(t={})[i]=e),ht(t))i=t,"circle"===u?i={x:"cx",y:"cy"}[i]||i:"strokeWidth"===i&&(i="stroke-width"),x=Vt(p,i)||h[i]||0,"d"!==i&&"visibility"!==i&&(x=parseFloat(x));else for(i in t)if(t.hasOwnProperty(i)&&(n=t[i],(s=!1)!==(a=f[i]&&f[i].call(h,n,i)))){if(a!==M&&(n=a),"d"===i)n&&n.join&&(n=n.join(" ")),/(NaN| {2}|^$)/.test(n)&&(n="M 0 0");else if("x"===i&&"text"===u){for(r=0;r<p.childNodes.length;r++)Vt(o=p.childNodes[r],"x")===Vt(p,"x")&&Vt(o,"x",n);h.textAngle&&Vt(p,"transform","rotate("+h.textAngle+" "+n+" "+ct(t.y||Vt(p,"y"))+")")}else if("fill"===i)n=g.color(n,p,i);else if("circle"!==u||"x"!==i&&"y"!==i)if("rect"===u&&"r"===i)Vt(p,{rx:n,ry:n}),s=!0;else if("translateX"===i||"translateY"===i||"textAngle"===i||"verticalAlign"===i)s=c=!0;else if("stroke"===i)n=g.color(n,p,i);else if("dashstyle"===i){if(i="stroke-dasharray","solid"===(n=n&&n.toLowerCase()))n=Lt;else if(n){for(r=(n=n.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;r--;)n[r]=ct(n[r])*t["stroke-width"];n=n.join(",")}}else"isTracker"===i?h[i]=n:"width"===i?n=ct(n):"align"===i?(i="text-anchor",n={left:"start",center:"middle",right:"end"}[n]):"title"===i&&((l=p.getElementsByTagName("title")[0])||(l=R.createElementNS(et,"title"),p.appendChild(l)),l.textContent=n);else i={x:"cx",y:"cy"}[i]||i;if("strokeWidth"===i&&(i="stroke-width"),J&&"stroke-width"===i&&0===n&&(n=1e-6),h.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(d||(h.symbolAttr(t),d=!0),s=!0),m&&/^(width|height|visibility|x|y|d|transform)$/.test(i))for(r=m.length;r--;)Vt(m[r],i,"height"===i?O(n-(m[r].cutHeight||0),0):n);("width"===i||"height"===i)&&"rect"===u&&n<0&&(n=0),h[i]=n,c&&h.updateTransform(),"text"===i?(n!==h.textStr&&delete h.bBox,h.textStr=n,h.added&&g.buildText(h)):s||Vt(p,i,n)}return x},symbolAttr:function(e){var i=this;fe(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(t){i[t]=Ut(e[t],i[t])}),i.attr({d:i.renderer.symbols[i.symbolName](i.x,i.y,i.width,i.height,i)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":Lt)},crisp:function(t,e,i,n,a){var r,o,s=this,l={},d={};for(r in t=t||s.strokeWidth||s.attr&&s.attr("stroke-width")||0,o=I(t)%2/2,d.x=N(e||s.x||0)+o,d.y=N(i||s.y||0)+o,d.width=N((n||s.width||0)-2*o),d.height=N((a||s.height||0)-2*o),d.strokeWidth=t,d)d.hasOwnProperty(r)&&s[r]!==d[r]&&(l[r]=d[r],pt(s)&&(s[r]=d[r]));return l},css:function(t){function e(t,e){return"-"+e.toLowerCase()}var i,n=this,a=n.element,a=t&&t.width&&"text"===a.nodeName.toLowerCase(),r="";if(t&&t.color&&(t.fill=t.color),t=st(n.styles,t),n.styles=t,at&&a&&delete t.width,q&&!it)a&&delete t.width,jt(n.element,t);else{for(i in t)t.hasOwnProperty(i)&&(r+=i.replace(/([A-Z])/g,e)+":"+t[i]+";");n.attr({style:r})}return a&&n.added&&n.renderer.buildText(n),n},on:function(t,e){return this.element["on"+t]=e,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){return this.isInverted=!0,this.updateTransform(),this},htmlCss:function(t){var e=this,i=e.element,i=t&&"SPAN"===i.tagName&&t.width;return i&&(delete t.width,e.textWidth=i,e.updateTransform()),e.styles=st(e.styles,t),jt(e.element,t),e},htmlGetBBox:function(){var t=this.element,e=this.bBox;return e||("text"===t.nodeName&&(t.style.position=Ct),e=this.bBox={x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}),e},htmlUpdateTransform:function(){var t,e,i,n,a,r,o,s,l,d,c,h,p,u,g,f,m,x,y,v;this.added?(e=(t=this).renderer,i=t.element,n=t.translateX||0,a=t.translateY||0,r=t.x||0,o=t.y||0,l={left:0,center:.5,right:1}[s=t.textAlignINTERNAL||"left"],d=s&&"left"!==s,c=t.shadows,(n||a)&&(jt(i,{marginLeft:n,marginTop:a}),c&&fe(c,function(t){jt(t,{marginLeft:n+1,marginTop:a+1})})),t.isInverted&&fe(i.childNodes,function(t){e.invertChild(t,i)}),"SPAN"===i.tagName&&(h=t.textAngle,u=1,g=p=0,f=ct(t.textWidth),m=t.xCorr||0,x=t.yCorr||0,v={},(y=[h,s,i.innerHTML,t.textWidth].join(","))!==t.cTT&&(xt(h)&&(e.isSVG?v[q?"-ms-transform":J?"-webkit-transform":tt?"MozTransform":$?"-o-transform":""]=v.transform="rotate("+h+"deg)":(u=Y(p=h*F),g=H(p),v.filter=h?["progid:DXImageTransform.Microsoft.Matrix(M11=",u,", M12=",-g,", M21=",g,", M22=",u,", sizingMethod='auto expand')"].join(""):Lt),jt(i,v)),c=Ut(t.elemWidth,i.offsetWidth),p=Ut(t.elemHeight,i.offsetHeight),f<c&&/[ \-]/.test(i.innerText)&&(jt(i,{width:f+St,display:"block",whiteSpace:"normal"}),c=f),m=u<0&&-c,x=g<0&&-p,m+=g*(v=e.fontMetrics(i.style.fontSize).b)*((f=u*g<0)?1-l:l),x-=u*v*(h?f?l:1-l:1),d&&(m-=c*l*(u<0?-1:1),h&&(x-=p*l*(g<0?-1:1)),jt(i,{textAlignINTERNAL:s})),t.xCorr=m,t.yCorr=x),jt(i,{left:r+m+St,top:o+x+St}),t.cTT=y)):this.alignOnAdd=!0},updateTransform:function(){var t=this,e=t.translateX||0,i=t.translateY||0,n=t.isInverted,a=t.textAngle,r=[];n&&(e+=t.attr("width"),i+=t.attr("height")),(e||i)&&r.push("translate("+e+","+i+")"),n?r.push("rotate(90) scale(-1,1)"):a&&r.push("rotate("+a+" "+(t.x||0)+" "+(t.y||0)+")"),r.length&&Vt(t.element,"transform",r.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var n=this;t?(n.alignOptions=t,n.alignByTranslate=e,i||n.renderer.alignedObjects.push(n)):(t=n.alignOptions,e=n.alignByTranslate),i=Ut(i,n.renderer);var a=t.align,r=t.verticalAlign,o=(i.x||0)+(t.x||0),s=(i.y||0)+(t.y||0),l={};return"right"!==a&&"center"!==a||(o+=(i.width-(t.width||0))/{right:1,center:2}[a]),l[e?"translateX":"x"]=I(o),"bottom"!==r&&"middle"!==r||(s+=(i.height-(t.height||0))/({bottom:1,middle:2}[r]||1)),l[e?"translateY":"y"]=I(s),n[n.placed?"animate":"attr"](l),n.placed=!0,n.alignAttr=l,n},getBBox:function(){var t,e=this,i=e.bBox,n=e.renderer,a=e.textAngle,r=e.element,o=e.styles,s=a*F;if(!i){if(r.namespaceURI===et||n.forExport){try{i=r.getBBox?st({},r.getBBox()):{width:r.offsetWidth,height:r.offsetHeight}}catch(t){}(!i||i.width<0)&&(i={width:0,height:0})}else i=e.htmlGetBBox();n.isSVG&&(n=i.width,t=i.height,a&&(i.width=W(t*H(s))+W(n*Y(s)),i.height=W(t*Y(s))+W(n*H(s)))),q&&o&&"11px"===o.fontSize&&22.700000762939453===t&&(i.height=14),e.bBox=i}return i},show:function(){return this.attr({visibility:wt})},hide:function(){return this.attr({visibility:Tt})},add:function(t){var e,i,n,a,r=this.renderer,o=t||r,s=o.element||r.box,l=s.childNodes,d=this.element,c=Vt(d,"zIndex");if(t&&(this.parentGroup=t),this.parentInverted=t&&t.isInverted,void 0!==this.textStr&&r.buildText(this),c&&(o.handleZ=!0,c=ct(c)),o.handleZ)for(n=0;n<l.length;n++)if(i=Vt(e=l[n],"zIndex"),e!==d&&(ct(i)>c||!xt(c)&&xt(i))){s.insertBefore(d,e),a=!0;break}return a||s.appendChild(d),this.added=!0,de(this,"add"),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){if(!this._destroyed){var t,e,i=this,n=i.element||{},a=i.shadows;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=null,ce(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(e=0;e<i.stops.length;e++)i.stops[e]=i.stops[e].destroy();i.stops=null}for(t in i.safeRemoveChild(n),a&&fe(a,function(t){i.safeRemoveChild(t)}),i.renderer._destroyed||Gt(i.renderer.alignedObjects,i),i)i.hasOwnProperty(t)&&delete i[t];return i._destroyed=!0,null}},empty:function(){for(var t=this.element,e=t.childNodes,i=e.length;i--;)t.removeChild(e[i])},shadow:function(t,e,i){var n,a,r,o,s,l,d=[],c=this.element;if(t){for(o=Ut(t.width,3),s=(t.opacity||.15)/o,l=this.parentInverted?"(-1,-1)":"("+Ut(t.offsetX,1)+", "+Ut(t.offsetY,1)+")",n=1;n<=o;n++)Vt(a=c.cloneNode(0),{isShadow:"true",stroke:t.color||"black","stroke-opacity":s*n,"stroke-width":r=2*o+1-2*n,transform:"translate"+l,fill:Lt}),i&&(Vt(a,"height",O(Vt(a,"height")-r,0)),a.cutHeight=r),e?e.element.appendChild(a):c.parentNode.insertBefore(a,c),d.push(a);this.shadows=d}return this}};function Te(){this.init.apply(this,arguments)}var ke,Se;function Ae(t,e,i){var n=this;n.axis=t,n.pos=e,n.type=i||"",n.isNew=!0,i||n._label()}function Pe(t,e){return this.axis=t,e&&(this.options=e,this.id=e.id),this}function Le(t,e,i,n,a,r){var o=this,s=Ht[t.chart.guid].isInverted;o.axis=t,o.isNegative=i,o.options=e,o.x=n,o.stackIndex=a,o.percent="percent"===r,o.alignOptions={align:e.align||(s?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(s?"middle":i?"bottom":"top"),y:Ut(e.y,s?4:i?14:-6),x:Ut(e.x,s?i?-6:6:0)},o.textAlignINTERNAL=e.textAlignINTERNAL||(s?i?"right":"left":"center")}Te.prototype={Element:we,init:function(t,e,i,n){var a,r=this,o=location,s=r.createElement("svg").attr({xmlns:et,version:"1.1"});t.appendChild(s.element),r.isSVG=!0,r.box=s.element,r.boxWrapper=s,r.alignedObjects=[],r.url=(tt||J)&&R.getElementsByTagName("base").length?o.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",r.defs=this.createElement("defs").add(),r.forExport=n,r.gradients={},r.setSize(e,i,!1),tt&&t.getBoundingClientRect&&(r.subPixelFix=r=function(){jt(t,{left:0,top:0}),a=t.getBoundingClientRect(),jt(t,{left:X(a.left)-a.left+St,top:X(a.top)-a.top+St})},r(),se(k,j,r))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){if(!this._destroyed){var t=this,e=t.defs;return t.box=null,t.boxWrapper=t.boxWrapper.destroy(),ie(t.gradients||{}),t.gradients=null,e&&(t.defs=e.destroy()),t.subPixelFix&&le(k,j,t.subPixelFix),t.alignedObjects=null,t._destroyed=!0,null}},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(p){var u,g=p.element,t=Ut(p.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),e=g.childNodes,f=/style="([^"]+)"/,m=/href="([^"]+)"/,x=/id="([^"]+)"/,y=Vt(g,"x"),i=p.styles,v=i&&i.width&&ct(i.width),b=i&&i.lineHeight,w="getComputedStyle",n=e.length,T=[];for(;n--;)g.removeChild(e[n]);v&&!p.added&&this.box.appendChild(g),""===t[t.length-1]&&t.pop(),fe(t,function(t,l){var d,c,h=0;t=t.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),d=t.split("|||"),fe(d,function(t){if(""!==t||1===d.length){var e,i={},n=R.createElementNS(et,"tspan");if(f.test(t)&&Vt(n,"style",e=t.match(f)[1].replace(/(;| |^)color([ :])/,"$1fill$2")),m.test(t)&&(Vt(n,"onclick",'location.href="'+t.match(m)[1]+'"'),jt(n,{cursor:Mt})),x.test(t)&&Vt(n,"id",t.match(x)[1]),t=(t.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"),n.appendChild(R.createTextNode(t)),h?i.dx=3:i.x=y,h||(l&&(!it&&p.renderer.forExport&&jt(n,{display:"block"}),Vt(n,"dy",c=!(c=k[w]&&ct(k[w](u,null).getPropertyValue("line-height")))||isNaN(c)?b||u.offsetHeight||(T[s=l]=g.getBBox?g.getBBox().height:p.renderer.fontMetrics(g.style.fontSize).h,I(T[s]-(T[s-1]||0)))||18:c)),u=n),Vt(n,i),g.appendChild(n),h++,v)for(var a,r=t.replace(/([^\^])-/g,"$1- ").split(" "),o=[];r.length||o.length;)delete p.bBox,a=p.getBBox().width,v<a&&1!==r.length?(n.removeChild(n.firstChild),o.unshift(r.pop())):(r=o,o=[],r.length&&(Vt(n=R.createElementNS(et,"tspan"),{dy:b||16,x:y}),e&&Vt(n,"style",e),g.appendChild(n),v<a&&(v=a))),r.length&&n.appendChild(R.createTextNode(r.join(" ").replace(/- /g,"-")))}var s})})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=I(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=I(t[2])+e%2/2),t},path:function(t){var e={fill:Lt};return ut(t)?e.d=t:pt(t)&&st(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){i=pt(t)?t:{x:t,y:e,r:i};return this.createElement("circle").attr(i)},arc:function(t,e,i,n,a,r){return pt(t)&&(e=t.y,i=t.r,n=t.innerR,a=t.start,r=t.end,t=t.x),this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:n||0,start:a||0,end:r||0})},rect:function(t,e,i,n,a,r){a=pt(t)?t.r:a;a=this.createElement("rect").attr({rx:a,ry:a,fill:Lt});return a.attr(pt(t)?t:a.crisp(r,t,e,O(i,0),O(n,0)))},setSize:function(t,e,i){var n=this.alignedObjects,a=n.length;for(this.width=t,this.height=e,this.boxWrapper[Ut(i,!0)?"animate":"attr"]({width:t,height:e});a--;)n[a].align()},g:function(t){var e=this.createElement("g");return xt(t)?e.attr({class:vt+t}):e},image:function(t,e,i,n,a){var r={preserveAspectRatio:Lt};return 1<arguments.length&&st(r,{x:e,y:i,width:n,height:a}),(r=this.createElement("image").attr(r)).element.setAttributeNS?r.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):r.element.setAttribute("sui-svg-href",t),r},symbol:function(t,e,i,n,a,r){var o,s,l,d=this.symbols[t],c=d&&d(I(e),I(i),n,a,r),d=/^url\((.*?)\)$/;return c?(o=this.path(c),st(o,{symbolName:t,x:e,y:i,width:n,height:a}),r&&st(o,r)):d.test(t)&&(l=function(t,e){t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(-I(e[0]/2),-I(e[1]/2))},s=t.match(d)[1],d=ot[s],o=this.image(s).attr({x:e,y:i}),d?l(o,d):(o.attr({width:0,height:0}),Zt("img",{onload:function(){l(o,ot[s]=[this.width,this.height])},src:s}))),o},symbols:{circle:function(t,e,i,n){var a=.166*i;return[Pt,t+i/2,e,"C",t+i+a,e,t+i+a,e+n,t+i/2,e+n,"C",t-a,e+n,t-a,e,t+i/2,e,"Z"]},x:function(t,e,i,n){return[Pt,t,e,At,t+i,e+n,Pt,t+i,e,At,t,e+n]},v:function(t,e,i,n){return[Pt,t+1,e+1,At,t+i/2,e+n-1,At,t+i-1,e+1]},check:function(t,e,i,n){return[Pt,t+2,e+n/2-1,At,t+i/2,e+n-1,At,t+i-1,e+1]},square:function(t,e,i,n){return[Pt,t,e,At,t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return[Pt,t+i/2,e,At,t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return[Pt,t,e,At,t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return[Pt,t+i/2,e,At,t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,a){var r=a.start,o=a.r||i||n,s=a.end-1e-6,l=a.innerR,d=a.open,c=Y(r),i=H(r),n=Y(s),s=H(s),r=a.end-r<B?0:1;return[Pt,t+o*c,e+o*i,"A",o,o,0,r,1,t+o*n,e+o*s,d?Pt:At,t+l*n,e+l*s,"A",l,l,0,r,0,t+l*c,e+l*i,d?"":"Z"]}},clipRect:function(t,e,i,n){var a=f.strid(),r=this.createElement("clipPath").attr({id:a}).add(this.defs),n=this.rect(t,e,i,n,0).add(r);return n.id=a,n.clipPath=r,n},color:function(t,e,i){var n,a,r=this,o=/^rgba/;if(t&&t.linearGradient?a="linearGradient":t&&t.radialGradient&&(a="radialGradient"),a){var s,l,d,c=t[a],h=r.gradients,p=e.radialReference;return c.id&&h[c.id]||(ut(c)&&(t[a]=c={x1:c[0],y1:c[1],x2:c[2],y2:c[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===a&&p&&!xt(c.gradientUnits)&&st(c,{cx:p[0]-p[2]/2+c.cx*p[2],cy:p[1]-p[2]/2+c.cy*p[2],r:c.r*p[2],gradientUnits:"userSpaceOnUse"}),c.id=f.strid(),h[c.id]=s=r.createElement(a).attr(c).add(r.defs),s.stops=[],fe(t.stops,function(t){d=o.test(t[1])?(n=new be(t[1]),l=n.get("rgb"),n.get("a")):(l=t[1],1),t=r.createElement("stop").attr({offset:t[0],"stop-color":l,"stop-opacity":d}).add(s),s.stops.push(t)})),"url("+r.url+"#"+c.id+")"}return o.test(t)?(Vt(e,i+"-opacity",(n=new be(t)).get("a")),n.get("rgb")):(e.removeAttribute(i+"-opacity"),t)},text:function(t,e,i,n){var a=he.style,r=at||!it&&this.forExport;return n&&!this.forExport?this.html(t,e,i):(e=I(Ut(e,0)),i=I(Ut(i,0)),a=this.createElement("text").attr({x:e,y:i,text:t}).css({fontFamily:a.fontFamily,fontSize:a.fontSize}),r&&a.css({position:Ct}),a.x=e,a.y=i,a)},html:function(t,e,i){var n=he.style,r=this.createElement("span"),a=r.attrSetters,o=r.element,s=r.renderer;return a.text=function(t){return t!==o.innerHTML&&delete this.bBox,o.innerHTML=t,!1},a.x=a.y=a.align=function(t,e){return r[e="align"===e?"textAlignINTERNAL":e]=t,r.htmlUpdateTransform(),!1},r.attr({text:t,x:I(e),y:I(i)}).css({position:Ct,whiteSpace:"nowrap",fontFamily:n.fontFamily,fontSize:n.fontSize}),r.css=r.htmlCss,s.isSVG&&(r.add=function(t){var e,i,n=s.box.parentNode,a=[];if(t){if(!(e=t.div)){for(i=t;i;)a.push(i),i=i.parentGroup;fe(a.reverse(),function(t){var i;e=t.div=t.div||Zt(bt,{className:Vt(t.element,"class")},{position:Ct,left:(t.translateX||0)+St,top:(t.translateY||0)+St},e||n),i=e.style,st(t.attrSetters,{translateX:function(t){i.left=t+St},translateY:function(t){i.top=t+St},visibility:function(t,e){i[e]=t}})})}}else e=n;return e.appendChild(o),r.added=!0,r.alignOnAdd&&r.htmlUpdateTransform(),r}),r},fontMetrics:function(t){t=(t=ct(t||11))<24?t+4:I(1.2*t);return{h:t,b:I(.8*t)}},label:function(t,e,i,n,a,r,o,s,l){var d,c,h,p,u,g,f,m=this,x=m.g(l),y=m.text("",0,0,o).attr({zIndex:1}),v=0,b=3,w=0,T={},o=x.attrSetters;function k(){var t=x.styles,e=t&&t.textAlignINTERNAL,i=b*(1-v),t=s?0:f;!xt(h)||"center"!==e&&"right"!==e||(i+={center:.5,right:1}[e]*(h-c.width)),i===y.x&&t===y.y||y.attr({x:i,y:t}),y.x=i,y.y=t}function S(t,e){d?d.attr(t,e):T[t]=e}function A(){y.add(x),x.attr({text:t,x:e,y:i}),xt(a)&&x.attr({anchorX:a,anchorY:r})}se(x,"add",A),o.width=function(t){return h=t,!1},o.height=function(t){return p=t,!1},o.padding=function(t){return xt(t)&&t!==b&&(b=t,k()),!1},o.align=function(t){return v={left:0,center:.5,right:1}[t],!1},o.text=function(t,e){return y.attr(e,t),t=y.element.style,c=(void 0===h||void 0===p||x.styles.textAlignINTERNAL)&&y.getBBox(),x.width=(h||c.width||0)+2*b,x.height=(p||c.height||0)+2*b,f=b+m.fontMetrics(t&&t.fontSize).b,d||(t=s?-f:0,x.box=d=n?m.symbol(n,-v*b,t,x.width,x.height):m.rect(-v*b,t,x.width,x.height,0,T[Yt]),d.add(x)),d.attr(oe({width:x.width,height:x.height},T)),T=null,k(),!1},o[Yt]=function(t,e){return w=t%2/2,S(e,t),!1},o.stroke=o.fill=o.r=function(t,e){return S(e,t),!1},o.anchorX=function(t,e){return S(e,(a=t)+w-u),!1},o.anchorY=function(t,e){return S(e,(r=t)-g),!1},o.x=function(t){return x.x=t,t-=v*((h||c.width)+b),u=I(t),x.attr("translateX",u),!1},o.y=function(t){return g=x.y=I(t),x.attr("translateY",t),!1};var P=x.css;return st(x,{css:function(e){var i;return e&&(i={},e=oe({},e),fe(["fontSize","fontWeight","fontFamily","color","lineHeight","width"],function(t){e[t]!==M&&(i[t]=e[t],delete e[t])}),y.css(i)),P.call(x,e)},getBBox:function(){return d.getBBox()},shadow:function(t){return d.shadow(t),x},destroy:function(){x._destroyed||(le(x,"add",A),le(x.element,"mouseenter"),le(x.element,V),y=y&&y.destroy(),d=d&&d.destroy(),we.prototype.destroy.call(x))}})}},s=Te,it||at||(ke={init:function(t,e){var i=["<",e,' filled="f" stroked="f"'],n=["position: ",Ct,";"];"shape"!==e&&e!==bt||n.push("left:0;top:0;width:1px;height:1px;"),Q&&n.push("visibility: ",e===bt?Tt:wt),i.push(' style="',n.join(""),'"/>'),e&&(i=e===bt||"span"===e||"img"===e?i.join(""):t.prepVML(i),this.element=Zt(i)),this.renderer=t,this.attrSetters={}},add:function(t){var e=this,i=e.renderer,n=e.element,a=i.box,r=t&&t.isInverted,a=t?t.element||t:a;return r&&i.invertChild(n,a),a.appendChild(n),e.added=!0,e.alignOnAdd&&!e.deferUpdateTransform&&e.updateTransform(),de(e,"add"),e},updateTransform:we.prototype.htmlUpdateTransform,attr:function(t,e){var i,n,a,r,o,s=this,l=s.element||{},d=l.style,c=l.nodeName,h=s.renderer,p=s.symbolName,u=s.shadows,g=s.attrSetters,f=s;if(ht(t)&&xt(e)&&(i=t,(t={})[i]=e),ht(t))f="strokeWidth"===(i=t)||"stroke-width"===i?s.strokeweight:s[i];else for(i in t)if(t.hasOwnProperty(i)&&(n=t[i],(o=!1)!==(a=g[i]&&g[i].call(s,n,i))&&null!==n)){if(a!==M&&(n=a),p&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(i))r||(s.symbolAttr(t),r=!0),o=!0;else if("d"===i){s.d=(n=n||[]).join(" ");for(var m=n.length,x=[];m--;)gt(n[m])?x[m]=I(10*n[m])-5:"Z"===n[m]?x[m]="x":x[m]=n[m];if(n=x.join(" ")||"x",l.path=n,u)for(m=u.length;m--;)u[m].path=u[m].cutOff?this.cutOffPath(n,u[m].cutOff):n;o=!0}else if("visibility"===i){if(u)for(m=u.length;m--;)u[m].style[i]=n;"DIV"===c&&(n=n===Tt?"-999em":0,i="top"),d[i]=n,o=!0}else"zIndex"===i?(n&&(d[i]=n),o=!0):"width"===i||"height"===i?(n=O(0,n),this[i]=n,s.updateClipping?(s[i]=n,s.updateClipping()):d[i]=n,o=!0):"x"===i||"y"===i?(s[i]=n,d[{x:"left",y:"top"}[i]]=n):"class"===i?l.className=n:"stroke"===i?(n=h.color(n,l,i),i="strokecolor"):"stroke-width"===i||"strokeWidth"===i?(l.stroked=!!n,s[i="strokeweight"]=n,gt(n)&&(n+=St)):"dashstyle"===i?((l.getElementsByTagName("stroke")[0]||Zt(h.prepVML(["<stroke/>"]),null,null,l))[i]=n||"solid",s.dashstyle=n,o=!0):"fill"===i?"SPAN"===c?d.color=n:(l.filled=n!==Lt,n=h.color(n,l,i,s),i="fillcolor"):"shape"===c&&"textAngle"===i?(s[i]=n,l.style.left=-I(H(n*F)+1)+St,l.style.top=I(Y(n*F))+St):"translateX"===i||"translateY"===i||"textAngle"===i?(s[i]=n,s.updateTransform(),o=!0):"text"===i&&(this.bBox=null,l.innerHTML=n,o=!0);o||(Q?l[i]=n:Vt(l,i,n))}return f},clip:function(t){var e,i=this,t=(i.element.parentNode,t?((e=t.members).push(i),i.destroyClip=function(){Gt(e,i)},t.getCSS(i)):(i.destroyClip&&i.destroyClip(),{clip:Q?"inherit":"rect(auto)"}));return i.css(t)},css:we.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&ne(t)},destroy:function(){if(!this._destroyed)return this.destroyClip&&this.destroyClip(),we.prototype.destroy.apply(this)},empty:function(){for(var t,e=this.element.childNodes,i=e.length;i--;)(t=e[i]).parentNode.removeChild(t)},on:function(t,e){return this.element["on"+t]=function(){var t=k.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var i;return 9!==(i=(t=t.split(/[ ,]/)).length)&&11!==i||(t[i-4]=t[i-2]=ct(t[i-2])-10*e),t.join(" ")},shadow:function(t,e,i){var n,a,r,o,s,l,d=this,c=[],h=d.element,p=d.renderer,u=h.style,g=h.path,f=g=g&&"string"!=typeof g.value?"x":g;if(t){for(s=Ut(t.width,3),l=(t.opacity||.15)/s,n=1;n<=3;n++)r=['<shape isShadow="true" strokeweight="',o=2*s+1-2*n,'" filled="false" path="',f=i?d.cutOffPath(g.value,.5+o):f,'" coordsize="10 10" style="',h.style.cssText,'" />'],a=Zt(p.prepVML(r),null,{left:ct(u.left)+Ut(t.offsetX,1),top:ct(u.top)+Ut(t.offsetY,1)}),i&&(a.cutOff=1+o),r=['<stroke color="',t.color||"black",'" opacity="',l*n,'"/>'],Zt(p.prepVML(r),null,null,a),e?e.element.appendChild(a):h.parentNode.insertBefore(a,h),c.push(a);d.shadows=c}return d}},Ge={Element:ke=Kt(we,ke),isIE8:-1<a.indexOf("MSIE 8.0"),init:function(t,e,i){var n,a,r=this;r.alignedObjects=[],(a=(n=r.createElement(bt)).element).style.position=kt,t.appendChild(n.element),r.box=a,r.boxWrapper=n,r.setSize(e,i,!1),R.namespaces.scv||(R.namespaces.add("scv","urn:schemas-microsoft-com:vml"),R.createStyleSheet().cssText="scv\\:fill, scv\\:path, scv\\:shape, scv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,i,n){var a=this.createElement(),r=pt(t);return st(a,{members:[],left:r?t.x:t,top:r?t.y:e,width:r?t.width:i,height:r?t.height:n,getCSS:function(t){var e=t.isInverted,i=this.top,n=this.left,a=n+this.width,r=i+this.height,n={clip:"rect("+I(e?n:i)+"px,"+I(e?r:a)+"px,"+I(e?a:r)+"px,"+I(e?i:n)+"px)"};return!e&&Q&&"IMG"!==t.element.nodeName&&st(n,{width:a+St,height:r+St}),n},updateClipping:function(){fe(a.members,function(t){t.css(a.getCSS(t))})}})},color:function(t,e,i,n){var a,r,o,s,l,d,c,h,p,u,g,f,m,x,y,v,b,w,T,k,S,A,P=this,L=/^rgba/,C=Lt;return t&&t.linearGradient?o="gradient":t&&t.radialGradient&&(o="pattern"),o?(k=t.linearGradient||t.radialGradient,u="",g=t.stops,f=function(){r=['<fill colors="'+he.seriesPalette.join(",")+'" opacity="',c,'" o:opacity2="',d,'" type="',o,'" ',u,'focus="100%" method="any" />'],Zt(P.prepVML(r),null,null,e)},S=g[0],A=g[g.length-1],0<S[0]&&g.unshift([0,S[1]]),A[0]<1&&g.push([1,A[1]]),fe(g,function(t,e){l=L.test(t[1])?(a=new be(t[1]),s=a.get("rgb"),a.get("a")):(s=t[1],1),he.seriesPalette.push(100*t[0]+"% "+s),e?(c=l,h=s):(d=l,p=s)}),"fill"===i?"gradient"===o?(m=k.x1||k[0]||0,S=k.y1||k[1]||0,A=k.x2||k[2]||0,g=k.y2||k[3]||0,u='angle="'+(90-180*D.atan((g-S)/(A-m))/B)+'"',f()):(m=k.r,y=x=2*m,v=k.cx,b=k.cy,w=e.radialReference,k=function(){w&&(T=n.getBBox(),v+=(w[0]-T.x)/T.width-.5,b+=(w[1]-T.y)/T.height-.5,x*=w[2]/T.width,y*=w[2]/T.height),u='size="'+x+","+y+'" origin="0.5,0.5" position="'+v+","+b+'" color2="'+p+'" ',f()},n.added?k():se(n,"add",k),C=h):C=s):C=L.test(t)&&"IMG"!==e.tagName?(a=new be(t),r=["<",i,' opacity="',a.get("a"),'"/>'],Zt(this.prepVML(r),null,null,e),a.get("rgb")):((i=e.getElementsByTagName(i)).length&&(i[0].opacity=1),t),C},prepVML:function(t){var e="display:inline-block;behavior:url(#default#VML);",i=this.isIE8;return t=t.join(""),t=i?-1===(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />')).indexOf('style="')?t.replace("/>",' style="'+e+'" />'):t.replace('style="','style="'+e):t.replace("<","<scv:")},text:Te.prototype.html,path:function(t){var e={coordsize:"10 10"};return ut(t)?e.d=t:pt(t)&&st(e,t),this.createElement("shape").attr(e)},circle:function(t,e,i){return this.symbol("circle").attr({x:t-i,y:e-i,width:2*i,height:2*i})},g:function(t){var e;return t&&(e={className:vt+t,class:vt+t}),this.createElement(bt).attr(e)},image:function(t,e,i,n,a){var r=this.createElement("img").attr({src:t});return 1<arguments.length&&r.attr({x:e,y:i,width:n,height:a}),r},rect:function(t,e,i,n,a,r){pt(t)&&(e=t.y,i=t.width,n=t.height,r=t.strokeWidth,t=t.x);var o=this.symbol("rect");return o.r=a,o.attr(o.crisp(r,t,e,O(i,0),O(n,0)))},invertChild:function(t,e){e=e.style;jt(t,{flip:"x",left:ct(e.width)-1,top:ct(e.height)-1,rotation:-90})},symbols:{arc:function(t,e,i,n,a){var r=a.start,o=a.end,s=a.r||i||n,l=Y(r),d=H(r),c=Y(o),h=H(o),p=a.innerR,i=.08/s,n=p&&.1/p||0;return o-r==0?["x"]:(2*B-o+r<i?c=-i:o-r<n&&(c=Y(r+n)),s=["wa",t-s,e-s,t+s,e+s,t+s*l,e+s*d,t+s*c,e+s*h],a.open&&!p&&s.push("e",Pt,t,e),s.push("at",t-p,e-p,t+p,e+p,t+p*c,e+p*h,t+p*l,e+p*d,"x","e"),s)},circle:function(t,e,i,n){return["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,a){var r=t+i,o=e+n,s=xt(a)&&a.r?(s=E(a.r,i,n),[Pt,t+s,e,At,r-s,e,"wa",r-2*s,e,r,e+2*s,r-s,e,r,e+s,At,r,o-s,"wa",r-2*s,o-2*s,r,o,r,o-s,r-s,o,At,t+s,o,"wa",t,o-2*s,t+2*s,o,t+s,o,t,o-s,At,t,e+s,"wa",t,e,t+2*s,e+2*s,t,e+s,t+s,e,"x","e"]):Te.prototype.symbols.square.apply(0,arguments);return s}}},(Se=function(){this.init.apply(this,arguments)}).prototype=oe(Te.prototype,Ge),s=Se),at&&((Je=function(){et="http://www.w3.org/1999/xhtml"}).prototype.symbols={},Je.prototype=Kt(Te.prototype,{create:function(t,e,i,n){this.setContainer(e,i,n),this.configure(t)},setContainer:function(t,e,i){var n=t.style,a=t.parentNode,r=n.left,o=n.top,s=t.offsetWidth,l=t.offsetHeight,n={visibility:Tt,position:Ct};this.init.apply(this,[t,e,i]),t=Zt("canvas",{width:s,height:l},{position:kt,left:r,top:o},t),this.canvas=t,this.ttLine=Zt(bt,null,n,a),this.ttDiv=Zt(bt,null,n,a),this.ttTimer=M;a=Zt(bt,{width:s,height:l},{visibility:Tt,left:r,top:o},a);(this.hiddenSvg=a).appendChild(this.box)},configure:function(t){var a=this,e=t.options.tooltipSettings,r=Ht[t.guid],i=e.borderWidth,o=a.ttDiv,n=e.style,s=a.ttLine,l=parseInt(n.padding,10),n=oe(n,{padding:l+St,"background-color":e.backgroundColor,"border-style":"solid","border-width":i+St,"border-drawRadius":e.borderRadius+St});e.shadow&&(n=oe(n,{"box-shadow":"1px 1px 3px gray","-webkit-box-shadow":"1px 1px 3px gray"})),jt(o,n),jt(s,{"border-left":"1px solid darkgray"}),se(t,"tooltipRefresh",function(t){var e=r.container,i=e.offsetLeft,n=e.offsetTop;o.innerHTML=t.text,e=r.tooltipSettings.getPosition(o.offsetWidth,o.offsetHeight,{plotX:t.x,plotY:t.y}),jt(o,{visibility:wt,left:e.x+St,top:e.y+St,"border-color":t.borderColor}),jt(s,{visibility:wt,left:i+t.x+St,top:n+r.plotTop+St,height:r.plotHeight+St}),a.ttTimer!==M&&clearTimeout(a.ttTimer),a.ttTimer=setTimeout(function(){jt(o,{visibility:Tt}),jt(s,{visibility:Tt})},3e3)})},destroy:function(){var t=this;if(!t._destroyed)return ne(t.canvas),t.ttTimer!==M&&clearTimeout(t.ttTimer),ne(t.ttLine),ne(t.ttDiv),ne(t.hiddenSvg),Te.prototype.destroy.apply(t)},color:function(t,e,i){return t&&t.linearGradient&&(t=t.stops[t.stops.length-1][1]),Te.prototype.color.call(this,t,e,i)},draw:function(){k.canvg(this.canvas,this.hiddenSvg.innerHTML)}})),s=Se||Je||Te,Ae.prototype={_label:function(){var t,e=this,i=e.axis,n=i.options,a=i.chart,r=Ht[a.guid],o=i.horiz,s=i.categoricalValues,l=e.pos,d=n.axisTickText,c=i.tickPositions,h=s&&o&&s.length&&!d.step&&!d.staggerLinesINTERNAL&&!d.textAngle&&r.plotWidth/c.length||!o&&r.plotWidth/2,p=l===c[0],u=l===c[c.length-1],g=s&&xt(s[l])?s[l]:l,o=e.label,c=c.info;s&&!xt(s[l])&&g==l&&r.enablePolarLayout||(i.isDatetimeAxis&&c&&(t=n.axisDateFormat[c.higherRanks[l]||c.unitName]),e.isFirst=p,e.isLast=u,g=d.format?ht(d.format)?f.format(d.format,{text:i.isDatetimeAxis?new Date(g):g,axis:i,chart:a}):d.format.call(null,g,i,a):function(){var t,e,i=this.axis,n=this.value,a=i.categoricalValues,r=this.dateTimeLabelFormat,o=null,s=i.isLog?n:i.ticksRepeat;if(a)e=n;else if(r)e=f.format("{0:"+r+"}",new Date(n));else if(o&&1e3<=s)for(;o--&&e===M;)(t=D.pow(1e3,o+1))<=s&&null!==null[o]&&(e=f.format("{0:n}",n/t)+null[o]);e===M&&(e=1e3<=n?f.format("{0:d}",n):f.format(ft(n)?"{0:n}":"{0:d}",n));return e}.call({axis:i,chart:a,isFirst:p,isLast:u,dateTimeLabelFormat:t,value:i.isLog?ae(zt(g)):g}),h=h&&{width:O(1,I(h-2*(d.padding||10)))+St},h=st(h,d.style),d&&"x"==i.xOrY&&!i.inverseOrder&&("left"==d.align?d.align="right":"right"==d.align&&(d.align="left")),xt(o)?o&&o.attr({text:g}).css(h):(o={align:d.align},gt(d.textAngle)&&(o.textAngle=d.textAngle),e.label=xt(g)&&d.enabled?r.renderer.text(g,0,0,d.htmlOutput).attr(o).css(h).add(i.labelGroup):null))},_labelSize:function(){var t=this.label,e=this.axis;return t?(this.labelBBox=t.getBBox())[e.horiz?"height":"width"]:0},_labelDim:function(){var t=this.labelBBox,e=this.axis.options.axisTickText,t=t.width,e=t*{left:0,center:.5,right:1}[e.align]-e.x;return[-e,t-e]},_overflow:function(t,e){var i,n,a,r,o=!0,s=this.axis,l=this.isFirst,d=this.isLast,c=e.x,h=s.inverseOrder,p=s.tickPositions;return(l||d)&&(i=(r=this._labelDim())[0],n=r[1],r=(a=Ht[s.chart.guid].plotLeft)+s.len,t=(p=s.ticks[p[t+(l?1:-1)]])&&p.label.xy&&p.label.xy.x+p._labelDim()[l?0:1],l&&!h||d&&h?c+i<a&&(c=a-i,p&&t<c+n&&(o=!1)):r<c+n&&(c=r-n,p&&c+i<t&&(o=!1)),e.x=c),o},_position:function(t,e,i,n){var a=this.axis,r=Ht[a.chart.guid],o=n&&r.oldChartHeight||r.chartHeight;return{x:t?a.translate(e+i,null,null,n)+a.transB:a.left+a.offset+(a.swapLocation?(n&&r.oldChartWidth||r.chartWidth)-a.right-a.left:0),y:t?o-a.bottom+a.offset-(a.swapLocation?a.height:0):o-a.translate(e+i,null,null,n)-a.transB}},_labelPos:function(t,e,i,n,a,r,o,s){var l=this.axis,d=l.transA,c=l.inverseOrder,l=l.staggerLinesINTERNAL;return t=t+a.x-(r&&n?r*d*(c?-1:1):0),e=e+a.y-(r&&!n?r*d*(c?1:-1):0),xt(a.y)||(e+=.9*ct(i.styles.lineHeight)-i.getBBox().height/2),l&&(e+=o/(s||1)%l*16),{x:t,y:e}},_markPath:function(t,e,i,n,a,r){return r.crispLine([Pt,t,e,At,t+(a?0:-i),e+(a?i:0)],n)},render:function(t,e){var i=this,n=i.axis,a=n.options,r=Ht[n.chart.guid].renderer,o=n.horiz,s=i.type,l=i.label,d=i.pos,c=a.axisTickText,h=i.gridLine,p=s?s+"Plot":"plot",u=s?s+"Ticks":"ticks",g=a[p+"StripWidth"],f=a[p+"StripColor"],m=a[p+"StripDashStyle"],x=a[u+"Height"],y=a[u+"Width"]||0,v=a[u+"Color"],b=a[u+"Placement"],w=i.mark,T=c.step,k=!0,S=n.tickmarkOffset,A=i._position(o,d,S,e),P=A.x,p=A.y,u=n.staggerLinesINTERNAL;n.isXAxis&&null!=a.axisTickText.y&&n.inverseOrder&&(a.axisTickText.y=null),g&&(d=n._linePath(d+S,g,e),h===M&&(f={stroke:f,"stroke-width":g},m&&(f.dashstyle=m),s||(f.zIndex=1),i.gridLine=h=g?r.path(d).attr(f).add(n.gridGroup):null),!e&&h&&d&&h[i.isNew?"attr":"animate"]({d:d})),y&&x&&("inside"===b&&(x=-x),n.swapLocation&&(x=-x),"through"===b&&i.axis.isXAxis&&(i.axis.inverseOrder?P+=x:p=p-x+1,x+=x),x=i._markPath(P,p,x,y,o,r),w?w.animate({d:x}):i.mark=r.path(x).attr({stroke:v,"stroke-width":y}).add(n.axisGroup)),!l||isNaN(P)||isNaN(p)||(l.xy=A=i._labelPos(P,p,l,o,c,S,t,T),(i.isFirst&&!Ut(a.firstTickTextVisible,1)||i.isLast&&!Ut(a.lastTickTextVisible,1)||!u&&o&&c.repositionClippedText&&!i._overflow(t,A))&&(k=!1),(k=T&&t%T?!1:k)?(l[i.isNew?"attr":"animate"](A),l.show(),i.isNew=!1):l.hide())},destroy:function(){this._destroyed||(ie(this,this.axis),this._destroyed=!0)}},Pe.prototype={render:function(){var t,e,i,n=this,a=n.axis,r=a.horiz,o=(a.pointRange||0)/2,s=n.options,l=s.label,d=n.label,c=s.drawWidth,h=s.start,p=s.end,u=xt(h)&&xt(p),g=s.seriesDashStyle,f=n.svgElem,m=[],x=s.drawColor,y=s.zIndex,v=s.events,b=Ht[a.chart.guid].renderer;if(a.isLog&&(h=Ft(h),p=Ft(p)),c)m=a._linePath(h,c),i={stroke:x,"stroke-width":c},g&&(i.dashstyle=g);else{if(!u)return;h=O(h,a.min-o),p=E(p,a.max+o),m=a._bandPath(h,p,s),i={fill:x},s.borderWidth&&(i.stroke=s.borderColor,i["stroke-width"]=s.borderWidth)}if(xt(y)&&(i.zIndex=y),f)m?f.animate({d:m},null,f.onGetPath):(f.hide(),f.onGetPath=function(){f.show()});else if(m&&m.length&&(n.svgElem=f=b.path(m).attr(i).add(),v))for(e in t=function(e){f.on(e,function(t){v[e].apply(n,[t])})},v)v.hasOwnProperty(e)&&t(e);return l&&xt(l.text)&&m&&m.length&&0<a.width&&0<a.height?(l=oe({align:r&&u&&"center",x:r?!u&&4:10,verticalAlign:!r&&u&&"middle",y:r?u?16:10:u?6:-4,textAngle:r&&!u&&90},l),d||(n.label=d=b.text(l.text,0,0).attr({align:l.textAlignINTERNAL||l.align,textAngle:l.textAngle,zIndex:y}).css(l.style).add()),u=[m[1],m[4],Ut(m[6],m[1])],b=[m[2],m[5],Ut(m[7],m[2])],y=te(u),m=te(b),d.align(l,!1,{x:y,y:m,width:ee(u)-y,height:ee(b)-m}),d.show()):d&&d.hide(),n},destroy:function(){this._destroyed||(Gt(this.axis.plotLinesAndBands,this),ie(this,this.axis),this._destroyed=!0)}};var Ce={defaults:{axisDateFormat:{MILLISECOND:"HH:mm:ss.fff",SECOND:"HH:mm:ss",MINUTE:"HH:mm",HOUR:"HH",DAY:"d MMM",WEEK:"d MMM",MONTH:"MMM yyyy",YEAR:"yyyy"},fixedEnd:!(Le.prototype={destroy:function(){this._destroyed||(ie(this,this.axis),this._destroyed=!0)},_total:function(t){this.total=t,this.cum=t},render:function(t){var e=this,i=e.options.labelFormatFunction.call(e);e.label?e.label.attr({text:i,visibility:Tt}):e.label=Ht[e.axis.chart.guid].renderer.text(i,0,0).css(e.options.style).attr({align:e.textAlignINTERNAL,textAngle:e.options.textAngle,visibility:Tt}).add(t)},_offset:function(t,e){var i=this,n=i.axis,a=n.chart,r=Ht[a.guid],o=r.isInverted,s=i.isNegative,l=n.translate(i.percent?100:i.total,0,0,0,1),d=n.translate(0),n=W(l-d),d=r.axisX[0].translate(i.x)+t,t=r.plotHeight,r=i.label;r&&(r.align(i.alignOptions,null,{x:o?s?l:l-n:d,y:o?t-d-e:s?t-l-n:t-l,width:o?n:e,height:o?e:n}),n=r.alignAttr,r.attr({visibility:!1===i.options.hideInvisible||Fe(a,n.x,n.y)?it?"inherit":wt:Tt}))}}),plotStripColor:"#C0C0C0",axisTickText:t,drawColor:"#7E7E7E",drawWidth:1,minPaddingINTERNAL:1e-4,maxPaddingINTERNAL:1e-4,endOffset:.01,zoomMin:null,minorPlotStripColor:"#E0E0E0",minorPlotStripWidth:1,minorTicksColor:"#A0A0A0",minorTicksHeight:12,minorTicksPlacementINTERNAL:"outside",startOfWeekINTERNAL:1,tickOnBeginning:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacementlINTERNAL:"between",tickPixelIntervalINTERNAL:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",margin:12,style:{color:"#404040",fontWeight:"normal",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"}},axisType:"linear"},y:{fixedEnd:!0,plotStripWidth:1,tickPixelIntervalINTERNAL:80,lastTickTextVisible:!0,axisTickText:{align:"right",x:-8,y:3},drawWidth:0,endOffset:.05,startOffset:.05,tickOnBeginning:!0,tickWidth:0,title:{textAngle:270,text:null},stackTextSettings:{enabled:!1,labelFormatFunction:function(){return this.total},style:t.style}},left:{axisTickText:{align:"right",x:-8,y:null},title:{textAngle:270}},right:{axisTickText:{align:"left",x:8,y:null},title:{textAngle:90}},bottom:{axisTickText:{align:"center",x:0,y:14},title:{textAngle:0}},top:{axisTickText:{align:"center",x:0,y:-5},title:{textAngle:0}}};function Me(t,e,i){for(var n,e=ae(N(e/t)*t),a=ae(X(i/t)*t),r=[],o=e;o<=a&&(r.push(o),(o=ae(o+t))!==n);)n=o;return r}function _e(t,e,i,n){var a=this,r=a.options,o=a.len,s=[];if(n||(a._minorAutoInterval=null),.5<=t)t=I(t),s=Me.call(a,t,e,i);else if(.08<=t)for(var l,d,c,h,p,u=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],g=N(e);g<i+1&&!p;g++)for(d=u.length,l=0;l<d&&!p;l++)e<(c=Ft(zt(g)*u[l]))&&s.push(h),i<h&&(p=!0),h=c;else{var f=zt(e),m=zt(i),x=r[n?"minorTicksRepeat":"ticksRepeat"],r=r.tickPixelIntervalINTERNAL/(n?5:1),o=n?o/a.tickPositions.length:o;t=qt(t=Ut("auto"===x?null:x,a._minorAutoInterval,(m-f)*r/(o||1)),null,D.pow(10,N(D.log(t)/D.LN10))),s=xe(Me.call(a,t,f,m),Ft),n||(a._minorAutoInterval=t/5)}return n||(a.ticksRepeat=t),s}function Re(){var t=this,e=Ht[t.chart.guid],i=e.maxTicks,n=t.tickPositions,a=t.xOrY,i=i||{x:0,y:0};!t.isLinked&&!t.isDatetimeAxis&&n.length>i[a]&&!1!==t.options.matchTicks&&(i[a]=n.length),e.maxTicks=i}function De(t,e,i,n,a){var r=this.chart;i=Ut(i,!0),a=st(a,{min:t,max:e}),this.userMin=t,this.userMax=e,this.isDirtyExtremes=!0,i&&r.redraw(n)}function Ie(){var t=this,e=t.isLog;return{min:e?ae(zt(t.min)):t.min,max:e?ae(zt(t.max)):t.max,dataMin:t.dataMin,dataMax:t.dataMax,userMin:t.userMin,userMax:t.userMax}}function Ne(t){var e=this,i=e.isLog,n=i?zt(e.min):e.min,i=i?zt(e.max):e.max;return t<n||null===t?t=n:i<t&&(t=i),e.translate(t,0,1,0,1)}function Xe(){this.init.apply(this,arguments)}function Oe(t,e){var i,n,a=Ht[this.chart.guid],r=a.isInverted,o=0,s=0;return(i=(t=yt(t))[0].tooltipPos)||(fe(t,function(t){n=t.dataSeries.axisY,o+=t.plotX,s+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!r&&n?n.top-a.plotTop:0)}),o/=t.length,s/=t.length,i=[r?a.plotWidth-s:o,this.chartBound&&!r&&1<t.length&&e?e.chartY-a.plotTop:r?a.plotHeight-o:s]),xe(i,I)}function Ee(e,t){var i=this;i.chart=e,i.options=t,i.axisMarkers=[],i.isHidden=!0,(/msie 7/i.test(a)||/msie 8/i.test(a))&&p("html").addClass("ie7"),i.labelElement=p('<div class="shield-tooltip" style="pointer-events: none"></div>').appendTo(e.element),(q||$)&&p(i.labelElement).bind(z,function(t){Ht[e.guid].container.onmousemove(t)}),i.chartBound=t.chartBound}function We(t,e){var i=this,n=at?"":e.zoomMode;i.zoomX=/x/.test(n),i.zoomY=/y/.test(n),i.options=e,i.chart=t,i.init(t,e.tooltipSettings)}function Ye(t,e){var i=this.options,n=t.legendItem,a=t.legendLine,r=t.legendSymbol,o=t.checkMark,s=this.disabledStyle.color,l=e?i.legendItemSettings.elementStyle.color:s,s=e?t.color:s,t=(t.options&&t.options.pointMark,{stroke:s,fill:s,"stroke-width":0});n&&n.css({fill:l}),a&&a.attr({stroke:s}),r&&r.attr(t),o&&(e?o.attr({stroke:i.checkMarkSettings.color}).css({visibility:wt}):o.css({visibility:Tt}))}function He(t){t.legendItem&&t.legendItem.destroy(),t.legendLine&&t.legendLine.destroy(),t.legendSymbol&&t.legendSymbol.destroy(),t.legendGroup&&t.legendGroup.destroy()}function Be(t){this.init(t)}function Fe(t,e,i,n){var a=Ht[t.guid],t=n?i:e,i=n?e:i;return 0<=t&&t<=a.plotWidth&&0<=i&&i<=a.plotHeight}Xe.prototype={init:function(t,e){var i=e.isX,n=this,a=Ht[t.guid];n.horiz=a.isInverted?!i:i,n.isXAxis=i,n.xOrY=i?"x":"y",n.swapLocation=e.swapLocation,n.side=n.horiz?n.swapLocation?0:2:n.swapLocation?1:3,n.setOptions(e,t);var r=this.options,o=r.axisType,s="datetime"===o;n.staggerLinesINTERNAL=n.horiz&&r.axisTickText.staggerLinesINTERNAL,n.userOptions=e,n.minPixelPadding=0,n.chart=t,n.inverseOrder=r.inverseOrder,n.categoricalValues=r.categoricalValues,n.isLog="logarithmic"===o,n.isLinked=xt(r.linkedToINTERNAL),n.isDatetimeAxis=s,n.tickmarkOffset=r.categoricalValues&&"between"===r.tickmarkPlacementlINTERNAL?.5:0,n.ticks={},n.minorTicks={},n.plotLinesAndBands=[],n.alternateBands={},n.len=0,n.zoomMin=n.customZoomMin=r.zoomMin,n.range=r.range,n.offset=r.offset||0,n.stacks={},n.max=null,n.min=null;var l,d=n.options.events;for(l in a.axes.push(n),a[i?"axisX":"axisY"].push(n),n.dataSeries=[],a.isInverted&&i&&n.inverseOrder===M&&(n.inverseOrder=!0),d)d.hasOwnProperty(l)&&se(n,l,d[l]);n.isLog&&(n.val2lin=Ft,n.lin2val=zt)},setOptions:function(t,e){this.options=oe(Ce.defaults,this.isXAxis?{}:Ce.y,[Ce.top,Ce.right,Ce.bottom,Ce.left][this.side],oe(he[this.isXAxis?"axisX":"axisY"],t))},translate:function(t,e,i,n,a,r){var o,s=this,l=s.len,d=1,c=0,h=n?s.oldTransA:s.transA,n=n?s.oldMin:s.min,a=s.options.ordinal||s.isLog&&a,h=h||s.transA;return i&&(d*=-1,c=l),s.inverseOrder&&(c-=(d*=-1)*l),e?(o=(t=s.inverseOrder?l-t:t)/h+n,a&&(o=s.lin2val(o))):o=d*((t=a?s.val2lin(t):t)-n)*h+c+d*s.minPixelPadding+(r?h*s.pointRange/2:0),o},_linePath:function(t,e,i){var n,a,r=this,o=Ht[r.chart.guid],s=r.left,l=r.top,d=r.translate(t,null,null,i),c=i&&o.oldChartHeight||o.chartHeight,h=i&&o.oldChartWidth||o.chartWidth,p=r.transB,t=n=I(d+p),p=i=I(c-d-p);return isNaN(d)?a=!0:r.horiz?(p=l,i=c-r.bottom,(t<s||t>s+r.width)&&(a=!0)):(t=s,n=h-r.right,(p<l||p>l+r.height)&&(a=!0)),a?null:o.renderer.crispLine([Pt,t,p,At,n,i],e||0)},_bandPath:function(t,e){e=this._linePath(e),t=this._linePath(t);return t&&e?t.push(e[4],e[5],e[1],e[2]):t=null,t},_arrange:function(){var a,t=this,e=t.max-t.min,r=0,o=0,s=0,i=t.linkedParent,n=t.transA;t.isXAxis&&(i?(o=i.minPointOffset,s=i.pointRangePadding):fe(t.dataSeries,function(t){var e=t.pointRange,i=t.options.positioningMethod,n=t.closestPointRange;r=O(r,e),o=O(o,i?0:e/2),s=O(s,"on"===i?0:e),!t.noSharedTooltip&&xt(n)&&(a=xt(a)?E(a,n):n)}),t.minPointOffset=o,t.pointRangePadding=s,t.pointRange=r,t.closestPointRange=a),t.oldTransA=n,t.translationSlope=t.transA=n=t.len/(e+s||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=n*o},_ticks:function(t){var e,i=this,n=Ht[i.chart.guid],a=i.options,r=i.isLog,o=i.isDatetimeAxis,s=i.isXAxis,l=i.isLinked,d=i.options.tickPositionerlINTERNAL,c=a.endOffset,h=a.startOffset,p=a.ticksRepeat,u=a.minTickInterval,g=a.tickPixelIntervalINTERNAL,f=i.categoricalValues;if(l){if(i.linkedParent=n[s?"axisX":"axisY"][a.linkedToINTERNAL],e=Ie.call(i.linkedParent),i.min=Ut(e.min,e.dataMin),i.max=Ut(e.max,e.dataMax),a.type!==i.linkedParent.options.axisType)return void dt("Axis and parent axis have different type",1)}else i.min=Ut(i.userMin,a.min,i.dataMin),i.max=Ut(i.userMax,a.max,i.dataMax);if(r){if(!t&&E(i.min,Ut(i.dataMin,i.min))<=0)return void dt("Negative values not supported for this axis type",1);i.min=ae(Ft(i.min)),i.max=ae(Ft(i.max))}i.range&&(i.userMin=i.min=O(i.min,i.max-i.range),i.userMax=i.max,t&&(i.range=null)),function(){var e,i,n,a,r,t,o,s,l=this,d=l.options,c=l.min,h=l.max,p=l.dataMax-l.dataMin>=l.zoomMin;l.isXAxis&&l.zoomMin===M&&!l.isLog&&(xt(d.min)||xt(d.max)?l.zoomMin=null:(fe(l.dataSeries,function(t){for(a=t.xData,r=t.xIncrement?1:a.length-1,i=r;0<i;i--)n=a[i]-a[i-1],(e===M||n<e)&&(e=n)}),l.zoomMin=E(5*e,l.dataMax-l.dataMin))),h-c<l.zoomMin&&(s=[c-(o=((t=l.zoomMin)-h+c)/2),Ut(d.min,c-o)],p&&(s[2]=l.dataMin),o=[(c=ee(s))+t,Ut(d.max,c+t)],p&&(o[2]=l.dataMax),(h=te(o))-c<t&&(s[0]=h-t,s[1]=Ut(d.min,h-t),c=ee(s))),l.min=c,l.max=h}.call(i),f||i.usePercentage||l||!xt(i.min)||!xt(i.max)||(e=i.max-i.min||1,xt(a.min)||xt(i.userMin)||!h||!(i.dataMin<0)&&i.ignoreMinPadding||(i.min-=e*h),xt(a.max)||xt(i.userMax)||!c||!(0<i.dataMax)&&i.ignoreMaxPadding||(i.max+=e*c)),i.min===i.max||i.min===M||i.max===M?i.ticksRepeat=1:l&&!p&&g===i.linkedParent.options.tickPixelIntervalINTERNAL?i.ticksRepeat=i.linkedParent.ticksRepeat:i.ticksRepeat=Ut(p,f?1:(i.max-i.min)*g/(i.len||1)),s&&!t&&fe(i.dataSeries,function(t){t.processData(i.min!==i.oldMin||i.max!==i.oldMax)}),i._arrange(t),i._preTicks&&i._preTicks(),!p&&i.ticksRepeat<u&&(i.ticksRepeat=u),o||r||(u=D.pow(10,N(D.log(i.ticksRepeat)/D.LN10)),p||(i.ticksRepeat=qt(i.ticksRepeat,null,u,a))),i.minorTicksRepeat="auto"===a.minorTicksRepeat&&i.ticksRepeat?i.ticksRepeat/5:a.minorTicksRepeat,i.tickPositions=d=a.tickPositions||d&&d.apply(i,[i.min,i.max]),d||(d=o?function(t,e,i,n){var a=[],r={},o=he.allowUTCFormatting,e=new Date(e),s=t.unitRange,l=t.count;s>=m.SECOND&&(e.setMilliseconds(0),e.setSeconds(s>=m[It]?0:l*N(e.getSeconds()/l))),s>=m[It]&&e[A](s>=m[Nt]?0:l*N(e[y]()/l)),s>=m[Nt]&&e[P](s>=m.DAY?0:l*N(e[v]()/l)),s>=m.DAY&&e[L](s>=m[Et]?1:l*N(e[w]()/l)),s>=m[Et]&&(e[C](s>=m[Wt]?0:l*N(e[T]()/l)),c=e[S]()),s>=m[Wt]&&e[_](c-=c%l),s===m[Ot]&&e[L](e[w]()-e[b]()+Ut(n,1));for(var d=1,c=e[S](),h=e.getTime(),p=e[T](),u=e[w](),g=o?0:(864e5+60*e.getTimezoneOffset()*1e3)%864e5;h<i;)a.push(h),s===m[Wt]?h=x(c+d*l,0):s===m[Et]?h=x(c,p+d*l):o||s!==m.DAY&&s!==m[Ot]?(h+=s*l,s<=m[Nt]&&h%m.DAY==g&&(r[h]=Xt)):h=x(c,p,u+d*l*(s===m.DAY?1:7)),d++;return a.push(h),a.info=st(t,{higherRanks:r,totalRange:s*l}),a}(function(t,e){for(var i=e||[["MILLISECOND",[1,2,5,10,20,25,50,100,200,500]],["SECOND",[1,2,5,10,15,30]],[It,[1,2,5,10,15,30]],[Nt,[1,2,3,4,6,8,12]],[Xt,[1,2]],[Ot,[1,2]],[Et,[1,2,3,4,6]],[Wt,null]],n=i[i.length-1],a=m[n[0]],r=n[1],o=0;o<i.length;o++){n=i[o],a=m[n[0]],r=n[1];if(i[o+1])if(t<=(a*r[r.length-1]+m[i[o+1][0]])/2)break}return{unitRange:a,count:qt(t/a,r=a===m[Wt]&&t<5*a?[1,2,5]:r),unitName:n[0]}}(i.ticksRepeat,a.units),i.min,i.max,a.startOfWeekINTERNAL,(i.ordinalPositions,i.closestPointRange)):(r?_e:Me).call(i,i.ticksRepeat,i.min,i.max),i.tickPositions=d),l||(o=d[0],r=d[d.length-1],l=i.minPointOffset||0,a.tickOnBeginning?i.min=o:i.min-l>o&&d.shift(),a.fixedEnd?i.max=r:i.max+l<r&&d.pop())},_updateTicks:function(){var t=this,e=t.xOrY,i=t.tickPositions,n=Ht[t.chart.guid].maxTicks;if(n&&n[e]&&!t.isDatetimeAxis&&!t.categoricalValues&&!t.isLinked&&!1!==t.options.matchTicks){var a,r=t.tickAmount,o=i.length;if(t.tickAmount=a=n[e],o<a){for(;i.length<a;)i.push(ae(i[i.length-1]+t.ticksRepeat));t.transA*=(o-1)/(a-1),t.max=i[i.length-1]}xt(r)&&a!==r&&(t.isDirty=!0)}},_scale:function(){var t,e,i,n,a=this,r=a.stacks;if(a.oldMin=a.min,a.oldMax=a.max,a.oldAxisLength=a.len,a._dimensions(),n=a.len!==a.oldAxisLength,fe(a.dataSeries,function(t){(t.isDirtyData||t.isDirty||t.axisX.isDirty)&&(i=!0)}),(n||i||a.isLinked||a.userMin!==a.oldUserMin||a.userMax!==a.oldUserMax)&&(function(){var k,S=this,A=S.chart,P=S.stacks,L=[],C=[];S.hasVisibleSeries=!1,S.dataMin=S.dataMax=null,fe(S.dataSeries,function(t){if(t.visible||A.options.scaleAxesForHiddenSeries){var e,i,n,a,r,o,s,l,d,c,h=t.options,p=h.baseValue,u=[],g=0;if(S.hasVisibleSeries=!0,S.isLog&&p<=0&&(p=h.baseValue=null),S.isXAxis)(o=t.xData).length&&(S.dataMin=E(Ut(S.dataMin,o[0]),te(o)),S.dataMax=O(Ut(S.dataMax,o[0]),ee(o)));else{var f,m,x,y,v=t.cropped,b=Ie.call(t.axisX),w=!!t.modifyValue,T=h.stackMode;for(S.usePercentage="percent"===T,T&&(a=h.stackIndex,r="-"+(n=t.seriesType+Ut(a,"")),t.stackKey=n,e=L[n]||[],L[n]=e,i=C[r]||[],C[r]=i),S.usePercentage&&(S.dataMin=0,S.dataMax=99),o=t.processedXData,c=(s=t.processedYData).length,k=0;k<c;k++)if(l=o[k],d=s[k],T&&(x=(f=d<p)?r:n,d=(m=f?i:e)[l]=xt(m[l])?ae(m[l]+d):d,P[x]||(P[x]={}),P[x][l]||(P[x][l]=new Le(S,S.options.stackTextSettings,f,l,a,T)),P[x][l]._total(d)),null!==d&&d!==M&&(w&&(d=t.modifyValue(d)),v||(o[k+1]||l)>=b.min&&(o[k-1]||l)<=b.max))if(y=d.length)for(;y--;)null!==d[y]&&(u[g++]=d[y]);else u[g++]=d;!S.usePercentage&&u.length&&(S.dataMin=E(Ut(S.dataMin,u[0]),te(u)),S.dataMax=O(Ut(S.dataMax,u[0]),ee(u))),xt(p)&&(S.dataMin>=p?(S.dataMin=p,S.ignoreMinPadding=!0):S.dataMax<p&&(S.dataMax=p,S.ignoreMaxPadding=!0))}}})}.call(a),a._ticks(),a.oldUserMin=a.userMin,a.oldUserMax=a.userMax,a.isDirty||(a.isDirty=n||a.min!==a.oldMin||a.max!==a.oldMax)),!a.isXAxis)for(t in r)if(r.hasOwnProperty(t))for(e in r[t])r[t].hasOwnProperty(e)&&(r[t][e].cum=r[t][e].total);Re.call(a)},_zoom:function(t,e){return De.call(this,t,e,!1,M,{trigger:"zoom"}),!0},_dimensions:function(){var t=this,e=Ht[t.chart.guid],i=t.options,n=i.offsetLeft||0,a=i.offsetRight||0;t.left=Ut(i.left,e.plotLeft+n),t.top=Ut(i.top,e.plotTop),t.width=Ut(i.width,e.plotWidth-n+a),t.height=Ut(i.height,e.plotHeight),t.bottom=e.chartHeight-t.height-t.top,t.right=e.chartWidth-t.width-t.left,t.len=O(t.horiz?t.width:t.height,0)},_offset:function(){var t,e,i,n=this,a=Ht[n.chart.guid],r=a.renderer,o=n.options,s=n.tickPositions,l=n.ticks,d=n.horiz,c=n.side,h=0,p=0,u=o.title,g=o.axisTickText,f=0,m=a.axisOffset,x=[-1,1,1,-1][c];if(n.hasData=t=n.hasVisibleSeries||xt(n.min)&&xt(n.max)&&!!s,n.showAxis=a=t||Ut(o.showEmpty,!0),n.axisGroup||(n.gridGroup=r.g().attr({zIndex:o.gridZIndex||1}).add(),n.axisGroup=r.g().attr({zIndex:o.zIndex||2}).add(),n.labelGroup=r.g().attr({zIndex:g.zIndex||7}).add()),t||n.isLinked)fe(s,function(t){l[t]?l[t]._label():l[t]=new Ae(n,t)}),fe(s,function(t){0!==c&&2!==c&&{1:"left",3:"right"}[c]!==g.align||(f=O(l[t]._labelSize(),f))}),n.staggerLinesINTERNAL&&(f+=16*(n.staggerLinesINTERNAL-1));else for(i in l)l.hasOwnProperty(i)&&(l[i].destroy(),delete l[i]);u&&u.text&&(n.axisTitle||(n.axisTitle=r.text(u.text,0,0,u.htmlOutput).attr({zIndex:7,textAngle:u.textAngle||0,align:u.textAlignINTERNAL||{low:"left",middle:"center",high:"right"}[u.align]}).css(u.style).add(n.axisGroup),n.axisTitle.isNew=!0),a&&(h=n.axisTitle.getBBox()[d?"height":"width"],p=Ut(u.margin,d?5:10),e=u.offset),n.axisTitle[a?"show":"hide"]()),n.offset=x*Ut(o.offset,m[c]),n.axisTitleMargin=Ut(e,f+p+(2!==c&&f&&x*o.axisTickText[d?"y":"x"])),m[c]=O(m[c],n.axisTitleMargin+h+x*n.offset)},_path:function(t){var e=this,i=Ht[e.chart.guid],n=e.swapLocation,a=e.offset,r=e.horiz,o=e.left+(n?e.width:0)+a,a=i.chartHeight-e.bottom-(n?e.height:0)+a;return this.lineTop=a,i.renderer.crispLine([Pt,r?e.left:o,r?a:e.top,At,r?i.chartWidth-e.right:o,r?a:i.chartHeight-e.bottom],t)},_titlePos:function(){var t=this.horiz,e=this.left,i=this.top,n=this.len,a=this.options.title,r=t?e:i,o=this.swapLocation,s=this.offset,l=ct(a.style.fontSize||12),n={low:r+(t?0:n),middle:r+n/2,high:r+(t?n:0)}[a.align],l=(t?i+this.height:e)+(t?1:-1)*(o?-1:1)*this.axisTitleMargin+(2===this.side?l:0);return{x:t?n:l+(o?this.width:0)+s+(a.x||0),y:t?l-(o?this.height:0)+s:n+(a.y||0)}},render:function(){var i,n,a=this,t=a.chart,e=Ht[t.guid],r=e.renderer,o=a.options,s=a.isLog,l=a.isLinked,d=a.tickPositions,c=a.axisTitle,h=a.stacks,p=a.ticks,u=a.minorTicks,g=a.alternateBands,f=o.stackTextSettings,m=o.colorStripe,x=a.tickmarkOffset,y=o.drawWidth,v=e.hasRendered&&xt(a.oldMin)&&!isNaN(a.oldMin),b=a.hasData,t=a.showAxis;if((b||l)&&(a.minorTicksRepeat&&!a.categoricalValues&&fe(function(){var t,e,i,n=this,a=n.tickPositions,r=n.minorTicksRepeat,o=[];if(n.isLog)for(i=a.length,e=1;e<i;e++)o=o.concat(_e.call(n,r,a[e-1],a[e],!0));else for(t=n.min+(a[0]-n.min)%r;t<=n.max;t+=r)o.push(t);return o}.call(a),function(t){u[t]||(u[t]=new Ae(a,t,"minor")),v&&u[t].isNew&&u[t].render(null,!0),u[t].isActive=!0,u[t].render()}),fe(d.slice(1).concat([d[0]]),function(t,e){e=e===d.length-1?0:e+1,(!l||t>=a.min&&t<=a.max)&&(p[t]||(p[t]=new Ae(a,t)),v&&p[t].isNew&&p[t].render(e,!0),p[t].isActive=!0,p[t].render(e))}),m&&fe(d,function(t,e){e%2==0&&t<a.max&&(g[t]||(g[t]=new Pe(a)),i=t+x,n=d[e+1]!==M?d[e+1]+x:a.max,g[t].options={from:s?zt(i):i,to:s?zt(n):n,color:m},g[t].render(),g[t].isActive=!0)}),a._addedPlotLB||(fe((o.plotLines||[]).concat(o.plotBands||[]),function(t){!function(t){return t=new Pe(this,t).render(),this.plotLinesAndBands.push(t),t}.call(a,t)}),a._addedPlotLB=!0)),fe([p,u,g],function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].isActive?t[e].isActive=!1:(t[e].destroy(),delete t[e]))}),y&&(b=a._path(y),a.axisLine?a.axisLine.animate({d:b}):a.axisLine=r.path(b).attr({stroke:o.drawColor,"stroke-width":y,zIndex:7}).add(a.axisGroup),a.axisLine[t?"show":"hide"]()),c&&t&&(c[c.isNew?"attr":"animate"](a._titlePos()),c.isNew=!1),f&&f.enabled){var w,T,k,S=a.stackTotalGroup;for(w in S||(a.stackTotalGroup=S=r.g().attr({visibility:wt,zIndex:6}).add()),S.translate(e.plotLeft,e.plotTop),h)if(h.hasOwnProperty(w))for(k in T=h[w])T.hasOwnProperty(k)&&T[k].render(S)}a.isDirty=!1},_title:function(t,e){var i=this,n=i.chart,a=i.options,r=i.axisTitle;a.title=oe(a.title,t),i.axisTitle=r&&r.destroy(),Ut(e,i.isDirty=!0)&&n.redraw()},redraw:function(){var t=Ht[this.chart.guid].tracker;t._reset&&t._reset(!0),this.render(),fe(this.plotLinesAndBands,function(t){t.render()}),fe(this.dataSeries,function(t){t.isDirty=!0})},_points:function(t,e){var i=this;i.categoricalValues=i.userOptions.categoricalValues=t,fe(i.dataSeries,function(t){t.translate(),t.setTooltipPoints(!0)}),Ut(e,i.isDirty=!0)&&i.chart.redraw()},destroy:function(){if(!this._destroyed){var t,e,i,n=this,a=n.stacks;for(t in le(n),a)a.hasOwnProperty(t)&&(ie(a[t]),a[t]=null);for(e in fe([n.ticks,n.minorTicks,n.alternateBands,n.plotLinesAndBands],function(t){ie(t)}),n)n.hasOwnProperty(e)&&((i=n[e])instanceof we||ke&&i instanceof ke)&&(n[e]=i.destroy());n._destroyed=!0}}},Ee.prototype={destroy:function(){this._destroyed||(fe(this.axisMarkers,function(t){t&&t.destroy()}),this._destroyed=!0)},move:function(t,e,i,n){this.labelElement.css({top:e,left:t})},hide:function(){var t,e=Ht[this.chart.guid];this.isHidden||(t=e.hoverPoints,this.labelElement.hide(),t&&fe(t,function(t){t.setState()}),e.hoverPoints=null,this.isHidden=!0)},getPosition:function(t,e,i){var n,a=Ht[e.guid],r=a.plotLeft,o=a.plotTop,s=a.plotWidth,l=a.plotHeight,d=Ut(this.options.distance,12),c=Oe.call(this,t,i),h=c[0],e=c[1],t=this.labelElement.width(),i=this.labelElement.height(),c=h+r+(a.isInverted?d:-t-d),a=e-i+o+15;return r+s<(c=c<7?r+O(h,0)+d:c)+t&&(c-=c+t-(r+s),a=e-i+o-d,n=!0),a<o+5&&(a=o+5,n&&a<=e&&e<=a+i&&(a=e+o+d)),{x:c,y:a=o+l<a+i?O(o,o+l-i-d):a}},refresh:function(t,e){var i,n,a,r,o=this,s=o.chart,l=o.labelElement,d=o.options,c=function(t,e){var i,n,a,r=[],o="",s=(t=yt(t))[0].dataSeries.axisX,l="f";if(s&&"datetime"===s.options.axisType&&gt(t[0].pointName)){for(i in m)if(m.hasOwnProperty(i)&&m[i]>=s.closestPointRange){l=s.options.axisDateFormat[i];break}o=f.format("{0:"+l+"}",new Date(t[0].pointName))}else n=t[0].dataSeries.tooltipSettings&&t[0].dataSeries.tooltipSettings.customHeaderText||this.options.customHeaderText,o=ht(n)?f.format(n,{point:t[0],chart:e}):n.call(null,t,e);return r+='<div class="shield-tooltip-header">'+o+"</div>",a=t[0].dataSeries.tooltipSettings&&t[0].dataSeries.tooltipSettings.customPointText||this.options.customPointText,"rangebar"===t[0].dataSeries.seriesType&&"<span>{point.dataSeries.collectionAlias}</span>: {point.y}"!=this.options.customPointText&&(a=this.options.customPointText),fe(t,function(t){t.dataSeries,r+='<div class="shield-tooltip-value">'+(ht(a)?f.format(a,{point:t,chart:e}):a.call(null,t,e))+"</div>"}),r},h=Ht[s.guid],p=h.hoverPoints,u=d.axisMarkers,g=o.chartBound;d.format&&(c=ht(d.format)?function(t,e){return f.format(d.format,{point:t,chart:e})}:d.format),i=(n=Oe.call(o,t,e))[0],n=n[1],!g||t.dataSeries&&t.dataSeries.noSharedTooltip?t.dataSeries.color:(h.hoverPoints=t,p&&fe(p,function(t){t.setState()}),fe(t,function(t){t.setState(Rt)})),p=c.call(o,t,s),c=(t=ut(t)?t[0]:t).dataSeries,c=g||!c.isCartesian||c.tooltipOutsidePlot||Fe(s,i,n),!1!==p&&c?(o.isHidden&&l.show(),l.html(p),e=(d.position||o.getPosition).call(o,t,s,e),o.move(I(e.x),I(e.y),i+h.plotLeft,n+h.plotTop),o.isHidden=!1):this.hide(),u&&u.enabled&&(i=/x/i.test(u.mode),n=/y/i.test(u.mode),u={"stroke-width":ct(u.width),stroke:u.color,zIndex:ct(u.zIndex)},i&&(r=t.dataSeries.axisX)&&(a=r._linePath(t.x,1),o.axisMarkers[0]?o.axisMarkers[0].attr({d:a,visibility:wt}):o.axisMarkers[0]=h.renderer.path(a).attr(u).add()),n&&(r=t.dataSeries.axisY)&&(a=r._linePath(Ut(t.stackY,t.y),1),o.axisMarkers[1]?o.axisMarkers[1].attr({d:a,visibility:wt}):o.axisMarkers[1]=h.renderer.path(a).attr(u).add()))}},We.prototype={_normalize:function(t){var e,i,n;return(t=t||k.event).target||(t.target=t.srcElement),i=t.touches?t.touches.item(0):t,this.chartPosition=(n=Ht[this.chart.guid].container,n=p(n).offset()),n=i.pageX===M?(e=t.x,t.y):(e=i.pageX-n.left,i.pageY-n.top),st(t,{chartX:I(e),chartY:I(n)})},_coord:function(n){var a={axisX:[],axisY:[]},r=Ht[this.chart.guid];return fe(r.axes,function(t){var e=t.isXAxis,i=r.isInverted?!e:e;a[e?"axisX":"axisY"].push({axis:t,value:t.translate((i?n.chartX-r.plotLeft:t.top+t.len-n.chartY)-t.minPixelPadding,!0)})}),a},_index:function(t){var e=Ht[this.chart.guid];return e.isInverted?e.plotHeight+e.plotTop-t.chartY:t.chartX-e.plotLeft},_move:function(t){var e,i,n,a,r=this,o=r.chart,s=Ht[o.guid],l=s.dataSeries,d=s.tooltip,c=s.hoverPoint,o=s.hoverSeries,h=s.chartWidth,p=r._index(t);if(d&&r.options.tooltipSettings.chartBound&&(!o||!o.noSharedTooltip)){for(i=[],n=l.length,a=0;a<n;a++)l[a].visible&&!1!==l[a].options.mouseInteractions&&!l[a].noSharedTooltip&&l[a].tooltipPoints.length&&((e=l[a].tooltipPoints[p])._dist=W(p-e[l[a].axisX.tooltipPosName||"plotX"]),h=E(h,e._dist),i.push(e));for(n=i.length;n--;)i[n]._dist>h&&i.splice(n,1);i.length&&i[0].plotX!==r.hoverX&&(d.refresh(i,t),r.hoverX=i[0].plotX)}s.cachedHoverSeries&&s.cachedHoverSeries.tracker&&(e=s.cachedHoverSeries.tooltipPoints[p])&&e!==c&&e._mouseOver(t)},_reset:function(t){var e=this.chart,i=Ht[e.guid],n=i.hoverSeries,a=i.hoverPoint,e=i.tooltip,i=e&&e.chartBound?i.hoverPoints:a;(t=(t=t&&e&&i)&&yt(i)[0].plotX===M?!1:t)?e.refresh(i):(a&&a._mouseOut(),n&&n._mouseOut(),e&&(e.hide(),function(){fe(this.axisMarkers,function(t){t&&t.hide()})}.call(e)),this.hoverX=null)},_events:function(){var a,r=this,h=r.chart,p=Ht[h.guid],e=p.container;function i(){h&&(jt(e,{cursor:"auto"}),p.cancelClick=a,p.mouseIsDown=a=!1),p.container.style.cursor="default",le(R,rt?"touchend":"mouseup",i)}r.hideTooltipOnMouseMove=function(t){r.chartPosition&&p.hoverSeries&&p.hoverSeries.isCartesian&&!Fe(h,t.pageX-r.chartPosition.left-p.plotLeft,t.pageY-r.chartPosition.top-p.plotTop)&&r._reset()},r.hideTooltipOnMouseLeave=function(t){r.chartPosition&&!Fe(h,t.pageX-r.chartPosition.left-p.plotLeft,t.pageY-r.chartPosition.top-p.plotTop)&&(r._reset(),r.chartPosition=null)},e.onmousedown=function(t){t=r._normalize(t),!rt&&t.preventDefault&&t.preventDefault(),p.mouseIsDown=!0,p.cancelClick=!1,p.mouseDownX=r.mouseDownX=t.chartX,r.mouseDownY=t.chartY,p.isZoomed&&(p.container.style.cursor="move"),se(R,rt?"touchend":"mouseup",i)};function n(t){if(!(t&&t.touches&&1<t.touches.length)){t=r._normalize(t),rt||(t.returnValue=!1);var e=t.chartX,i=t.chartY,n=!Fe(h,e-p.plotLeft,i-p.plotTop);return rt&&t.type===U&&(Vt(t.target,"isTracker")?p.runTrackerClick||t.preventDefault():h.events.click||n||t.preventDefault()),n&&(e<p.plotLeft?e=p.plotLeft:e>p.plotLeft+p.plotWidth&&(e=p.plotLeft+p.plotWidth),i<p.plotTop?i=p.plotTop:i>p.plotTop+p.plotHeight&&(i=p.plotTop+p.plotHeight)),p.mouseIsDown&&t.type!==U&&10<(a=D.sqrt(D.pow(r.mouseDownX-e,2)+D.pow(r.mouseDownY-i,2)))&&(Fe(h,r.mouseDownX-p.plotLeft,r.mouseDownY-p.plotTop),p.isZoomed&&(h._viewport(r.mouseDownX-e,i-r.mouseDownY),r.mouseDownX=e,r.mouseDownY=i)),n||r._move(t),n||!p.hasCartesianSeries}}e.onmousemove=n,se(e,V,r.hideTooltipOnMouseLeave),se(R,g,r.hideTooltipOnMouseMove),e.ontouchstart=function(t){(r.zoomX||r.zoomY)&&e.onmousedown(t),n(t)},e.ontouchmove=n,e.ontouchend=function(){a&&r._reset()},e.onclick=function(t){var e,i,n=p.hoverPoint;(t=r._normalize(t)).cancelBubble=!0,p.cancelClick||(n&&(Vt(t.target,"isTracker")||Vt(t.target.parentNode,"isTracker"))?(e=n.plotX,i=n.plotY,st(n,{pageX:r.chartPosition.left+p.plotLeft+(p.isInverted?p.plotWidth-i:e),pageY:r.chartPosition.top+p.plotTop+(p.isInverted?p.plotHeight-e:i)}),n.trigger("seriesClick",t)):(st(t,r._coord(t)),Fe(h,t.chartX-p.plotLeft,t.chartY-p.plotTop)&&h.trigger(Z,t)))},se(e,"mousewheel",function(o,s,t,e){o=r._normalize(o),st(o,r._coord(o)),s=0<s?1:-1;var l,d={axisX:[],axisY:[]},c=0;if(fe(p.axes,function(t){var e,i,n,a,r=t.isXAxis;p.tracker[r?"zoomX":"zoomY"]&&(n=p.isInverted?!r:r,i=t.dataMax/5,0<s?(a=(a=t.translate((n?o.chartX-p.plotLeft:t.top+t.len-o.chartY)-t.minPixelPadding,!0))-(n=t.max-t.min-i)/2<t.dataMin?(e=t.dataMin,t.dataMin+n):a+n/2>t.dataMax?(e=t.dataMax-n,t.dataMax):(e=a-n/2,a+n/2),e<t.dataMin&&(e=t.dataMin,a=t.dataMin+n)):(e=O(t.dataMin,t.min-i/2),a=E(t.dataMax,t.max+i/2),e<=t.dataMin&&a>=t.dataMax&&c++),a<e?d[r?"axisX":"axisY"].push({axis:t,min:e,max:a}):isNaN(e)||isNaN(a)||(d[r?"axisX":"axisY"].push({axis:t,min:E(e,a),max:O(e,a)}),l=!0))}),l){var i={axisX:[],axisY:[]};return i.axisX=d.axisX,i.axisY=d.axisY,d.axisX[0]&&d.axisX[0].min>=d.axisX[0].max&&(i.axisX=[],d.axisX[0].min=E(d.axisX[0].min,d.axisX[0].max),d.axisX[0].max=O(d.axisX[0].min,d.axisX[0].max)),d.axisY[0]&&d.axisY[0].min>=d.axisY[0].max&&(i.axisY=[],d.axisY[0].min=E(d.axisY[0].min,d.axisY[0].max),d.axisY[0].max=O(d.axisY[0].min,d.axisY[0].max)),de(h,"zoom",d,function(t){h._zoom(i)}),c==p.axes.length?p.isZoomed=!1:p.isZoomed=!0,o.stopPropagation(),o.returnValue=!1}})},destroy:function(){var t,e;this._destroyed||(e=this.chart,e=(t=Ht[e.guid]).container,t.trackerGroup&&(t.trackerGroup=t.trackerGroup.destroy()),le(e,V,this.hideTooltipOnMouseLeave),le(R,g,this.hideTooltipOnMouseMove),e.onclick=e.onmousedown=e.onmousemove=e.ontouchstart=e.ontouchend=e.ontouchmove=null,this._destroyed=!0)},init:function(t,e){var i=Ht[t.guid];i.trackerGroup||(i.trackerGroup=i.renderer.g().attr({zIndex:9}).add()),e.enabled&&(i.tooltip=new Ee(t,e)),this._events()}},Be.prototype={init:function(t){var e,i,n,a=this,r=a.options=t.options.chartLegend;r.enabled&&(e=r.legendItemSettings.elementStyle,i=Ut(r.padding,8),n=r.legendItemSettings.topSpacing||0,a.baseline=ct(e.fontSize)+3+n,a.elementStyle=e,a.disabledStyle=oe(e,r.legendItemSettings.disabledStyle),a.topSpacing=n,a.padding=i,a.initialItemX=i,a.initialItemY=i-5,a.maxelementWidth=0,a.chart=t,a.itemHeight=0,a.lastLineHeight=0,a.render())},destroy:function(){var t,e,i;this._destroyed||(e=(t=this).group,(i=t.box)&&(t.box=i.destroy()),e&&(t.group=e.destroy()),t._destroyed=!0)},render:function(){var i,t,e,n=this,a=n.chart,r=Ht[a.guid],o=r.renderer,s=n.group,l=n.box,d=n.options,c=n.padding,h=d.borderWidth,p=d.backgroundColor;n.itemX=n.initialItemX,n.itemY=n.initialItemY,n.offsetWidth=0,n.lastItemY=0,s||(n.group=s=o.g().attr({zIndex:7}).add(),n.contentGroup=o.g().attr({zIndex:1}).add(s),n.scrollGroup=o.g().add(n.contentGroup),n.clipRect=o.clipRect(0,0,9999,r.chartHeight),n.contentGroup.clip(n.clipRect)),i=[],fe(r.dataSeries,function(t){var e=t.options;e.addToLegend&&(i=i.concat(t.legendItems||(e.legendType===K?t.data:t)))}),Jt(i,function(t,e){return(t.options&&t.options.orderIndex||0)-(e.options&&e.options.orderIndex||0)}),d.inverseOrder&&i.reverse(),n.allItems=i,n.display=t=!!i.length,fe(i,function(t){!function(e){var i,t=this,n=t.chart,a=Ht[n.guid],r=a.renderer,o=t.options,s=o.legendItemSettings,l=o.checkMarkSettings,d=l.mouseOverColor,c="horizontal"===o.renderDirection,h=o.symbolWidthINTERNAL,p=o.legendMarkerDistance,u=t.elementStyle,g=t.disabledStyle,f=t.padding,m=!o.rtlLayout,x=o.width,y=s.bottomSpacing||0,v=t.topSpacing,b=t.initialItemX,w=e.legendItem,T=e.dataSeries||e;T.options,w||(e.legendGroup=r.g().attr({zIndex:1}).add(t.scrollGroup),T.drawLegendSymbol(t,e),e.legendItem=w=r.text(e.collectionAlias,m?h+p:-p,t.baseline,o.htmlOutput).css(oe(e.visible?u:g)).attr({align:m?"left":"right",zIndex:2}).add(e.legendGroup),i=e.checkMark,e.legendGroup.on(z,function(t){n.trigger("legendSeriesMouseOver",{item:e}).isDefaultPrevented()||(s.proxyHoverEvents&&e._mouseOver(t),e.setState(Rt),w.css(s.mouseOverStyle),i&&d&&i.attr({stroke:d}))}).on(G,function(t){n.trigger("legendSeriesMouseOut",{item:e}).isDefaultPrevented()||(s.proxyHoverEvents&&e._mouseOut(t),w.css(e.visible?u:g),i&&i.attr({stroke:l.color}),e.setState())}).on(Z,function(t){n.trigger("legendSeriesClick",{item:e}).isDefaultPrevented()||e.toggle()}),Ye.call(t,e,e.visible)),m=w.getBBox(),p=e.legendelementWidth=s.elementWidth||h+p+m.width+f,t.itemHeight=m=m.height,c&&t.itemX-b+p>(x||a.chartWidth-2*f-b)&&(t.itemX=b,t.itemY+=v+t.lastLineHeight+y,t.lastLineHeight=0),t.maxelementWidth=O(t.maxelementWidth,p),t.lastItemY=v+t.itemY+y,t.lastLineHeight=O(m,t.lastLineHeight),e._legendItemPos=[t.itemX,t.itemY],c?t.itemX+=p:(t.itemY+=v+m+y,t.lastLineHeight=m),t.offsetWidth=x||O(c?t.itemX-b:p,t.offsetWidth)}.call(n,t)}),e=d.width||n.offsetWidth,a=n.lastItemY+n.lastLineHeight,a=function(t){var e=this.chart,i=Ht[e.guid],n=(i.renderer,this.options),a=n.y,e="top"===n.verticalAlign,e=i.spacingBox.height+(e?-a:a)-this.padding,a=this.clipRect;return"horizontal"===n.renderDirection&&(e/=2),e<t&&(this.clipHeight=n=e,a.attr({height:n}),t=e),t}.call(n,a),(h||p)&&(e+=c,a+=c,l?0<e&&0<a&&(l[l.isNew?"attr":"animate"](l.crisp(null,null,null,e,a)),l.isNew=!1):(n.box=l=o.rect(0,0,e,a,d.borderRadius,h||0).attr({stroke:d.borderColor,"stroke-width":h||0,fill:p||Lt}).add(s).shadow(d.shadow),l.isNew=!0),l[t?"show":"hide"]()),n.legendWidth=e,n.legendHeight=a,fe(i,function(t){!function(t){var e=(n=this.options).legendMarkerDistance,i=!n.rtlLayout,n=(a=t._legendItemPos)[0],a=a[1];t.legendGroup&&t.legendGroup.translate(i?n:this.legendWidth-n-2*e-4,a)}.call(n,t)}),t&&s.align(st({width:e,height:a},d),!0,r.spacingBox)}};var ze,Ge=h.extend({init:function(t,e){var i=this,n=i.guid=f.guid(),a=Ht[n]={},r=e.dataSeries;e.dataSeries=null,h.fn.init.apply(i,arguments),i.options.dataSeries=i.initialOptions.dataSeries=r,a.cachedHoverSeries=null;n=i.options,r=n.margin,r=ut(r)?r:[r,r,r,r];a.optionsMarginTop=Ut(n.chartMarginTop,r[0]),a.optionsMarginRight=Ut(n.chartMarginRight,r[1]),a.optionsMarginBottom=Ut(n.chartMarginBottom,r[2]),a.optionsMarginLeft=Ut(n.chartMarginLeft,r[3]),a.isResizing=0,a.axes=[],a.dataSeries=[],a.hasCartesianSeries=!1,a.axisX=[],a.axisY=[],a.applyAnimation=!at&&Ut(n.applyAnimation,!0),a.pointCount=0,a.counters=new Qt,Ve._initRender.call(i)},_series:function(t){var e=this.options,i=t.seriesType||e.seriesType;if(Bt[i]){e=new Bt[i];return e.init(this,t),e}dt(f.format("Invalid series type '{0}'",i),1)},redraw:function(t){var e,i,n=this,a=Ht[n.guid],r=a.axes,o=a.dataSeries,s=a.tracker,l=a.chartLegend,d=a.isDirtyLegend,c=a.isDirtyBox,h=o.length,p=h,u=a.renderer,g=u.isHidden();for(re(t,n),g&&Ve._shiftRendering.call(n);p--;)if((i=o[p]).isDirty&&i.options.stackMode){e=!0;break}if(e)for(p=h;p--;)(i=o[p]).options.stackMode&&(i.isDirty=!0);fe(o,function(t){t.isDirty&&t.options.legendType===K&&(d=!0)}),d&&l.options.enabled&&(l.render(),a.isDirtyLegend=!1),a.hasCartesianSeries&&(a.isResizing||(a.maxTicks=null,fe(r,function(t){t._scale()})),Ve._updateTicks.call(n),n._spacing(),fe(r,function(t){t.isDirtyExtremes&&(t.isDirtyExtremes=!1),(t.isDirty||c||e)&&(t.redraw(),c=!0)})),c&&Ve._renderBox.call(n),fe(o,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.axisX)&&t.redraw()}),s&&s._reset&&s._reset(!0),u.draw(),g&&Ve._shiftRendering.call(n,!0),fe([],function(t){t.call()})},_axes:function(){var e=this,t=this.options,i=t.axisX||{},t=t.axisY||{},i=yt(i);fe(i,function(t,e){t.index=e,t.isX=!0}),t=yt(t),fe(t,function(t,e){t.index=e}),t=i.concat(t),fe(t,function(t){new Xe(e,t)}),Ve._updateTicks.call(e)},_zoom:function(t){var i,n=Ht[this.guid];t&&!t.resetSelection&&(fe(t.axisX.concat(t.axisY),function(t){var e=t.axis;n.tracker[e.isXAxis?"zoomX":"zoomY"]&&(i=e._zoom(t.min,t.max))}),i&&this.redraw(Ut(this.options.applyAnimation,n.pointCount<100)))},_viewport:function(n,a){var r=Ht[this.guid],o=!1;fe(r.axes,function(t){var e=t.isXAxis,i=r.isInverted?!e:e,e=function(t,e,i,n,a,r){var o=this;return 0<t?o.translate(o.dataMin+t,e,i,n,a,r)-o.translate(o.dataMin,e,i,n,a,r):t<0?o.translate(o.dataMax+t,e,i,n,a,r)-o.translate(o.dataMax,e,i,n,a,r):0}.call(t,i?n:a,!0);0!==e&&(i=t.min+e,e=t.max+e,i>t.dataMin&&e<t.dataMax&&(De.call(t,i,e,!1),o=!0))}),o&&this.redraw(!1)},_size:function(){var t=Ht[this.guid],e=this.options,i=t.renderToClone||this.element;t.containerWidth=i.width(),t.containerHeight=i.height(),t.chartWidth=e.width||t.containerWidth||600,t.chartHeight=e.height||(19<t.containerHeight?t.containerHeight:400)},_wrapper:function(){var t,e,i=this,n=Ht[i.guid],a=i.options,r=i.element,o=f.strid();r.empty(),r.width()||Ve._shiftRendering.call(i),i._size(),t=n.chartWidth,e=n.chartHeight,n.container=r=p("<div />").attr("id",o).addClass(vt+"container"+(a.className?" "+a.className:"")).css(st({position:kt,overflow:Tt,width:t+St,height:e+St,textAlignINTERNAL:"left",lineHeight:"normal",zIndex:0},a.style)).appendTo(n.renderToClone||r)[0],n.renderer=a.forExport?new Te(r,t,e,!0):new s(r,t,e),at&&n.renderer.create(i,r,t,e)},_spacing:function(){var t=this,e=Ht[t.guid],i=t.options,n=i.chartAreaPaddingTop,a=i.chartAreaPaddingRight,r=i.chartAreaPaddingBottom,o=i.chartAreaPaddingLeft,s=e.chartLegend,l=e.optionsMarginTop,d=e.optionsMarginLeft,c=e.optionsMarginRight,h=e.optionsMarginBottom,p=e.chartTitleOptions,u=e.chartSubtitleOptions,g=t.options.chartLegend,f=Ut(g.chartDistance,10),m=g.x,x=g.y,y=g.align,v=g.verticalAlign;Ve._marginValues.call(t),i=e.axisOffset,!e.title&&!e.subtitle||xt(e.optionsMarginTop)||(u=O(e.title&&!p.ignoreChartLayout&&!p.verticalAlign&&p.y||0,e.subtitle&&!u.ignoreChartLayout&&!u.verticalAlign&&u.y||0))&&(e.plotTop=O(e.plotTop,u+15+n)),s.display&&!g.ignoreChartLayout&&("right"===y?xt(c)||(e.chartMarginRight=O(e.chartMarginRight,s.legendWidth-m+f+a)):"left"===y?xt(d)||(e.plotLeft=O(e.plotLeft,s.legendWidth+m+f+o)):"top"===v?xt(l)||(e.plotTop=O(e.plotTop,s.legendHeight+x+f+n)):"bottom"===v&&(xt(h)||(e.chartMarginBottom=O(e.chartMarginBottom,s.legendHeight-x+f+r)))),e.extraBottomMargin&&(e.chartMarginBottom+=e.extraBottomMargin),e.extraTopMargin&&(e.plotTop+=e.extraTopMargin),e.hasCartesianSeries&&fe(e.axes,function(t){t._offset()}),xt(d)||(e.plotLeft+=i[3]),xt(l)||(e.plotTop+=i[0]),xt(h)||(e.chartMarginBottom+=i[2]),xt(c)||(e.chartMarginRight+=i[1]),Ve._saveSize.call(t)},_layout:function(){var e,i,n,a=Ht[this.guid],r=this.options,o=this.options.dataSeries;fe(["isInverted","angular","enablePolarLayout"],function(t){for(e=Bt[r.seriesType],n=a[t]||r[t]||e&&e.prototype[t],i=o&&o.length;!n&&i--;)(e=Bt[o[i].seriesType])&&e.prototype[t]&&(n=!0);a[t]=n})},_render:function(){var t,e=this,a=Ht[e.guid],i=a.axes,r=a.renderer,o=e.options.axisTickText,n={text:"&#68;&#101;&#109;&#111;&#32;&#86;&#101;&#114;&#115;&#105;&#111;&#110;",isr:0};if(Ve.setTitle.call(e),a.chartLegend=new Be(e),fe(i,function(t){t._scale()}),e._spacing(),fe(i,function(t){if(t.radial)return e._spacing(),!1}),a.maxTicks=null,fe(i,function(t){t._ticks(!0),Re.call(t)}),n.style={cursor:Mt,color:"#999999",fontSize:"16px"},Ve._updateTicks.call(e),e._spacing(),Ve._renderBox.call(e),a.hasCartesianSeries&&fe(i,function(t){t.render()}),n.dest="&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#119;&#119;&#119;&#46;&#115;&#104;&#105;&#101;&#108;&#100;&#117;&#105;&#46;&#99;&#111;&#109;",a.seriesGroup||(a.seriesGroup=r.g().attr({zIndex:3}).add()),fe(a.dataSeries,function(t){t.translate(),t.setTooltipPoints(),t.render()}),o&&o.items&&fe(o.items,function(t){var e=st(o.style,t.style),i=ct(e.left)+a.plotLeft,n=ct(e.top)+a.plotTop+12;delete e.left,delete e.top,r.text(t.html,i,n).attr({zIndex:2}).css(e).add()}),n&&!a.dsisf){function s(t){return p("<div/>").html(t).text()}var l,d,c,h=f.guid();for(it&&(i=r.createElement("filter").attr({id:h,height:"120%"}),r.createElement("feGaussianBlur").attr({in:"SourceAlpha",stdDeviation:3}).add(i),h=r.createElement("feComponentTransfer"),r.createElement("feFuncA").attr({type:"linear",slope:"0.2"}).add(h),h.add(i),h=r.createElement("feMerge"),r.createElement("feMergeNode").add(h),r.createElement("feMergeNode").attr({in:"SourceGraphic"}).add(h),h.add(i),i.add(r.defs)),t=s(n.dest),!n.isr&&a.chartWidth<=400&&(n.text=s("&#68;&#101;&#109;&#111;")),n.text=s(n.text),l=[{align:"left",verticalAlign:"top",x:a.plotLeft+5,y:a.plotTop+20},{align:"right",verticalAlign:"top",x:-1*(a.chartWidth-(a.plotLeft+a.plotWidth)+5),y:a.plotTop+20},{align:"left",verticalAlign:"top",x:a.plotLeft+5,y:a.plotTop+a.plotHeight-5},{align:"right",verticalAlign:"top",x:-1*(a.chartWidth-(a.plotLeft+a.plotWidth)+5)+(n.isr?5:0),y:a.plotTop+a.plotHeight-5}],c=function(){t&&(location.href=t)},d=0;d<l.length;d++)n.isr&&3!=d||(n.isr&&a.chartWidth<=400&&(n.style.fontSize="13px"),r.text(n.text,0,0).on(Z,c).attr({align:l[d].align,zIndex:8,filter:void 0}).css(n.style).add().align(l[d]));a.dsisf=!0}a.hasRendered=!0},destroy:function(){var t,e,i,n=Ht[this.guid],a=n.axes,r=n.dataSeries,o=n.container,s=o&&o.parentNode;for(de(this,"destroy"),le(this),t=a.length;t--;)a[t]=a[t].destroy();for(t=r.length;t--;)r[t]=r[t].destroy();for(e in n)n.hasOwnProperty(e)&&(i=n[e])&&typeof i.destroy==u&&i.destroy();for(t in o&&(o.innerHTML="",le(o),s&&ne(o)),n)n.hasOwnProperty(t)&&delete n[t];delete Ht[this.guid]}}),Ve={_updateTicks:function(){var t=Ht[this.guid];!1!==this.options.matchTicks&&fe(t.axes,function(t){t._updateTicks()}),t.maxTicks=null},_shiftRendering:function(t){var e=Ht[this.guid],i=this.element,n=e.renderToClone;e.container;t?n&&(n.remove(),delete e.renderToClone):e.renderToClone=i.clone().css({position:Ct,top:"-9999px",display:"block"}).appendTo(R.body)},_renderBox:function(){var t=Ht[this.guid],e=this.options,i=t.renderer,n=t.chartWidth,a=t.chartHeight,r=t.chartBackground,o=t.plotBackground,s=t.plotBorder,l=t.plotBGImage,d=e.borderWidth||0,c=e.backgroundColor,h=e.chartAreaBackgroundColor,p=e.chartAreaBackgroundImage,u=e.chartAreaBorderWidth||0,g=t.plotLeft,f=t.plotTop,m=t.plotWidth,x=t.plotHeight,y=t.chartAreaBox,v=t.clipRect,b=t.clipBox,w=d+(e.shadow?8:0);(d||c)&&(r?r.animate(r.crisp(null,null,null,n-w,a-w)):(c={fill:c||Lt},d&&(c.stroke=e.borderColor,c["stroke-width"]=d),t.chartBackground=i.rect(w/2,w/2,n-w,a-w,e.borderRadius,d).attr(c).add().shadow(e.shadow))),h&&(o?o.animate(y):t.plotBackground=i.rect(g,f,m,x,0).attr({fill:h}).add().shadow(e.chartAreaShadow)),p&&(l?l.animate(y):t.plotBGImage=i.image(p,g,f,m,x).add()),v?v.animate({width:b.width,height:b.height}):t.clipRect=i.clipRect(b),u&&(s?s.animate(s.crisp(null,g,f,m,x)):t.plotBorder=i.rect(g,f,m,x,0,u).attr({stroke:e.chartAreaBorderColor,"stroke-width":u,zIndex:1}).add()),t.isDirtyBox=!1},_initRender:function(){var n,a=this,r=Ht[a.guid],o=a.options,t=r.callback,s=a.element,e="onreadystatechange",i="complete";!(!it&&k==k.top&&R.readyState!==i||at&&!k.canvg)||at?(a._wrapper(),s.addClass("shield-chart"),de(a,"init"),Ve._marginValues.call(a),Ve._saveSize.call(a),a._layout(),a._axes(),fe(o.dataSeries||[],function(t){a._series(t)}),r.tracker=new We(a,o),a._render(),r.renderer.draw(),t&&t.apply(a,[a]),fe(Ue,function(t){t.apply(a,[a])}),Ve._shiftRendering.call(a,!0),!1!==o.enableAutoFit&&(a._eafFunc=function(t){var e=o.width||s.width(),i=o.height||s.height(),t=t?t.target:k;e&&i&&(t===k||t===R)&&(e===r.containerWidth&&i===r.containerHeight||(clearTimeout(n),r.reflowTimeout=n=setTimeout(function(){r.container&&Ve._resize.call(a,e,i,!1)},100)),r.containerWidth=e,r.containerHeight=i)},se(k,j,a._eafFunc),se(a,"destroy",function(){le(k,j,a._eafFunc),a._eafFunc=null})),a.trigger("load")):R.attachEvent(e,a._onDocReady=function(){R.readyState===i&&(R.detachEvent(e,a._onDocReady),Ve._initRender.call(a),a._onDocReady=null)})},_selected:function(){var e=[];return fe(Ht[this.guid].dataSeries,function(t){e=e.concat(me(t.points,function(t){return t.selected}))}),e},_marginValues:function(){var t=Ht[this.guid],e=this.options,i=e.chartAreaPaddingTop,n=e.chartAreaPaddingRight,a=e.chartAreaPaddingBottom,e=e.chartAreaPaddingLeft;t.plotTop=Ut(t.optionsMarginTop,i),t.chartMarginRight=Ut(t.optionsMarginRight,n),t.chartMarginBottom=Ut(t.optionsMarginBottom,a),t.plotLeft=Ut(t.optionsMarginLeft,e),t.axisOffset=[0,0,0,0]},_resize:function(t,e,i){var n,a,r,o=this,s=Ht[o.guid],l=s.title,d=s.subtitle;s.isResizing+=1,r=function(){o&&de(o,"endResize",null,function(){--s.isResizing})},re(i,o),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,xt(t)&&(s.chartWidth=n=I(t)),xt(e)&&(s.chartHeight=a=I(e)),jt(s.container,{width:n+St,height:a+St}),s.renderer.setSize(n,a,i),s.plotWidth=n-s.plotLeft-s.chartMarginRight,s.plotHeight=a-s.plotTop-s.chartMarginBottom,s.maxTicks=null,fe(s.axes,function(t){t.isDirty=!0,t._scale()}),fe(s.dataSeries,function(t){t.isDirty=!0}),s.isDirtyLegend=!0,s.isDirtyBox=!0,o._spacing(),a=s.spacingBox,l&&l.align(null,null,a),d&&d.align(null,null,a),o.redraw(i),s.oldChartHeight=null,de(o,j),!1===c?r():setTimeout(r,c&&c.duration||500)},_saveSize:function(){var t,e,i,n,a=Ht[this.guid],r=a.isInverted,o=a.chartWidth,s=a.chartHeight,l=this.options,d=l.chartAreaPaddingTop,c=l.chartAreaPaddingRight,h=l.chartAreaPaddingBottom,p=l.chartAreaPaddingLeft;a.plotLeft=t=I(a.plotLeft),a.plotTop=e=I(a.plotTop),a.plotWidth=i=I(o-t-a.chartMarginRight),a.plotHeight=n=I(s-e-a.chartMarginBottom),a.plotSizeX=r?n:i,a.plotSizeY=r?i:n,a.chartAreaBorderWidth=l=l.chartAreaBorderWidth||0,a.spacingBox={x:p,y:d,width:o-p-c,height:s-d-h},a.chartAreaBox={x:t,y:e,width:i,height:n},a.clipBox={x:l/2,y:l/2,width:a.plotSizeX-l,height:a.plotSizeY-l},fe(a.axes,function(t){t._dimensions(),t._arrange()})},setTitle:function(t,e){var i,a=Ht[this.guid],n=this.options;a.chartTitleOptions=i=oe(n.primaryHeader,t),a.chartSubtitleOptions=n=oe(n.secondaryHeader,e),fe([["title",t,i],["subtitle",e,n]],function(t){var e=t[0],i=a[e],n=t[1],t=t[2];i&&n&&(a[e]=i=i.destroy()),t&&t.text&&!i&&(a[e]=a.renderer.text(t.text,0,0,t.htmlOutput).attr({align:t.align,zIndex:t.zIndex||4}).css(t.style).add().align(t,!1,a.spacingBox))})}},Ue=[];function je(t){return{id:t.id,name:t.pointName,x:t.x,y:t.y}}function Ze(t){return{type:t.xOrY,values:t.categoricalValues,min:t.min,max:t.max}}function Ke(t){if(pt(t)||ut(t)){var e,i,n=pt(t)?{}:[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&((i=t[e])&&i instanceof qe?n[e]=je(i):i&&(i instanceof Qe||"dataSeries"===e)?n[e]={seriesType:(a=i).seriesType,collectionAlias:a.collectionAlias,color:a.color,axisX:a.axisX?Ze(a.axisX):null,axisY:a.axisY?Ze(a.axisY):null,id:a.options.id,points:xe(a.points,je)}:i&&i instanceof Xe?n[e]=Ze(i):i&&f.is.event(i)?n[e]=p.Event(i):i&&(i instanceof p.Event||"domEvent"===e)?n[e]=i:n[e]="target"==e||"srcElement"==e?i:Ke(i));return n}return t;var a}function $e(){for(var t,e=["graphic","tracker","dataLabel","group","connector","shadowGroup"],i=6;i--;)this[t=e[i]]&&(this[t]=this[t].destroy())}Ge.defaults=he,Ge.themes={default:{}},f.ui.plugin("Chart",Ge),ze=Ge.prototype.trigger,Ge.prototype.trigger=function(t,e,i){var n=Ke(e),n=ze.call(this,t,n);return typeof i!=u||n.isDefaultPrevented()||i.call(this,e),n};var qe=function(){};qe.prototype={init:function(t,e,i){var n=this,a=t.chart,r=Ht[a.guid],o=r.counters;return n.dataSeries=t,n.setOptions(e,i),n.pointAttr={},t.options.separateColors&&(a=a.options.seriesPalette,n.color=n.color||a[o.color++],o.wrapColor(a.length)),r.pointCount++,n},setOptions:function(t,e){var i=this,n=i.dataSeries,a=typeof t;i.config=t,"number"==a||null===t?i.y=t:"number"==typeof t[0]?(i.x=t[0],i.y=t[1]):"object"==a&&"number"!=typeof t.length?(st(i,t),(i.options=t).dataPointText&&(n._hasPointLabels=!0),t.pointMark&&(n._hasPointMarkers=!0)):"string"==typeof t[0]&&(i.collectionAlias=t[0],i.y=t[1]),i.x===M&&(i.x=e===M?n.autoIncrement():e)},destroy:function(){if(!this._destroyed){var t,e=this,i=e.dataSeries,n=Ht[i.chart.guid],i=n.hoverPoints;for(t in n.pointCount--,i&&(e.setState(),Gt(i,e),i.length||(n.hoverPoints=null)),e===n.hoverPoint&&e._mouseOut(),(e.graphic||e.dataLabel)&&(le(e),$e.call(e)),e.legendItem&&He.call(n.chartLegend,e),e)e.hasOwnProperty(t)&&(e[t]=null);e._destroyed=!0}},_selected:function(t,e){var i=this,n=i.dataSeries.chart;t=Ut(t,!i.selected),i.trigger(t?"pointSelect":"pointDeselect",{accumulate:e},function(){i._destroyed||(i.selected=t,i.setState(t?Dt:""),e||fe(Ve._selected.call(n),function(t){t.selected&&t!==i&&(t.selected=!1,t.setState(""),t.trigger("pointDeselect"))}))})},_mouseOver:function(t){var e=this,i=e.dataSeries,n=Ht[i.chart.guid],a=n.tooltip,r=n.hoverPoint;r&&r!==e&&r._mouseOut(t),e.trigger("seriesMouseOver",t),!a||a.chartBound&&!i.noSharedTooltip||a.refresh(e),e.setState(Rt),n.hoverPoint=e},_mouseOut:function(t){var e=Ht[this.dataSeries.chart.guid],i=e.hoverPoints;i&&-1!==lt(this,i)||(this.trigger("seriesMouseOut",t),this.setState(),e.hoverPoint=null)},trigger:function(t,e,i){var n=this,a=n.dataSeries,r=a.options;"seriesClick"===t&&r.enablePointSelection&&(i=function(t){n._selected(null,!1!==r.allowMultiPointSelection&&(e.ctrlKey||e.metaKey||e.shiftKey))}),de(n,t,{domEvent:e,dataSeries:a},function(){a.chart.trigger(t,{domEvent:e,point:n,dataSeries:a},i)})},setState:function(t){var e,i=this,n=i.plotX,a=i.plotY,r=i.dataSeries,o=r.options.activeSettings,s=ye[r.seriesType].pointMark&&r.options.pointMark,l=s&&!s.enabled,d=s&&s.activeSettings[t],c=d&&!1===d.enabled,h=r.stateMarkerGraphic,p=r.chart,u=Ht[p.guid],g=i.pointAttr;(t=t||"")===i.state||i.selected&&t!==Dt||o[t]&&!1===o[t].enabled||t&&(c||l&&!d.enabled)||(i.graphic?(e=s&&i.graphic.symbolName&&g[t].r,i.graphic.attr(oe(g[t],e?{x:n-e,y:a-e,width:2*e,height:2*e}:{}))):(t&&d&&(e=d.drawRadius,h?h.attr({x:n-e,y:a-e}):r.stateMarkerGraphic=h=u.renderer.symbol(r.symbol,n-e,a-e,2*e,2*e).attr(g[t]).add(r.markerGroup)),h&&h[t&&Fe(p,n,a)?"show":"hide"]()),i.state=t)}};var Qe=function(){};Qe.prototype={isCartesian:!0,seriesType:"line",pointClass:qe,sorted:!0,pointAttrToOptions:{stroke:"drawColor","stroke-width":"drawWidth",fill:"innerColor",r:"drawRadius"},init:function(t,e){var i,n,a=this,r=Ht[t.guid];for(i in a.chart=t,a.options=e=a.setOptions(e),a.bindAxes(),st(a,{collectionAlias:e.collectionAlias,state:"",pointAttr:{},visible:!1!==e.visible,selected:!0===e.selected}),at&&(e.applyAnimation=!1),n=e.events)n.hasOwnProperty(i)&&se(a,i,n[i]);(n&&n.click||e.point&&e.point.events&&e.point.events.click||e.enablePointSelection)&&(r.runTrackerClick=!0),a.getColor(),a.getSymbol(),a.setItemSource(e.data,!1),a.isCartesian&&(r.hasCartesianSeries=!0),r.dataSeries.push(a),Jt(r.dataSeries,function(t,e){return(t.options.index||0)-(e.options.index||0)}),fe(r.dataSeries,function(t,e){t.index=e,t.collectionAlias=t.collectionAlias||"Series "+(e+1)})},bindAxes:function(){var i,n=this,a=n.options,t=Ht[n.chart.guid];n.isCartesian&&fe(["axisX","axisY"],function(e){fe(t[e],function(t){i=t.options,(a[e]===i.index||a[e]===M&&0===i.index)&&(t.dataSeries.push(n),(n[e]=t).isDirty=!0)})})},autoIncrement:function(){var t=this,e=t.options,i=Ut(i=t.xIncrement,e.dataStart,0);return t.dataStep=Ut(t.dataStep,e.dataStep,1),t.xIncrement=i+t.dataStep,i},getSegments:function(){var t,e=-1,i=[],n=this.points,a=n.length,r=this.options.drawNullValues;if(a)if(/bar/.test(this.seriesType)&&r)for(t=0;t<a;t++)i.push(n[t]);else if(r){for(t=a;t--;)null===n[t].y&&n.splice(t,1);n.length&&(i=[n])}else for(t=0;t<a;t++)null===n[t].y?(e+1<t&&i.push(n.slice(e+1,t)),e=t):t===a-1&&i.push(n.slice(e+1,t+1));this.segments=i},setOptions:function(t){var e=this.chart,i=e.options,n=i.seriesSettings,a=n[this.seriesType],r=t.data;return t.data=null,(n=oe(a,n.dataSeries,t)).data=t.data=r,this.tooltipSettings=oe(i.tooltipSettings,n.tooltipSettings,e.initialOptions.tooltipSettings),null===a.pointMark&&delete n.pointMark,n},getColor:function(){var t=this.options,e=this.chart.options.seriesPalette,i=Ht[this.chart.guid].counters;this.color=t.color||!t.separateColors&&e[i.color++]||"gray",i.wrapColor(e.length)},getSymbol:function(){var t=this.options.pointMark,e=this.chart,i=e.options.symbols,e=Ht[e.guid].counters;this.symbol=t.symbol||i[e.symbol++],/^url/.test(this.symbol)&&(t.drawRadius=0),e.wrapSymbol(i.length)},drawLegendSymbol:function(t,e){this.options.pointMark;var i=t.options,n=i.legendItemSettings,a=i.checkMarkSettings,r=a.coordinates,o=i.symbolWidthINTERNAL,s=Ht[this.chart.guid].renderer,i=e.legendGroup,t=t.baseline;e.legendSymbol=s.symbol("square",o/2-5,t-4-5,10,10).add(i),a&&a.enabled&&(e.checkMark=s.symbol(a.shape,o/2-5+Ut(r.x,0),t-4-5+Ut(r.y,0),xt(r.width)?r.width:10,xt(r.height)?r.height:10).add(i).attr({"stroke-width":a.width})),n&&n.elementStyle&&n.elementStyle.cursor&&(e.legendSymbol.css({cursor:n.elementStyle.cursor}),e.checkMark&&e.checkMark.css({cursor:n.elementStyle.cursor}))},addPointINTERNAL:function(t,e,i,n){var a=this,r=a.data,o=a.graph,s=a.area,l=a.chart,d=a.xData,c=a.yData,h=o&&o.shift||0,p=a.options.data,u=a.pointClass.prototype;re(n,l),o&&i&&(o.shift=h+1),s&&(i&&(s.shift=h+1),s.isArea=!0),e=Ut(e,!0),u.setOptions.apply(s={dataSeries:a},[t]),d.push(s.x),c.push(u.toArray?u.toArray.call(s):s.y),p.push(t),i&&(r[0]&&r[0].remove?function(t,e){var i,n=this.dataSeries,a=n.chart,r=n.data,o=r.length;for(re(e,a),t=Ut(t,!0),i=0;i<o;i++)if(r[i]===this){r.splice(i,1),n.options.data.splice(i,1),n.xData.splice(i,1),n.yData.splice(i,1);break}this.destroy(),n.isDirty=!0,n.isDirtyData=!0,t&&a.redraw()}.call(r[0],!1):(r.shift(),d.shift(),c.shift(),p.shift())),a.getAttribs(),a.isDirty=!0,a.isDirtyData=!0,e&&l.redraw()},setItemSource:function(t,e){var i=this,n=i.points,a=i.options,r=i.initialColor,o=i.chart,s=Ht[o.guid],l=null,d=i.axisX,c=i.pointClass.prototype;i.xIncrement=null,i.pointRange=d&&d.categoricalValues?1:a.pointRange,xt(r)&&(s.counters.color=r);var h,p=[],u=[],g=t?t.length:[],r=i.pointArrayMap,f=r&&r.length;if(1e4<g){for(y=0;null===l&&y<g;)l=t[y],y++;if(gt(l)){for(var m=Ut(a.dataStart,0),x=Ut(a.dataStep,1),y=0;y<g;y++)p[y]=m,u[y]=t[y],m+=x;i.xIncrement=m}else if(ut(l))if(f)for(y=0;y<g;y++)h=t[y],p[y]=h[0],u[y]=ei.call(h,1,f+1);else for(y=0;y<g;y++)h=t[y],p[y]=h[0],u[y]=h[1]}else for(y=0;y<g;y++)c.setOptions.apply(h={dataSeries:i},[t[y]]),p[y]=h.x,u[y]=c.toArray?c.toArray.call(h):h.y;if(ht(u[0]))dt("Data cannot be a string",1);else{for(i.data=[],i.options.data=t,i.xData=p,i.yData=u,y=n&&n.length||0;y--;)n[y]&&n[y].destroy&&n[y].destroy();d&&(d.zoomMin=d.customZoomMin),Ut(e,i.isDirty=i.isDirtyData=s.isDirtyBox=!0)&&o.redraw(!1)}},removeSeries:function(t,e){var i=this,n=i.chart,a=Ht[n.guid];t=Ut(t,!0),i.isRemoving||(i.isRemoving=!0,i.destroy(),a.isDirtyLegend=a.isDirtyBox=!0,t&&n.redraw(e)),i.isRemoving=!1},processData:function(t){var e,i,n,a,r=this,o=r.xData,s=r.yData,l=o.length,d=0,c=l,h=r.axisX,p=r.options,u=p.pointsLimit,g=r.isCartesian;if(g&&!r.isDirty&&!h.isDirty&&!r.axisY.isDirty&&!t)return!1;if(g&&r.sorted&&(!u||u<l||r.forceCrop)){var h=Ie.call(h),f=h.min,m=h.max;if(o[l-1]<f||o[0]>m)o=[],s=[];else if(o[0]<f||o[l-1]>m){for(a=0;a<l;a++)if(o[a]>=f){d=O(0,a-1);break}for(;a<l;a++)if(o[a]>m){c=a+1;break}o=o.slice(d,c),s=s.slice(d,c),e=!0}}for(a=o.length-1;0<a;a--)0<(i=o[a]-o[a-1])&&(n===M||i<n)&&(n=i);r.cropped=e,r.cropStart=d,r.processedXData=o,r.processedYData=s,null===p.pointRange&&(r.pointRange=n||1),r.closestPointRange=n},generatePoints:function(){var t,e,i,n,a,r=this,o=r.options.data,s=r.data,l=r.processedXData,d=r.processedYData,c=r.pointClass,h=l.length,p=r.cropStart||0,u=r.hasGroupedData,g=[];for(s||u||((a=[]).length=o.length,s=r.data=a),n=0;n<h;n++)e=p+n,u?g[n]=(new c).init(r,[l[n]].concat(yt(d[n]))):(s[e]?i=s[e]:o[e]!==M&&(s[e]=i=(new c).init(r,o[e],l[n])),g[n]=i);if(s&&(h!==(t=s.length)||u))for(n=0;n<t;n++)n!==p||u||(n+=h),s[n]&&($e.call(s[n]),s[n].plotX=M);r.data=s,r.points=g},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t,e=this,i=e.chart,n=Ht[i.guid],a=e.options,r=a.stackMode,o=e.axisX,s=o.categoricalValues,l=e.axisY,d=e.points,c=d.length,h=!!e.modifyValue,p=l.dataSeries,u=p.length,g="between"===a.positioningMethod,f=a.drawNullValues,m=/bar/i.test(e.seriesType);u--;)if(p[u].visible){p[u]===e&&(t=!0);break}for(u=0;u<c;u++){var x=d[u],y=x.x,v=mt(x.y)&&m&&f?0:x.y,b=x.low,w=l.stacks[(v<a.baseValue?"-":"")+e.stackKey];x.plotX=o.translate(y,0,0,0,1,g),r&&e.visible&&w&&w[y]&&(y=(w=w[y]).total,w.cum=b=w.cum-v,v=b+v,t&&(b=Ut(a.baseValue,l.min)),l.isLog&&b<=0&&(b=null),"percent"===r&&(b=y?100*b/y:0,v=y?100*v/y:0),x.percentage=y?100*x.y/y:0,x.total=x.stackTotal=y,x.stackY=v),x.yBottom=xt(b)?l.translate(b,0,1,0,1):null,h&&(v=e.modifyValue(v,x)),x.plotY="number"==typeof v?I(10*l.translate(v,0,1,0,1))/10:M,x.clientX=n.isInverted?n.plotHeight-x.plotX:x.plotX,x.pointName===M&&(s&&s[u]!==M?x.pointName=s[u]:x.pointName=x.x)}e.getSegments()},setTooltipPoints:function(t){var e,i,n,a,r,o=this,s=[],l=o.axisX,d=l?l.tooltipLen||l.len:Ht[o.chart.guid].plotSizeX,c=l&&l.tooltipPosName||"plotX",h=[];if(!1!==o.options.mouseInteractions){for(t&&(o.tooltipPoints=null),fe(o.segments||o.points,function(t){s=s.concat(t)}),e=(s=l&&l.inverseOrder?s.reverse():s).length,r=0;r<e;r++)for(a=s[r],i=s[r-1]?n+1:0,n=s[r+1]?O(0,N((a[c]+(s[r+1]?s[r+1][c]:d))/2)):d;0<=i&&i<=n;)h[i++]=a;o.tooltipPoints=h}},_mouseOver:function(t){var e=this,i=Ht[e.chart.guid],n=i.hoverSeries;n&&n!==e&&n._mouseOut(t),e.setState(Rt),i.cachedHoverSeries=e,i.hoverSeries=e},_mouseOut:function(t){var e=this.options,i=Ht[this.chart.guid],n=i.tooltip,a=i.hoverPoint;a&&a._mouseOut(t),!n||e.completeSeriesTrace||n.chartBound||n.hide(),this.setState(),i.hoverSeries=null},animate:function(t){var e,i=this,n=Ht[i.chart.guid],a=n.renderer,r=i.options.applyAnimation,o=n.clipBox,s=n.isInverted,l="_sharedClip"+(r=r&&!pt(r)?ye[i.seriesType].applyAnimation:r).duration+r.easing;t?(e=n[l],t=n[l+"m"],e||(n[l]=e=a.clipRect(st(o,{width:0})),n[l+"m"]=t=a.clipRect(-99,s?-n.plotLeft:-n.plotTop,99,s?n.chartWidth:n.chartHeight)),i.group.clip(e),i.markerGroup.clip(t),i.sharedClipKey=l):((e=n[l])&&(e.animate({width:n.plotSizeX},r),n[l+"m"].animate({width:n.plotSizeX+99},r)),i.animate=null,i.animationTimeout=setTimeout(function(){i.afterAnimate()},r.duration))},afterAnimate:function(){var t=this,e=Ht[t.chart.guid],i=t.sharedClipKey,n=t.group;n&&!1!==t.options.clip&&(n.clip(e.clipRect),t.markerGroup.clip()),setTimeout(function(){i&&e[i]&&(e[i]=e[i].destroy(),e[i+"m"]=e[i+"m"].destroy())},100)},drawPoints:function(){var t,e,i,n,a,r,o,s,l,d,c=this,h=c.points,p=c.chart,u=Ht[p.guid],g=c.options.pointMark,f=c.markerGroup;if(g.enabled||c._hasPointMarkers)for(n=h.length;n--;)e=(a=h[n]).plotX,i=a.plotY,o=a.graphic,s=a.pointMark||{},l=g.enabled&&s.enabled===M||s.enabled,d=Fe(p,e,i,u.isInverted),l&&i!==M&&!isNaN(i)?(r=(t=a.pointAttr[a.selected?Dt:""]).r,s=0===(l=Ut(s.symbol,c.symbol)).indexOf("url"),o?o.attr({visibility:d?it?"inherit":wt:Tt}).animate(st({x:e-r,y:i-r},o.symbolName?{width:2*r,height:2*r}:{})):d&&(0<r||s)&&(a.graphic=o=u.renderer.symbol(l,e-r,i-r,2*r,2*r).attr(t).add(f))):o&&(a.graphic=o.destroy())},convertAttribs:function(t,e,i,n){var a,r,o=this.pointAttrToOptions,s={};for(a in t=t||{},e=e||{},i=i||{},n=n||{},o)o.hasOwnProperty(a)&&(r=o[a],s[a]=Ut(t[r],e[a],i[a],n[a]));return s},getAttribs:function(){var t,e,i,n,a,r,o=this,s=ye[o.seriesType].pointMark?o.options.pointMark:o.options,l=s.activeSettings,d=l[Rt],c=o.color,h={stroke:c,fill:c},p=o.points||[],u=[],g=o.pointAttrToOptions;for(o.options.pointMark?(d.drawRadius=d.drawRadius||s.drawRadius+2,d.drawWidth=d.drawWidth||s.drawWidth+1):d.color=d.color||new be(d.color||c).brighten(d.brightness).get(),u[""]=o.convertAttribs(s,h),fe([Rt,Dt],function(t){u[t]=o.convertAttribs(l[t],u[""])}),o.pointAttr=u,e=p.length;e--;){if((s=(i=p[e]).options&&i.options.pointMark||i.options)&&!1===s.enabled&&(s.drawRadius=0),a=o.options.separateColors,i.options)for(r in g)g.hasOwnProperty(r)&&xt(s[g[r]])&&(a=!0);a?(n=[],t=(l=(s=s||{}).activeSettings||{})[Rt]=l[Rt]||{},o.options.pointMark||(t.color=new be(t.color||i.color).brighten(t.brightness||d.brightness).get()),n[""]=o.convertAttribs(st({color:i.color},s),u[""]),n[Rt]=o.convertAttribs(l[Rt],u[Rt],n[""]),n[Dt]=o.convertAttribs(l[Dt],u[Dt],n[""])):n=st(!0,{},u),i.pointAttr=n}},destroy:function(){if(!this._destroyed){var t,e,i,n,a,r,o=this,s=Ht[o.chart.guid],l=o.data||[];if(!o._destroyed){for(de(o,"destroy"),le(o),fe(["axisX","axisY"],function(t){(n=o[t])&&(Gt(n.dataSeries,o),n.isDirty=!0)}),o.legendItem&&He.call(s.chartLegend,o),t=l.length;t--;)(e=l[t])&&e.destroy&&e.destroy();for(a in o.points=null,clearTimeout(o.animationTimeout),o)o.hasOwnProperty(a)&&((r=o[a])instanceof we||ke&&r instanceof ke)&&(o[a]=r.destroy());for(i in s.hoverSeries===o&&(s.hoverSeries=null),Gt(s.dataSeries,o),o)o.hasOwnProperty(i)&&delete o[i];o._destroyed=!0}}},drawDataLabels:function(){var o,s,l,d=this,c=d.options.dataPointText,t=d.points;(c.enabled||d._hasPointLabels)&&(d.dlProcessOptions&&d.dlProcessOptions(c),l=d.plotGroup("dataLabelsGroup","data-axisTickText",d.visible?wt:Tt,6),o=c,fe(t,function(t){var e,i,n,a=t.dataLabel,r=!0;if(s=t.options&&t.options.dataPointText,n=o.enabled||s&&s.enabled,a&&!n)t.dataLabel=a.destroy();else if(n){if(n=c.textAngle,c=oe(o,s),s=ht(c.format)?f.format(c.format,{point:t,chart:t.dataSeries.chart}):c.format.call(null,t,t.dataSeries.chart),c.style.color=Ut(c.color,c.style.color,d.color,"black"),a)a.attr({text:s}),r=!1;else if(xt(s)){for(i in e={fill:c.backgroundColor,stroke:c.borderColor,"stroke-width":c.borderWidth,r:c.borderRadius||0,textAngle:n,padding:c.padding,zIndex:1})e.hasOwnProperty(i)&&e[i]===M&&delete e[i];a=t.dataLabel=Ht[d.chart.guid].renderer[n?"text":"label"](s,0,-999,null,null,null,c.htmlOutput).attr(e).css(c.style).add(l).shadow(c.shadow)}a&&d.alignDataLabel(t,a,c,null,r)}}))},alignDataLabel:function(t,e,i,n,a){var r,o=this.chart,s=Ht[o.guid],l=s.isInverted,d=Ut(t.plotX,-999),c=Ut(t.plotY,-999),t=e.getBBox();n=st({x:l?s.plotWidth-c:d,y:I(l?s.plotHeight-d:c),width:0,height:0},n),st(i,{width:t.width,height:t.height}),i.textAngle?(r={align:i.align,x:n.x+i.x+n.width/2,y:n.y+i.y+n.height/2},e[a?"attr":"animate"](r)):(e.align(i,null,n),r=e.alignAttr),e.attr({visibility:!1===i.hideInvisible||Fe(o,r.x,r.y)||Fe(o,d,c,l)?it?"inherit":wt:Tt})},getSegmentPath:function(i){var n=this,a=[];return fe(i,function(t,e){n.getPointSpline?a.push.apply(a,n.getPointSpline(i,t,e)):(a.push(e?At:Pt),e&&n.options.step&&(e=i[e-1],a.push(t.plotX,e.plotY)),a.push(t.plotX,t.plotY))}),a},getGraphPath:function(){var e,i=this,n=[],a=[];return fe(i.segments,function(t){e=i.getSegmentPath(t),1<t.length?n=n.concat(e):a.push(t[0])}),i.singlePoints=a,i.graphPath=n},drawGraph:function(){var t=this,e=t.options,i=t.graph,n=t.group,a=e.drawColor||t.color,r=e.drawWidth,o=e.seriesDashStyle,s=t.getGraphPath();i?(ce(i),i.animate({d:s})):r&&(r={stroke:a,"stroke-width":r,zIndex:1},o&&(r.dashstyle=o),t.graph=Ht[t.chart.guid].renderer.path(s).attr(r).add(n).shadow(e.shadow))},invertGroups:function(){var i=this,t=i.chart;function e(){var e={width:i.axisY.len,height:i.axisX.len};fe(["group","trackerGroup","markerGroup"],function(t){i[t]&&i[t].attr(e).invert()})}se(t,j,e),se(i,"destroy",function(){le(t,j,e)}),e(),i.invertGroups=e},plotGroup:function(t,e,i,n,a){var r=this,o=r[t],s=Ht[r.chart.guid],l=r.axisX,d=r.axisY;return o||(r[t]=o=s.renderer.g().attr({visibility:i,zIndex:n||.1}).add(a)),o.translate(l?l.left:s.plotLeft,d?d.top:s.plotTop),o},render:function(){var t=this,e=Ht[t.chart.guid],i=t.options,n=i.applyAnimation&&!!t.animate,a=t.visible?wt:Tt,r=i.zIndex,o=t.hasRendered,s=e.seriesGroup,l=t.plotGroup("group","dataSeries",a,r,s);t.markerGroup=t.plotGroup("markerGroup","markers",a,r,s),n&&t.animate(!0),t.getAttribs(),l.isInverted=e.isInverted,t.drawGraph&&t.drawGraph(),t.drawPoints(),t.drawDataLabels(),!1!==t.options.mouseInteractions&&t.drawTracker(),e.isInverted&&t.invertGroups(),!1===i.clip||t.sharedClipKey||o||(l.clip(e.clipRect),this.trackerGroup&&this.trackerGroup.clip(e.clipRect)),n?t.animate():o||t.afterAnimate(),t.isDirty=t.isDirtyData=!1,t.hasRendered=!0},redraw:function(){var t=this,e=Ht[t.chart.guid],i=(t.isDirtyData,t.group);i&&(e.isInverted&&i.attr({width:e.plotWidth,height:e.plotHeight}),i.animate({translateX:t.axisX.left,translateY:t.axisY.top})),t.translate(),t.setTooltipPoints(!0),t.render()},setState:function(t){var e=this.options,i=this.graph,n=e.activeSettings,e=e.drawWidth;this.state!==(t=t||"")&&(n[this.state=t]&&!1===n[t].enabled||(t&&(e=n[t].drawWidth||e+1),i&&!i.dashstyle&&i.attr({"stroke-width":e},t?0:500)))},toggle:function(t,e){var i,n,a,r=this,o=r.chart,s=Ht[o.guid],l=r.legendItem,d=r.group,c=r.tracker,h=r.dataLabelsGroup,p=r.markerGroup,u=r.points,g=o.options.scaleAxesForHiddenSeries,f=r.visible;if(r.visible=t=t===M?!f:t,i=t?"show":"hide",d&&d[i](),p&&p[i](),c)c[i]();else if(u)for(n=u.length;n--;)(a=u[n]).tracker&&a.tracker[i]();h&&h[i](),l&&Ye.call(s.chartLegend,r,t),r.isDirty=!0,r.options.stackMode&&fe(s.dataSeries,function(t){t.options.stackMode&&t.visible&&(t.isDirty=!0)}),g||(s.isDirtyBox=!0),!1!==e&&o.redraw(),o.trigger("seriesVisibilityChange",{dataSeries:r})},showDataSeries:function(){this.toggle(!0)},hideDataSeries:function(){this.toggle(!1)},drawTracker:function(){var t,e,i=this,n=i.options,a=n.areaInteractivity,r=[].concat(a?i.areaPath:i.graphPath),o=r.length,s=i.chart,l=Ht[i.chart.guid],d=l.renderer,c=s.options.tooltipSettings.showDistance,h=i.tracker,p=n.cursor,s=p&&{cursor:p},u=i.singlePoints,p=i.isCartesian&&i.plotGroup("trackerGroup",null,wt,n.zIndex||1,l.trackerGroup);if(o&&!a)for(e=o+1;e--;)r[e]===Pt&&r.splice(e+1,0,r[e+1]-c,r[e+2],At),(e&&r[e]===Pt||e===o)&&r.splice(e,0,At,r[e-2]+c,r[e-1]);for(e=0;e<u.length;e++)t=u[e],r.push(Pt,t.plotX-c,t.plotY,At,t.plotX+c,t.plotY);h?h.attr({d:r}):i.tracker=d.path(r).attr({isTracker:!0,"stroke-linejoin":"bevel",visibility:i.visible?wt:Tt,stroke:_t,fill:a?_t:Lt,"stroke-width":n.drawWidth+(a?0:2*c)}).on(U,function(t){l.hoverSeries!==i&&(i._fromTOUCHSTART=1,i._mouseOver(t))}).on(z,function(t){l.hoverSeries!==i&&(1!==i._fromTOUCHSTART?i._mouseOver(t):delete i._fromTOUCHSTART)}).on(G,function(t){n.completeSeriesTrace||i._mouseOut(t)}).css(s).add(p)}};var Je=Kt(Qe),t=Kt(Bt.line=Je,{seriesType:"stepline"});Bt.stepline=t,ye.stepline=oe(ye.line,{step:"left"}),ye.area=oe(ve,{baseValue:0,drawWidth:2,pointMark:{enabled:!1}});Je=Kt(Qe,{seriesType:"area",getSegmentPath:function(t){var e,i=this,n=Qe.prototype.getSegmentPath.call(i,t),a=[].concat(n),r=i.options;if(3===n.length&&a.push(At,n[1],n[2]),r.stackMode&&!i.closedStacks)for(e=t.length-1;0<=e;e--)e<t.length-1&&r.step&&a.push(t[e+1].plotX,t[e].yBottom),a.push(t[e].plotX,t[e].yBottom);else i.closeSegment(a,t);return i.areaPath=i.areaPath.concat(a),n},closeSegment:function(t,e){var i=Ne.call(this.axisY,this.options.baseValue);t.push(At,e[e.length-1].plotX,i,At,e[0].plotX,i)},drawGraph:function(){var t=this;t.areaPath=[],Qe.prototype.drawGraph.apply(t);var e=t.areaPath,i=t.options,n=t.area;n?n.animate({d:e}):t.area=Ht[t.chart.guid].renderer.path(e).attr({fill:Ut(i.innerColor,new be(t.color).setOpacity(i.fillOpacity||.75).get()),zIndex:0}).add(t.group)}}),t=Kt(Bt.area=Je,{seriesType:"steparea"});Bt.steparea=t,ye.steparea=oe(ye.area,{step:"left"}),ye.spline=oe(ve);t=Kt(Qe,{seriesType:"spline",getPointSpline:function(t,e,i){var n,a,r,o,s,l,d=e.plotX,c=e.plotY,h=t[i-1],p=t[i+1];return h&&p&&(l=h.plotX,a=h.plotY,o=p.plotX,l=((t=(1.5*c+(r=p.plotY))/2.5)-(s=(1.5*c+a)/2.5))*((p=(1.5*d+o)/2.5)-d)/(p-(o=(1.5*d+l)/2.5))+c-t,t+=l,a<(s+=l)&&c<s?t=2*c-(s=O(a,c)):s<a&&s<c&&(t=2*c-(s=E(a,c))),r<t&&c<t?s=2*c-(t=O(r,c)):t<r&&t<c&&(s=2*c-(t=E(r,c))),e.rightContX=p,e.rightContY=t),i?(n=["C",h.rightContX||h.plotX,h.rightContY||h.plotY,o||d,s||c,d,c],h.rightContX=h.rightContY=null):n=[Pt,d,c],n}});Bt.spline=t,ye.splinearea=oe(ye.area);Je=Je.prototype,t=Kt(t,{seriesType:"splinearea",closedStacks:!0,getSegmentPath:Je.getSegmentPath,closeSegment:Je.closeSegment,drawGraph:Je.drawGraph});Bt.splinearea=t,ye.bar=oe(ve,{borderColor:"#FFFFFF",borderWidth:0,borderRadius:0,groupPadding:.15,pointMark:null,barOffset:.1,minPointLength:0,pointsLimit:50,pointRange:null,activeSettings:{pointHoveredState:{brightness:.1,shadow:!1},pointSelectedState:{color:"#7AF4F4",shadow:!1}},dataPointText:{align:null,verticalAlign:null,y:null},baseValue:0});Je=Kt(Qe,{seriesType:"bar",tooltipOutsidePlot:!0,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},isInverted:!1,init:function(){Qe.prototype.init.apply(this,arguments);var e=this,t=Ht[e.chart.guid];t.hasRendered&&fe(t.dataSeries,function(t){t.seriesType===e.seriesType&&(t.isDirty=!0)})},translate:function(){var i,s=this,l=Ht[s.chart.guid],t=s.enablePolarLayout,e=s.options,d=e.stackMode,c=e.borderWidth,n=0,a=s.axisX,r=a.inverseOrder,o={};Qe.prototype.translate.apply(s),!1===e.divideSeries?n=1:fe(l.dataSeries,function(t){var e=t.options;t.seriesType===s.seriesType&&t.visible&&s.options.group===e.group&&(e.stackMode?(i=t.stackKey,o[i]===M&&(o[i]=n++),i=o[i]):!1!==e.divideSeries&&(i=n++),t.columnIndex=i)});var h=s.points,p=W(a.transA)*(a.ordinalSlope||e.pointRange||a.closestPointRange||1),u=p*e.groupPadding,g=(p-2*u)/n,f=e.dataPointWidth,a=xt(f)?(g-f)/2:g*e.barOffset,a=t?a:ct(a),f=Ut(f,g-2*a),m=t?f:ct(f),x=X(O(m,1+2*c)),r=a+(u+((r?n-s.columnIndex:s.columnIndex)||0)*g-p/2)*(r?-1:1),y=t?r:ct(r),r=e.baseValue,v=s.translatedThreshold=Ne.call(s.axisY,r),b=Ut(e.minPointLength,5);fe(h,function(t){var e=t.plotY,i=Ut(t.yBottom,v),n=t.plotX+y,a=X(E(e,i)),r=X(O(e,i)-a),o=s.axisY.stacks[(t.y<0?"-":"")+s.stackKey];d&&s.visible&&o&&o[t.x]&&o[t.x]._offset(y,x),W(r)<b&&b&&(r=b,a=W(a-v)>b?i-b:v-(e<=v?b:0)),t.barX=n,t.dataPointWidth=m,t.shapeType="rect",t.shapeArgs=n=l.renderer.Element.prototype.crisp.call(0,c,n,a,x,r),c%2&&(--n.y,n.height+=1),t.trackerArgs=W(r)<3&&oe(t.shapeArgs,{height:6,y:a-3})})},getSymbol:i,drawGraph:i,drawPoints:function(){var n,a=this,r=a.options,o=Ht[a.chart.guid].renderer;fe(a.points,function(t){var e=t.plotY,i=t.graphic;e===M||isNaN(e)||null===t.y?i&&(t.graphic=i.destroy()):(n=t.shapeArgs,i?(ce(i),i.animate(oe(n))):t.graphic=i=o[t.shapeType](n).attr(t.pointAttr[t.selected?Dt:""]).add(a.group).shadow(r.shadow,null,r.stackMode&&!r.borderRadius))})},drawTracker:function(){var t,i,n,a,r=this,o=Ht[r.chart.guid],s=o.renderer,l=+new Date,d=r.options,e=d.cursor,c=e&&{cursor:e},h=r.isCartesian&&r.plotGroup("trackerGroup",null,wt,d.zIndex||1,o.trackerGroup);fe(r.points,function(e){i=e.tracker,t=e.trackerArgs||e.shapeArgs,a=e.plotY,a=!r.isCartesian||a!==M&&!isNaN(a),delete t.strokeWidth,null!==e.y&&a&&(i?i.attr(t):e.tracker=s[e.shapeType](t).attr({isTracker:l,fill:_t,visibility:r.visible?wt:Tt}).on(U,function(t){e._fromTOUCHSTART=1,n=t.relatedTarget||t.fromElement,o.hoverSeries!==r&&Vt(n,"isTracker")!==l&&r._mouseOver(t),e._mouseOver(t)}).on(z,function(t){1!==e._fromTOUCHSTART?(n=t.relatedTarget||t.fromElement,o.hoverSeries!==r&&Vt(n,"isTracker")!==l&&r._mouseOver(t),e._mouseOver(t)):delete e._fromTOUCHSTART}).on(G,function(t){d.completeSeriesTrace||Vt(n=t.relatedTarget||t.toElement,"isTracker")!==l&&r._mouseOut(t)}).css(c).add(e.group||h))})},alignDataLabel:function(t,e,i,n,a){var r=Ht[this.chart.guid],o=r.isInverted,s=t.below||t.plotY>(this.translatedThreshold||r.plotSizeY),l=this.options.stackMode||i.inside;t.shapeArgs&&(n=oe(t.shapeArgs),o&&(n={x:r.plotWidth-n.y-n.height,y:r.plotHeight-n.x-n.width,width:n.height,height:n.width}),l||(o?(n.x+=s?0:n.width,n.width=0):(n.y+=s?n.height:0,n.height=0))),i.align=Ut(i.align,!o||l?"center":s?"right":"left"),i.verticalAlign=Ut(i.verticalAlign,o||l?"middle":s?"top":"bottom"),Qe.prototype.alignDataLabel.call(this,t,e,i,n,a)},animate:function(t){var a=this,e=a.points,r=a.options;t||(fe(e,function(t){var e=t.graphic,i=t.shapeArgs,n=a.axisY,t=r.baseValue;e&&(e.attr({height:0,y:xt(t)?Ne.call(n,t):n.translate(Ie.call(n).min,0,1,0,1)}),e.animate({height:i.height,y:i.y},r.applyAnimation))}),a.animate=null)},remove:function(){var e=this,t=Ht[e.chart.guid];t.hasRendered&&fe(t.dataSeries,function(t){t.seriesType===e.seriesType&&(t.isDirty=!0)}),Qe.prototype.remove.apply(e,arguments)}});Bt.bar=Je,ye.scatter=oe(ve,{drawWidth:0,activeSettings:{pointHoveredState:{drawWidth:0}},tooltipSettings:{customHeaderText:"{point.pointName}",customPointText:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b>"}});var ti=Kt(Qe,{seriesType:"scatter",sorted:!1,translate:function(){var e=this;Qe.prototype.translate.apply(e),fe(e.points,function(t){t.shapeType="circle",t.shapeArgs={x:t.plotX,y:t.plotY,r:e.chart.options.tooltipSettings.showDistance}})},drawTracker:function(){for(var t,e=this,i=e.options.cursor,i=i&&{cursor:i},n=e.points,a=n.length;a--;)(t=n[a].graphic)&&(t.element._i=a);e._hasTracking?e._hasTracking=!0:e.markerGroup.attr({isTracker:!0}).on(U,function(t){e._fromTOUCHSTART=1,e._mouseOver(t),t.target._i!==M&&n[t.target._i]._mouseOver(t)}).on(z,function(t){1!==e._fromTOUCHSTART?(e._mouseOver(t),t.target._i!==M&&n[t.target._i]._mouseOver(t)):delete e._fromTOUCHSTART}).on(G,function(t){e.options.completeSeriesTrace||e._mouseOut(t)}).css(i)}});Bt.scatter=ti,ye.bubble=oe(ye.scatter,{pointMark:{drawWidth:1,activeSettings:{pointHoveredState:{innerColor:null},pointSelectedState:{innerColor:null}}},tooltipSettings:{customHeaderText:"{point.pointName}",customPointText:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>size: <b>{point.size}</b>"}});t=Kt(ti,{seriesType:"bubble",translate:function(){var e,i,n,a,r,t=this,o=t.chart,o=Ht[o.guid],s=O(10,ct(E(o.plotHeight,o.plotWidth)/5))-10;ti.prototype.translate.apply(t),fe(t.points,function(t){t._rad=a=D.sqrt(t.size/B),(e===M||a<e)&&(e=a),(i===M||i<a)&&(i=a)}),n=i-e,e<10&&(r=e,e=i=M,fe(t.points,function(t){t._rad=a=10*t._rad/r,(e===M||a<e)&&(e=a),(i===M||i<a)&&(i=a)}),n=i-e),s<=n&&fe(t.points,function(t){t._rad=10+(t._rad-e)*s/n})},drawPoints:function(){fe(this.points,function(e){fe(["",Rt,Dt],function(t){st(e.pointAttr[t],{r:e._rad,fill:new be(e.pointAttr[t].fill).setOpacity(""==t?.75:1).get()})})}),Qe.prototype.drawPoints.apply(this)}});function ei(t,e,i){var n=this,a=n.dataSeries.chart,r=Ht[a.guid],o=n.slicedTranslation;re(i,a),e=Ut(e,!0),r={translateX:(t=n.sliced=xt(t)?t:!n.sliced)?o[0]:r.plotLeft,translateY:t?o[1]:r.plotTop},n.group.animate(r),n.shadowGroup&&n.shadowGroup.animate(r)}Bt.bubble=t,ye.pie=oe(ve,{borderColor:"#FFFFFF",borderWidth:0,center:["50%","50%"],separateColors:!0,dataPointText:{distance:30,enabled:!0,format:function(t,e){return e&&e.options&&e.options.axisX&&e.options.axisX.categoricalValues&&e.options.axisX.categoricalValues[t.x]!==M?e.options.axisX.categoricalValues[t.x]:t.y}},legendType:K,pointMark:null,size:"75%",addToLegend:!1,slicedOffset:10,activeSettings:{pointHoveredState:{brightness:.1,shadow:!1}},tooltipSettings:{customHeaderText:"{point.dataSeries.collectionAlias}",customPointText:function(t,e){e=e&&e.options&&e.options.axisX&&e.options.axisX.categoricalValues&&e.options.axisX.categoricalValues[t.x]!==M?e.options.axisX.categoricalValues[t.x]:t.pointName||t.collectionAlias||t.dataSeries.collectionAlias;return"<span>"+e+"</span>: "+t.y}}});Je={seriesType:"pie",isCartesian:!1,pointClass:Kt(qe,{init:function(){qe.prototype.init.apply(this,arguments);var t,e=this;return st(e,{visible:!1!==e.visible,collectionAlias:Ut(e.collectionAlias,"Sector")}),xt(e.selected)?e.selected=e.sliced=!!e.selected:xt(e.sliced)&&(e.selected=e.sliced=!!e.sliced),se(e,"pointSelect",t=function(){ei.call(e)}),se(e,"pointDeselect",t),e},toggle:function(t){var e,i=this,n=i.dataSeries,a=n.chart,r=Ht[n.chart.guid],o=i.tracker,s=i.dataLabel,l=i.connector,d=i.shadowGroup;i.visible=t=t===M?!i.visible:t,i.group[e=t?"show":"hide"](),o&&o[e](),s&&s[e](),l&&l[e](),d&&d[e](),i.legendItem&&Ye.call(r.chartLegend,i,t),!n.isDirty&&n.options.ignoreHiddenPoint&&(n.isDirty=!0,a.redraw())}}),pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=Ht[this.chart.guid].counters.color},animate:function(){var n=this,t=n.points;fe(t,function(t){var e=t.graphic,i=t.shapeArgs,t=-B/2;e&&(e.attr({r:0,start:t,end:t}),e.animate({r:i.r,start:i.start,end:i.end},n.options.applyAnimation))}),n.animate=null},setItemSource:function(t,e){Qe.prototype.setItemSource.call(this,t,!1),this.processData(),this.generatePoints(),Ut(e,!0)&&this.chart.redraw()},getCenter:function(){var t=this.options,e=Ht[this.chart.guid],i=e.plotWidth,n=e.plotHeight,t=t.center.concat([t.size,t.innerSize||0]),a=E(i,n);return xe(t,function(t,e){return/%$/.test(t)?[i,n,a,a][e]*ct(t)/100:t})},translate:function(){this.generatePoints();var i,n,t,e,a,r,o,s=0,l=this,d=-.25,c=l.options,h=c.slicedOffset,p=h+c.borderWidth,u=Ht[l.chart.guid],g=l.points,f=2*B,m=c.dataPointText.distance,x=c.ignoreHiddenPoint,y=g.length;for(l.center=i=l.getCenter(),l.getX=function(t,e){return n=D.asin((t-i[1])/(i[2]/2+m)),i[0]+(e?-1:1)*(Y(n)*(i[2]/2+m))},r=0;r<y;r++)o=g[r],s+=x&&!o.visible?0:o.y;for(r=0;r<y;r++)o=g[r],t=s?o.y/s:0,a=I(d*f*1e3)/1e3,x&&!o.visible||(d+=t),e=I(d*f*1e3)/1e3,o.shapeType="arc",o.shapeArgs={x:i[0],y:i[1],r:i[2]/2,innerR:i[3]/2,start:a,end:e},n=(e+a)/2,o.slicedTranslation=xe([Y(n)*h+u.plotLeft,H(n)*h+u.plotTop],I),e=Y(n)*i[2]/2,a=H(n)*i[2]/2,o.tooltipPos=[i[0]+.7*e,i[1]+.7*a],o.labelPos=[i[0]+e+Y(n)*m,i[1]+a+H(n)*m,i[0]+e+Y(n)*p,i[1]+a+H(n)*p,i[0]+e,i[1]+a,m<0?"center":n<f/4?"left":"right",n],o.percentage=100*t,o.total=s;l.setTooltipPoints()},render:function(){var t=this;t.getAttribs(),t.drawPoints(),!1!==t.options.mouseInteractions&&t.drawTracker(),t.drawDataLabels(),t.options.applyAnimation&&t.animate&&t.animate(),t.isDirty=!1},drawPoints:function(){var e,i,n,a,r,o=this,s=Ht[o.chart.guid],l=s.renderer,d=o.options.shadow;fe(o.points,function(t){i=t.graphic,r=t.shapeArgs,n=t.group,a=t.shadowGroup,d&&!a&&(a=t.shadowGroup=l.g().attr({zIndex:4}).add()),n=n||(t.group=l.g().attr({zIndex:5}).add()),e=t.sliced?t.slicedTranslation:[s.plotLeft,s.plotTop],n.translate(e[0],e[1]),a&&a.translate(e[0],e[1]),i?i.animate(r):t.graphic=i=l.arc(r).setRadialReference(o.center).attr(st(t.pointAttr[""],{"stroke-linejoin":"round"})).add(t.group).shadow(d,a),!1===t.visible&&t.toggle(!1)})},drawDataLabels:function(){var t,e,i,n,a,r,o=this,s=o.data,l=Ht[o.chart.guid],d=o.options.dataPointText,c=Ut(d.connectorPadding,10),h=Ut(d.connectorWidth,1),p=d.distance,u=o.center,g=u[2]/2,f=u[1],m=0<p,x=[[],[]],y=2;if(d.enabled||o._hasPointLabels)for(Qe.prototype.drawDataLabels.apply(o),fe(s,function(t){t.dataLabel&&x[t.labelPos[7]<B/2?0:1].push(t)}),x[1].reverse(),a=function(t,e){return e.y-t.y},t=x[0][0]&&x[0][0].dataLabel&&(x[0][0].dataLabel.getBBox().height||21);y--;){var v,b,w,T,k,S,A=[],P=[],L=x[y],C=L.length;if(0<p){for(b=f-g-p;b<=f+g+p;b+=t)A.push(b);if((v=A.length)<C){for((n=[].concat(L)).sort(a),r=C;r--;)n[r].rank=r;for(r=C;r--;)L[r].rank>=v&&L.splice(r,1);C=L.length}for(r=0;r<C;r++){for(var M,_,R=(M=L[r]).labelPos,D=9999,I=0;I<v;I++)(_=W(A[I]-R[1]))<D&&(D=_,w=I);if(w<r&&null!==A[r])w=r;else if(v<C-r+w&&null!==A[r])for(w=v-C+r;null===A[w];)w++;else for(;null===A[w];)w++;P.push({i:w,y:A[w]}),A[w]=null}P.sort(a)}for(r=0;r<C;r++)R=(M=L[r]).labelPos,k=M.dataLabel,i=!1===M.visible?Tt:wt,T=R[1],0<p?(w=(S=P.pop()).i,((e=S.y)<T&&null!==A[w+1]||T<e&&null!==A[w-1])&&(e=T)):e=T,S=d.justify?u[0]+(y?-1:1)*(g+p):o.getX(0===w||w===A.length-1?T:e,y),k.attr({visibility:i,align:R[6]})[k.moved?"animate":"attr"]({x:S+d.x+({left:c,right:-c}[R[6]]||0),y:e+d.y-10}),k.moved=!0,m&&h&&(T=M.connector,k=S+("left"===R[6]?8:-8),S=[Pt,k,S=e,At,k+("left"===R[6]?-10:10),S,At,R[4],R[5]],T?(T.animate({d:S}),T.attr("visibility",i)):M.connector=T=l.renderer.path(S).attr({"stroke-width":h,stroke:d.connectorColor||M.color||"#606060",visibility:i,zIndex:3}).translate(l.plotLeft,l.plotTop).add())}},alignDataLabel:i,drawTracker:Je.prototype.drawTracker,getSymbol:i},Je=Kt(Qe,Je);Bt.pie=Je,ye.donut=oe(ye.pie,{innerSize:"45%"});Je=Kt(Je,{seriesType:"donut"});Bt.donut=Je;var ii={_init:function(){var t=this;t.container=p("<div class='shield-lightbox' />"),t.mask=p("<div class='shield-lightbox-mask' />").appendTo(t.container),t.imageBox=p("<div class='shield-lightbox-imagebox' />").appendTo(t.container),t.image=p("<img />").appendTo(t.imageBox),t.caption=p("<p>Right-click and save image to disk. Left-click to dismiss.</p>").appendTo(t.imageBox),t.window=p(k),t.document=p(R),t.body=p(R.body)},show:function(t){var e=this;function i(){e.visible&&(e.container.appendTo(e.body),e.window.on(j+e.ns,n),e.window.on("keydown"+e.ns,function(t){27===t.keyCode&&e.hide()}),e.container.on(Z+e.ns,p.proxy(e.hide,e)),setTimeout(n,1e3/60))}function n(){e.mask.css({height:e.document.innerHeight()}),e.image.css({maxWidth:e.mask.width()-(e.image.outerWidth()-e.image.width())-2*e.margin,maxHeightINTERNAL:e.mask.height()-(e.image.outerHeight()-e.image.height())-2*e.margin}),e.imageBox.css({left:(e.document.innerWidth()-e.imageBox.outerWidth())/2,top:(e.window.innerHeight()-e.imageBox.outerHeight())/2+e.document.scrollTop()}),e.caption.css({left:(e.imageBox.width()-e.caption.outerWidth())/2+"px"})}e.visible||(e.visible=!0,e.container||e._init(),e.image.attr("src")===t?i():e.image.on("load"+e.ns,i).attr("src",t).attr("alt","Right-click and save image to disk"))},hide:function(){this.container.detach(),this.window.off(this.ns),this.visible=!1},ns:".shield",visible:!1,container:null,mask:null,imageBox:null,image:null,caption:null,window:null,document:null,body:null,margin:40};Ge.defaults.exportOptions={image:!0,print:!0,exportTooltip:"Export the chart to an image",printTooltip:"Print the chart"},st(Ge.prototype,{exportToImage:function(){if(nt){var t=p(Ht[this.guid].container),e=t.html(),t=p("<canvas />").attr("width",t.width()).attr("height",t.height())[0];if(typeof canvg!=u)throw"Export requires canvg: https://code.google.com/p/canvg/";e=(e=(e=e.replace(/(xmlns="[^\"]*")(.*?)\1/,"$1$2")).replace(/<(filter)\b[^>]*>.*?<\/\1>/gim,"")).replace(/\bfilter\b=(["']).*?\1/gim,""),canvg(t,e),ii.show(t.toDataURL())}},print:function(){var t=p("<iframe />").css({position:"absolute",left:"-10000px",top:"-10000px"}).appendTo(R.body)[0],e=t.contentWindow.document;e.open("text/html","replace"),e.write(Ht[this.guid].container.innerHTML),e.close(),t.contentWindow.print(),setTimeout(function(){R.body.removeChild(t),t=null},100)}}),Ue.push(function(t){var e,i=t.options.exportOptions,n=[];!1!==i&&((i.image&&nt||i.print)&&(e=p('<div class="shield-buttons" />').appendTo(t.element)),i.image&&nt&&n.push(p('<button class="shield-chart-button" type="button" title="'+i.exportTooltip+'"><div class="sui-sprite shield-export-button-img" /></button>').on("click.shield",p.proxy(t.exportToImage,t)).appendTo(e)),i.print&&n.push(p('<button class="shield-chart-button" type="button" title="'+i.printTooltip+'"><div class="sui-sprite shield-print-button-img" /></button>').on("click.shield",p.proxy(t.print,t)).appendTo(e)),p(t).bind("destroy",function(t){p(n).each(function(t,e){e.off(".shield").remove()})}))});var ni=Bt.bar.prototype;function ai(t,e,i){this.init.call(this,t,e,i)}st(ai.prototype,{init:function(t,e,i){var n=this,a=n.defaults;n.chart=e,Ht[e.guid].angular&&(a.background={}),n.options=t=oe(a,t),(t=t.background)&&fe([].concat(yt(t)).reverse(),function(t){var e=t.backgroundColor;t=oe(n.defaultBackgroundOptions,t),e&&(t.backgroundColor=e),t.color=t.backgroundColor,i.options.plotBands.unshift(t)})},defaults:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:Number.MIN_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var ri=Xe.prototype,Ge=Ae.prototype,oi={_offset:i,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},_scale:i,_points:i,_title:i},si={radialGauge:{axisTickText:{align:"center",x:0,y:null},minorPlotStripWidth:0,minorTicksRepeat:"auto",minorTicksHeight:10,minorTicksPlacementINTERNAL:"inside",minorTickWidth:1,plotBands:[],tickLength:10,tickPosition:"inside",tickWidth:2,title:{textAngle:0},zIndex:2},radialX:{plotStripWidth:1,axisTickText:{align:null,distance:15,x:0,y:null},endOffset:0,startOffset:0,plotBands:[],lastTickTextVisible:!1,tickLength:0},radialY:{gridLineInterpolationINTERNAL:"circle",axisTickText:{align:"right",x:-3,y:-2},plotBands:[],lastTickTextVisible:!1,title:{x:4,text:null,textAngle:90}}},li={radial:!0,setOptions:function(t,e){this.options=oe(Ce.defaults,t,this.defaultRadialOptions,this.isXAxis?e.initialOptions.axisX:e.initialOptions.axisY)},_offset:function(){var t=this;ri._offset.call(t),Ht[t.chart.guid].axisOffset[t.side]=0,t.center=t.pane.center=Bt.pie.prototype.getCenter.call(t.pane)},_path:function(t,e){var i=this,n=i.center;return e=Ut(e,n[2]/2-i.offset),Ht[i.chart.guid].renderer.symbols.arc(i.left+n[0],i.top+n[1],e,e,{start:i.startAngleRad,end:i.endAngleRad,open:!0,innerR:0})},_arrange:function(){var t=this;ri._arrange.call(t),t.center&&(t.isCircular?t.transA=(t.endAngleRad-t.startAngleRad)/(t.max-t.min||1):t.transA=t.center[2]/2/(t.max-t.min||1),t.isXAxis&&(t.minPixelPadding=t.transA*t.minPointOffset+(t.inverseOrder?(t.endAngleRad-t.startAngleRad)/4:0)))},_preTicks:function(){var t=this;t.autoConnect&&(t.max+=(t.categoricalValues?1:t.pointRange)||t.closestPointRange)},_dimensions:function(){var t=this;ri._dimensions.call(t),t.center&&(t.len=t.width=t.height=t.isCircular?t.center[2]*(t.endAngleRad-t.startAngleRad)/2:t.center[2]/2)},_position:function(t,e){var i=this;return i.isCircular||(e=i.translate(t),t=i.min),i.postTranslate(i.translate(t),Ut(e,i.center[2]/2)-i.offset)},postTranslate:function(t,e){var i=Ht[this.chart.guid],n=this.center;return t=this.startAngleRad+t,{x:i.plotLeft+n[0]+Y(t)*e,y:i.plotTop+n[1]+H(t)*e}},_bandPath:function(t,e,i){var n,a,r=this,o=r.center,s=r.startAngleRad,l=o[2]/2,d=[Ut(i.outerRadius,"100%"),i.innerRadius,Ut(i.thickness,10)],c=/%$/,h=r.isCircular,p="polygon"===r.options.gridLineInterpolationINTERNAL?r._linePath(t).concat(r._linePath(e,!0)):(h||(d[0]=r.translate(t),d[1]=r.translate(e)),d=xe(d,function(t){return t=c.test(t)?ct(t,10)*l/100:t}),"circle"!==i.shape&&h?(n=s+r.translate(t),a=s+r.translate(e)):(n=-B/2,a=1.5*B,p=!0),Ht[r.chart.guid].renderer.symbols.arc(r.left+o[0],r.top+o[1],d[0],d[0],{start:n,end:a,innerR:Ut(d[1],d[0]-d[2]),open:p}));return p},_linePath:function(i,t){var n,a,r,e=this,o=e.center,s=Ht[e.chart.guid],l=e._position(i);return e.isCircular?r=["M",o[0]+s.plotLeft,o[1]+s.plotTop,"L",l.x,l.y]:"circle"===e.options.gridLineInterpolationINTERNAL?(i=e.translate(i))&&(r=e._path(0,i)):(n=s.axisX[0],r=[],i=e.translate(i),e=n.tickPositions,n.autoConnect&&(e=e.concat([e[0]])),t&&(e=[].concat(e).reverse()),fe(e,function(t,e){a=n._position(t,i),r.push(e?"L":"M",a.x,a.y)})),r},_titlePos:function(){var t=this.center,e=Ht[this.chart.guid],i=this.options.title;return{x:e.plotLeft+t[0]+(i.x||0),y:e.plotTop+t[1]-{high:.5,middle:.25,low:0}[i.align]*t[2]+(i.y||0)}}};Bt.polarline=Kt(Bt.line,{seriesType:"polarline",enablePolarLayout:!0}),ye.polarline=oe(ye.line,ye.polarline),Bt.polararea=Kt(Bt.area,{seriesType:"polararea",enablePolarLayout:!0}),ye.polararea=oe(ye.area,ye.polararea),Bt.polarbar=Kt(Bt.bar,{seriesType:"polarbar",enablePolarLayout:!0}),ye.polarbar=oe(ye.bar,ye.polarbar,{pointRange:0}),Bt.polarspline=Kt(Bt.spline,{seriesType:"polarspline",enablePolarLayout:!0}),ye.polarspline=oe(ye.spline,ye.polarspline),Bt.polarsplinearea=Kt(Bt.splinearea,{seriesType:"polarsplinearea",enablePolarLayout:!0}),ye.polarsplinearea=oe(ye.splinearea,ye.polarsplinearea),Bt.polarscatter=Kt(Bt.scatter,{seriesType:"polarscatter",enablePolarLayout:!0}),ye.polarscatter=oe(ye.scatter,ye.polarscatter),$t(ri,"init",function(t,e,i){var n,a=this,r=Ht[e.guid],o=r.angular,s=r.enablePolarLayout,l=i.isX,d=o&&l,c=e.options,h=i.pane||0;o?(st(a,d?oi:li),(n=!l)&&(a.defaultRadialOptions=si.radialGauge)):s&&(st(a,li),a.defaultRadialOptions=(n=l)?si.radialX:oe(Ce.y,si.radialY)),t.call(a,e,i),d||!o&&!s||(s=a.options,r.panes||(r.panes=[]),a.pane=r.panes[h]=e=new ai(yt(c.pane)[h],e,a),e=e.options,r.inverted=!1,c.zoomType=null,a.startAngleRad=c=(e.startAngle-90)*B/180,a.endAngleRad=e=(Ut(e.endAngle,e.startAngle+360)-90)*B/180,a.offset=s.offset||0,(a.isCircular=n)&&i.max===M&&e-c==2*B&&(a.autoConnect=!0))}),$t(Ge,"_position",function(t,e,i,n,a){var r=this.axis;return r._position?r._position(i):t.call(this,e,i,n,a)}),$t(Ge,"_labelPos",function(t,e,i,n,a,r,o,s,l){var d,c=this.axis,h=r.y,p=r.align,u=(c.translate(this.pos)+c.startAngleRad+B/2)/B*180;return c.radial?(d=c._position(this.pos,c.center[2]/2+Ut(r.distance,-25)),"auto"===r.textAngle?n.attr({textAngle:u}):null===h&&(h=.9*ct(n.styles.lineHeight)-n.getBBox().height/2),null===p&&(p=c.isCircular?20<u&&u<160?"left":200<u&&u<340?"right":"center":"center",n.attr({align:p})),d.x+=r.x,d.y+=h):d=t.call(this,e,i,n,a,r,o,s,l),d}),$t(Ge,"_markPath",function(t,e,i,n,a,r,o){var s=this.axis,o=s.radial?["M",e,i,"L",(s=s._position(this.pos,s.center[2]/2+n)).x,s.y]:t.call(this,e,i,n,a,r,o);return o}),ye.rangearea=oe(ye.area,{drawWidth:1,pointMark:null,baseValue:null,tooltipSettings:{customPointText:'<span style="color:{point.dataSeries.color}">{point.dataSeries.collectionAlias}</span>: <b>{point.low}</b> - <b>{point.high}</b><br/>'},areaInteractivity:!0,dataPointText:{verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},shadow:!1});Ge=Kt(qe,{setOptions:function(t,e){var i=this,n=i.dataSeries,a=n.pointArrayMap,r=0,o=0,s=a.length;if("object"==typeof t&&"number"!=typeof t.length)st(i,t),i.options=t;else if(t.length)for(t.length>s&&("string"==typeof t[0]?i.collectionAlias=t[0]:"number"==typeof t[0]&&(i.x=t[0]),r++);o<s;)i[a[o++]]=t[r++];return i.y=i[n.pointValKey],i.x===M&&n&&(i.x=e===M?n.autoIncrement():e),i},toArray:function(){return[this.low,this.high]}});Bt.rangearea=Kt(Bt.area,{seriesType:"rangearea",pointArrayMap:["low","high"],pointClass:Ge,pointValKey:"low",translate:function(){var e=this.axisY;Bt.area.prototype.translate.apply(this),fe(this.points,function(t){null!==t.y&&(t.plotLow=t.plotY,t.plotHigh=e.translate(t.high,0,1,0,1))})},getSegmentPath:function(t){for(var e,i,n=this,a=[],r=t.length,o=Qe.prototype.getSegmentPath,s=n.options,l=s.step;r--;)e=t[r],a.push({plotX:e.plotX,plotY:e.plotHigh});return i=o.call(n,t),l&&(s.step={left:"right",center:"center",right:"left"}[l=!0===l?"left":l]),o=o.call(n,a),s.step=l,l=[].concat(i,o),o[0]="L",n.areaPath=n.areaPath.concat(i,o),l},drawDataLabels:function(){var t,e,i=this,n=i.data,a=n.length,r=[],o=Qe.prototype,s=i.options.dataPointText,l=Ht[i.chart.guid].inverted;if(s.enabled||i._hasPointLabels){for(t=a;t--;)(e=n[t]).y=e.high,e.plotY=e.plotHigh,r[t]=e.dataLabel,e.dataLabel=e.dataLabelUpper,e.below=!1,l?(s.align="left",s.x=s.xHigh):s.y=s.yHigh;for(o.drawDataLabels.apply(i,arguments),t=a;t--;)(e=n[t]).dataLabelUpper=e.dataLabel,e.dataLabel=r[t],e.y=e.low,e.plotY=e.plotLow,e.below=!0,l?(s.align="right",s.x=s.xLow):s.y=s.yLow;o.drawDataLabels.apply(i,arguments)}},alignDataLabel:Bt.bar.prototype.alignDataLabel,getSymbol:Bt.bar.prototype.getSymbol,drawPoints:i}),ye.rangesplinearea=oe(ye.rangearea),Bt.rangesplinearea=Kt(Bt.rangearea,{seriesType:"rangesplinearea",getPointSpline:Bt.spline.prototype.getPointSpline}),ye.rangebar=oe(ye.bar,ye.rangearea,{drawWidth:1,pointRange:null}),Bt.rangebar=Kt(Bt.rangearea,{seriesType:"rangebar",translate:function(){var i,n=this.axisY;ni.translate.apply(this),fe(this.points,function(t){var e=t.shapeArgs;t.plotHigh=i=n.translate(t.high,0,1,0,1),t.plotLow=t.plotY,e.y=i,e.height=t.plotY-i,t.trackerArgs=e})},drawGraph:i,pointAttrToOptions:ni.pointAttrToOptions,drawPoints:ni.drawPoints,drawTracker:ni.drawTracker,animate:ni.animate});var di=Qe.prototype,i=We.prototype;function ci(t,e,i){var n=this,a=Ht[e.guid];t.call(n,e,i),a.enablePolarLayout&&(n.closeSegment=function(t){var e=n.axisX.center;t.push("L",e[0],e[1])},n.closedStacks=!0)}function hi(t,e){var i,n=this,a=Ht[n.chart.guid],r=n.options.applyAnimation,o=n.group,s=n.markerGroup,l=n.axisX.center,d=a.plotLeft,c=a.plotTop;a.enablePolarLayout?a.renderer.isSVG&&!q&&(!0===r&&(r={}),e?(o.attrSetters.scaleX=o.attrSetters.scaleY=function(t,e){var i=this;return i[e]=t,i.scaleX!==M&&i.scaleY!==M&&i.element.setAttribute("transform","translate("+i.translateX+","+i.translateY+") scale("+i.scaleX+","+i.scaleY+")"),!1},i={translateX:l[0]+d,translateY:l[1]+c,scaleX:0,scaleY:0},o.attr(i),s&&(s.attrSetters=o.attrSetters,s.attr(i))):(o.animate(i={translateX:d,translateY:c,scaleX:1,scaleY:1},r),s&&s.animate(i,r),n.animate=null)):t.call(n,e)}di.toXY=function(t){var e=Ht[this.chart.guid],i=t.plotX,n=t.plotY;t.rectPlotX=i,t.rectPlotY=n,t.deg=i/B*180,n=this.axisX.postTranslate(t.plotX,this.axisY.len-n),t.plotX=t.polarPlotX=n.x-e.plotLeft,t.plotY=t.polarPlotY=n.y-e.plotTop},$t(Bt.area.prototype,"init",ci),$t(Bt.splinearea.prototype,"init",ci),$t(Bt.spline.prototype,"getPointSpline",function(t,e,i,n){var a,r,o,s,l,d,c,h,p,u,g,f;return Ht[this.chart.guid].enablePolarLayout?(r=i.plotX,o=i.plotY,s=e[n-1],g=e[n+1],this.connectEnds&&(s=s||e[e.length-2],g=g||e[1]),s&&g&&(f=s.plotX,d=(1.5*o+s.plotY)/2.5,c=(1.5*r+g.plotX)/2.5,h=(1.5*o+g.plotY)/2.5,p=D.sqrt(D.pow((l=(1.5*r+f)/2.5)-r,2)+D.pow(d-o,2)),u=D.sqrt(D.pow(c-r,2)+D.pow(h-o,2)),g=D.atan2(d-o,l-r),f=D.atan2(h-o,c-r),W(g-(f=B/2+(g+f)/2))>B/2&&(f-=B),l=r+Y(f)*p,d=o+H(f)*p,c=r+Y(B+f)*u,h=o+H(B+f)*u,i.rightContX=c,i.rightContY=h),n?(a=["C",s.rightContX||s.plotX,s.rightContY||s.plotY,l||r,d||o,r,o],s.rightContX=s.rightContY=null):a=["M",r,o]):a=t.call(this,e,i,n),a}),$t(di,"translate",function(t){var e=this;if(t.call(e),Ht[e.chart.guid].enablePolarLayout&&!e.preventPostTranslate)for(var i=e.points,n=i.length;n--;)e.toXY(i[n])}),$t(di,"getSegmentPath",function(t,e){var i=this,n=i.points;return Ht[i.chart.guid].enablePolarLayout&&!1!==i.options.connectEnds&&e[e.length-1]===n[n.length-1]&&null!==n[0].y&&(i.connectEnds=!0,e=[].concat(e,[n[0]])),t.call(i,e)}),$t(di,"animate",hi),$t(ni,"animate",hi),$t(di,"setTooltipPoints",function(t,e){return Ht[this.chart.guid].enablePolarLayout&&st(this.axisX,{tooltipLen:360,tooltipPosName:"deg"}),t.call(this,e)}),$t(ni,"translate",function(t){var e,i,n,a,r=this,o=r.axisX,s=r.axisY.len,l=o.center,d=o.startAngleRad,c=Ht[r.chart.guid].renderer;if(r.preventPostTranslate=!0,t.call(r),o.radial)for(a=(i=r.points).length;a--;)e=(n=i[a]).barX+d,n.shapeType="path",n.shapeArgs={d:c.symbols.arc(l[0],l[1],s-n.plotY,null,{start:e,end:e+n.dataPointWidth,innerR:s-Ut(n.yBottom,s)})},r.toXY(n)}),$t(ni,"alignDataLabel",function(t,e,i,n,a,r){var o;Ht[this.chart.guid].enablePolarLayout?(o=e.rectPlotX/B*180,null===n.align&&(n.align=20<o&&o<160?"left":200<o&&o<340?"right":"center"),null===n.verticalAlign&&(n.verticalAlign=o<45||315<o?"bottom":135<o&&o<225?"top":"middle"),di.alignDataLabel.call(this,e,i,n,a,r)):t.call(this,e,i,n,a,r)}),$t(i,"_index",function(t,e){var i,n,a=Ht[this.chart.guid],e=a.enablePolarLayout?(i=a.axisX[0].center,n=e.chartX-i[0]-a.plotLeft,a=e.chartY-i[1]-a.plotTop,180-I(D.atan2(n,a)/B*180)):t.call(this,e);return e}),$t(i,"_coord",function(t,a){var r=Ht[this.chart.guid],o={axisX:[],axisY:[]};return r.enablePolarLayout?fe(r.axes,function(t){var e=t.isXAxis,i=t.center,n=a.chartX-i[0]-r.plotLeft,i=a.chartY-i[1]-r.plotTop;o[e?"axisX":"axisY"].push({axis:t,value:t.translate(e?B-D.atan2(n,i):D.sqrt(D.pow(n,2)+D.pow(i,2)),!0)})}):o=t.call(this,a),o})}(jQuery,shield,this),shield.ui.Chart.themes.bootstrap={seriesPalette:["#428BCA","#F0AD4E","#5CB85C","#D9534F","#5BC0DE","#474949","#84B3DC","#DDC01A","#878989","#DFF0D8"],primaryHeader:{style:{color:"#333333"}},secondaryHeader:{style:{color:"#333333"}},backgroundColor:"",borderWidth:0,chartAreaBackgroundColor:"",chartAreaShadow:!1,chartAreaBorderWidth:0,seriesSettings:{scatter:{activeSettings:{pointHoveredState:{drawWidth:4}},pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:null,activeSettings:{pointHoveredState:{innerColor:"#FFFFFF"}}}},area:{drawWidth:2,pointMark:{enabled:!1,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#FFFFFF",activeSettings:{pointHoveredState:{innerColor:null}}}},splinearea:{drawWidth:2,pointMark:{enabled:!1,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#FFFFFF",activeSettings:{pointHoveredState:{innerColor:null}}}},line:{drawWidth:3,shadow:!1,mouseInteractions:!0,pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#FFFFFF",activeSettings:{pointHoveredState:{innerColor:null}}}},spline:{drawWidth:3,shadow:!1,activeSettings:{pointHoveredState:{drawWidth:4}},pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#FFFFFF",activeSettings:{pointHoveredState:{innerColor:null}}}},pie:{dataPointText:{style:{color:"#333333"}}},donut:{dataPointText:{style:{color:"#333333"}}}},axisX:{drawWidth:1,drawColor:"#888888",ticksColor:"#888888",axisTickText:{style:{color:"#333333"},y:17},title:{style:{color:"#333333"}}},axisY:{drawColor:"#888888",ticksColor:"#888888",plotStripColor:"#888888",axisTickText:{style:{color:"#333333"}},title:{style:{color:"#333333"}}},chartLegend:{legendItemSettings:{elementStyle:{color:"#333333"},mouseOverStyle:{color:"#000"},disabledStyle:{color:"#aaaaaa"}}}},shield.ui.Chart.themes.dark={seriesPalette:["#1E97E3","#FF8000","#00FF9C","#FF2A00","#FFC500","#C9C9C9","#FC2150","#0077C6","#99c900","#cc6e38"],primaryHeader:{style:{color:"#FFFFFF"}},secondaryHeader:{style:{color:"#F2F2F2"}},backgroundColor:"#2D2D2D",borderWidth:0,chartAreaBackgroundColor:"#2D2D2D",chartAreaShadow:!1,chartAreaBorderWidth:0,seriesSettings:{scatter:{activeSettings:{pointHoveredState:{drawWidth:4}},pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{innerColor:null}}}},area:{drawWidth:2,pointMark:{enabled:!1,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{enabled:!1,drawRadius:4}}}},splinearea:{drawWidth:2,pointMark:{enabled:!1,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{innerColor:null}}}},line:{drawWidth:3,shadow:!1,mouseInteractions:!0,pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{innerColor:null}}}},spline:{drawWidth:3,shadow:!1,activeSettings:{pointHoveredState:{drawWidth:4}},pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{innerColor:null}}}},pie:{dataPointText:{style:{color:"#7E7E7E"}}},donut:{dataPointText:{style:{color:"#7E7E7E"}}}},axisX:{drawColor:"#7E7E7E",ticksColor:"#7E7E7E",axisTickText:{style:{color:"#7E7E7E"},y:17},title:{style:{color:"#7E7E7E"}}},axisY:{drawColor:"#7E7E7E",ticksColor:"#7E7E7E",plotStripColor:"#7E7E7E",plotStripDashStyle:"LongDash",axisTickText:{style:{color:"#7E7E7E"}},title:{style:{color:"#7E7E7E"}}},chartLegend:{legendItemSettings:{elementStyle:{color:"#A5A5A5"},mouseOverStyle:{color:"#FFFFFF"},disabledStyle:{color:"#7E7E7E"}}}};
!function(a,s){var l=s.ui.Widget,t=s.Constants,e=s.Class,n=document,u=t.SVG_NS,A=!!n.createElementNS&&!!n.createElementNS(u,"svg").createSVGRect,f=a.map,B=s.to.int,E=s.error,o="CODABAR",r="CODE-11",i="CODE-39",c="CODE-93",d="CODE-128",h="CODE-128-A",p="CODE-128-B",C="CODE-128-C",g="CODE-25-STANDARD",y="CODE-25-INTERLEAVED",m="EAN-8",x="EAN-13",v="UPC-A",O="UPC-E",b="MSI-10",k="MSI-10-10",T="MSI-11",S="MSI-11-10",_={types:[],addType:function(t){this.types[t.prototype.type]=t},byType:function(t){return this.types[t]?new this.types[t]:null}},w=e.extend({type:null,validateRegExp:null,validate:function(t){return!this.validateRegExp||new RegExp(this.validateRegExp).test(t)},encode:null,checksum:null}),I=w.extend({type:r,validateRegExp:"^[\\d\\-]+$",encode:function(t,e){e&&(t+=this.checksum(t)),t="*"+t+"*";for(var n="",o={0:"101011",1:"1101011",2:"1001011",3:"1100101",4:"1011011",5:"1101101",6:"1001101",7:"1010011",8:"1101001",9:"110101","-":"101101","*":"1011001"},r=0;r<t.length;r++)0<n.length&&(n+="0"),n+=o[t.charAt(r)];return[n]},checksum:function(t){var e=this._checksum(t,10,11);return 10<t.length&&(e+=this._checksum(t+e,9,11)+""),e},_checksum:function(t,e,n){for(var o=0,r=1,i=t.length-1;0<=i;i--)o+=r*("-"==t.charAt(i)?10:B(t.charAt(i))),r=e<=r?1:r+1;return o%n+""}});_.addType(I);var N=w.extend({type:x,validateRegExp:"^[\\d]{12}$",encodingTable:{0:{lo:"0001101",le:"0100111",r:"1110010"},1:{lo:"0011001",le:"0110011",r:"1100110"},2:{lo:"0010011",le:"0011011",r:"1101100"},3:{lo:"0111101",le:"0100001",r:"1000010"},4:{lo:"0100011",le:"0011101",r:"1011100"},5:{lo:"0110001",le:"0111001",r:"1001110"},6:{lo:"0101111",le:"0000101",r:"1010000"},7:{lo:"0111011",le:"0010001",r:"1000100"},8:{lo:"0110111",le:"0001001",r:"1001000"},9:{lo:"0001011",le:"0010111",r:"1110100"}},parityTable:{0:["lo","lo","lo","lo","lo","lo"],1:["lo","lo","le","lo","le","le"],2:["lo","lo","le","le","lo","le"],3:["lo","lo","le","le","le","lo"],4:["lo","le","lo","lo","le","le"],5:["lo","le","le","lo","lo","le"],6:["lo","le","le","le","lo","lo"],7:["lo","le","lo","le","lo","le"],8:["lo","le","lo","le","le","lo"],9:["lo","le","le","lo","le","lo"]},encode:function(t,e){e&&(t+=this.checksum(t));var n,o=t.substring(0,1),r=t.substring(1,7),i=t.substring(7),c="",e=[],t=0,d=this.encodingTable,h=this.parityTable;for(c+="101",e.push(0,1,2),n=0;n<r.length;n++)c+=d[r.charAt(n)][h[o][n]];for(t=(c+="01010").length,e.push(t-5,t-4,t-3,t-2,t-1),n=0;n<i.length;n++)c+=d[i.charAt(n)].r;return t=(c+="101").length,e.push(t-3,t-2,t-1),[c,e]},checksum:function(t){for(var e=0,n=1,o=t.length-1;0<=o;o--)e+=B(t.charAt(o))*(n++%2?3:1);return 10-e%10+""}});_.addType(N);t=N.extend({type:m,validateRegExp:"^[\\d]{7}$",encode:function(t,e){e&&(t+=this.checksum(t));var n,o=t.substring(0,4),r=t.substring(4),i="",e=[],t=0,c=this.encodingTable;this.parityTable;for(i+="101",e.push(0,1,2),n=0;n<o.length;n++)i+=c[o.charAt(n)].lo;for(t=(i+="01010").length,e.push(t-5,t-4,t-3,t-2,t-1),n=0;n<r.length;n++)i+=c[r.charAt(n)].r;return t=(i+="101").length,e.push(t-3,t-2,t-1),[i,e]}});_.addType(t);var R=N.extend({type:v,validateRegExp:"^\\d{11}$",encode:function(t,e){t=N.prototype.encode.call(this,"0"+t,e),e=t[0].length;return t[1].push(3,4,5,6,7,8,9,e-4,e-5,e-6,e-7,e-8,e-9,e-10),t},checksum:function(t){return 11==t.length&&(t="0"+t),N.prototype.checksum.call(this,t)}});_.addType(R);I=R.extend({type:O,validateRegExp:"^[0|1]\\d{6}$",_upce2upca:function(t){var e=t.substring(t.length-1);return"0"==e||"1"==e||"2"==e?t.substring(0,2)+t.charAt(5)+"0000"+t.substring(2,5):"3"==e?t.substring(0,3)+"00000"+t.substring(4,6):"4"==e?t.substring(0,4)+"00000"+t.charAt(4):t.substring(0,5)+"0000"+e},encode:function(t,e){for(var n=this.checksum(t),o="",r=t.charAt(0),i=t.substring(1),c=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]][B(n)][B(r)],d=0;d<i.length;d++)o+=this.encodingTable[i.charAt(d)]["O"==c.charAt(d)?"lo":"le"];return["101"+o+"010101",[0,1,2,45,46,47,48,49,50]]},checksum:function(t){var e=t.charAt(0),t=t.substring(1);return R.prototype.checksum.call(this,e+this._upce2upca(t))}});_.addType(I);t=w.extend({type:i,validateRegExp:"^[0-9A-Z\\-\\. \\$\\/\\+\\%\\*]+$",encode:function(t,e){e&&(t+=this.checksum(t)),t="*"+t+"*";for(var n="",o={0:"101001101101",1:"110100101011",2:"101100101011",3:"110110010101",4:"101001101011",5:"110100110101",6:"101100110101",7:"101001011011",8:"110100101101",9:"101100101101",A:"110101001011",B:"101101001011",C:"110110100101",D:"101011001011",E:"110101100101",F:"101101100101",G:"101010011011",H:"110101001101",I:"101101001101",J:"101011001101",K:"110101010011",L:"101101010011",M:"110110101001",N:"101011010011",O:"110101101001",P:"101101101001",Q:"101010110011",R:"110101011001",S:"101101011001",T:"101011011001",U:"110010101011",V:"100110101011",W:"110011010101",X:"100101101011",Y:"110010110101",Z:"100110110101","-":"100101011011",".":"110010101101"," ":"100110101101",$:"100100100101","/":"100100101001","+":"100101001001","%":"101001001001","*":"100101101101"},r=0;r<t.length;r++)0<r&&(n+="0"),n+=o[t.charAt(r)];return[n]},checksum:function(t){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%*",n=0,o=0;o<t.length;o++)n+=e.indexOf(t.charAt(o));return e.charAt(n%43)}});_.addType(t);I=w.extend({type:c,validateRegExp:"^[0-9A-Z\\-\\. \\$\\/\\+\\%\\*]+$",encode:function(t,e){e&&(t+=this.checksum(t)),t="*"+t+"*";for(var n="",o={0:"100010100",1:"101001000",2:"101000100",3:"101000010",4:"100101000",5:"100100100",6:"100100010",7:"101010000",8:"100010010",9:"100001010",A:"110101000",B:"110100100",C:"110100010",D:"110010100",E:"110010010",F:"110001010",G:"101101000",H:"101100100",I:"101100010",J:"100110100",K:"100011010",L:"101011000",M:"101001100",N:"101000110",O:"100101100",P:"100010110",Q:"110110100",R:"110110010",S:"110101100",T:"110100110",U:"110010110",V:"110011010",W:"101101100",X:"101100110",Y:"100110110",Z:"100111010","-":"100101110",".":"111010100"," ":"111010010",$:"111001010","/":"101101110","+":"101110110","%":"110101110","@":"100100110","#":"111011010","&":"111010110","~":"100110010","*":"101011110"},r=0;r<t.length;r++)n+=o[t.charAt(r)];return[n+="1"]},checksum:function(t){var e=t.length;return t+=this._checksum(t,20,47),(t+=this._checksum(t,15,47)).substring(e,e+2)},_checksum:function(t,e,n){for(var o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%@#&~*",r=0,i=1,c=t.length-1;0<=c;c--)r+=o.indexOf(t.charAt(c))*i++,e<i&&(i=1);return o.charAt(r%n)}});_.addType(I);t=w.extend({type:"POSTNET",validate:function(t){return/^\d+$/.test(t)&&(5==t.length||9==t.length||11==t.length)},encode:function(t,e){e&&(t+=this.checksum(t));for(var n="",o=["11000","00011","00101","00110","01001","01010","01100","10001","10010","10100"],r=0;r<t.length;r++)n+=o[t.charAt(r)];return["1"+n+"1"]},checksum:function(t){for(var e=0,n=0;n<t.length;n++)e+=B(t.charAt(n));return 10-e%10+""}});_.addType(t);I=w.extend({validateRegExp:"^\\d+$",encode:function(t,e){e&&(t+=this.checksum(t));for(var n="",o=["100100100100","100100100110","100100110100","100100110110","100110100100","100110100110","100110110100","100110110110","110100100100","110100100110"],r=0;r<t.length;r++)n+=o[t.charAt(r)];return["110"+n+"1001"]},_mod10Checksum:function(t){for(var e=0,n=0,o=t.length-1;0<=o;o--){var r=B(t.charAt(o))*(n%2?1:2);e+=9<r?B((r+="").charAt(0))+B(r.charAt(1)):r,n++}return 9*e%10+""},_mod11Checksum:function(t){for(var e=0,n=2,o=t.length-1;0<=o;o--)e+=B(t.charAt(o))*n,n=7<=n?2:n+1;return 11-e%11+""}}),t=I.extend({type:b,checksum:function(t){return this._mod10Checksum(t)}});_.addType(t);t=I.extend({type:k,checksum:function(t){var e=this._mod10Checksum(t);return e+this._mod10Checksum(t+e)}});_.addType(t);t=I.extend({type:T,checksum:function(t){return this._mod11Checksum(t)}});_.addType(t);t=I.extend({type:S,checksum:function(t){var e=this._mod11Checksum(t);return e+this._mod10Checksum(t+e)}});_.addType(t);I=w.extend({type:o,validateRegExp:"^[A|B|C|D][\\d\\-\\$\\:\\/\\.\\+]+[A|B|C|D]$",encode:function(t,e){for(var n="",o={0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"101100110011",A:"1011001001",B:"1010010011",C:"1001001011",D:"1010011001"},r=0;r<t.length;r++)0<r&&(n+="0"),n+=o[t.charAt(r)];return[n]},checksum:function(t){return""}});_.addType(I);t=w.extend({type:d,encodingTable:[{A:" ",B:" ",C:"00",E:"11011001100"},{A:"!",B:"!",C:"01",E:"11001101100"},{A:'"',B:'"',C:"02",E:"11001100110"},{A:"#",B:"#",C:"03",E:"10010011000"},{A:"$",B:"$",C:"04",E:"10010001100"},{A:"%",B:"%",C:"05",E:"10001001100"},{A:"&",B:"&",C:"06",E:"10011001000"},{A:"'",B:"'",C:"07",E:"10011000100"},{A:"(",B:"(",C:"08",E:"10001100100"},{A:")",B:")",C:"09",E:"11001001000"},{A:"*",B:"*",C:"10",E:"11001000100"},{A:"+",B:"+",C:"11",E:"11000100100"},{A:",",B:",",C:"12",E:"10110011100"},{A:"-",B:"-",C:"13",E:"10011011100"},{A:".",B:".",C:"14",E:"10011001110"},{A:"/",B:"/",C:"15",E:"10111001100"},{A:"0",B:"0",C:"16",E:"10011101100"},{A:"1",B:"1",C:"17",E:"10011100110"},{A:"2",B:"2",C:"18",E:"11001110010"},{A:"3",B:"3",C:"19",E:"11001011100"},{A:"4",B:"4",C:"20",E:"11001001110"},{A:"5",B:"5",C:"21",E:"11011100100"},{A:"6",B:"6",C:"22",E:"11001110100"},{A:"7",B:"7",C:"23",E:"11101101110"},{A:"8",B:"8",C:"24",E:"11101001100"},{A:"9",B:"9",C:"25",E:"11100101100"},{A:":",B:":",C:"26",E:"11100100110"},{A:";",B:";",C:"27",E:"11101100100"},{A:"<",B:"<",C:"28",E:"11100110100"},{A:"=",B:"=",C:"29",E:"11100110010"},{A:">",B:">",C:"30",E:"11011011000"},{A:"?",B:"?",C:"31",E:"11011000110"},{A:"@",B:"@",C:"32",E:"11000110110"},{A:"A",B:"A",C:"33",E:"10100011000"},{A:"B",B:"B",C:"34",E:"10001011000"},{A:"C",B:"C",C:"35",E:"10001000110"},{A:"D",B:"D",C:"36",E:"10110001000"},{A:"E",B:"E",C:"37",E:"10001101000"},{A:"F",B:"F",C:"38",E:"10001100010"},{A:"G",B:"G",C:"39",E:"11010001000"},{A:"H",B:"H",C:"40",E:"11000101000"},{A:"I",B:"I",C:"41",E:"11000100010"},{A:"J",B:"J",C:"42",E:"10110111000"},{A:"K",B:"K",C:"43",E:"10110001110"},{A:"L",B:"L",C:"44",E:"10001101110"},{A:"M",B:"M",C:"45",E:"10111011000"},{A:"N",B:"N",C:"46",E:"10111000110"},{A:"O",B:"O",C:"47",E:"10001110110"},{A:"P",B:"P",C:"48",E:"11101110110"},{A:"Q",B:"Q",C:"49",E:"11010001110"},{A:"R",B:"R",C:"50",E:"11000101110"},{A:"S",B:"S",C:"51",E:"11011101000"},{A:"T",B:"T",C:"52",E:"11011100010"},{A:"U",B:"U",C:"53",E:"11011101110"},{A:"V",B:"V",C:"54",E:"11101011000"},{A:"W",B:"W",C:"55",E:"11101000110"},{A:"X",B:"X",C:"56",E:"11100010110"},{A:"Y",B:"Y",C:"57",E:"11101101000"},{A:"Z",B:"Z",C:"58",E:"11101100010"},{A:"[",B:"[",C:"59",E:"11100011010"},{A:"\\",B:"\\",C:"60",E:"11101111010"},{A:"]",B:"]",C:"61",E:"11001000010"},{A:"^",B:"^",C:"62",E:"11110001010"},{A:"_",B:"_",C:"63",E:"10100110000"},{A:"NUL",B:"`",C:"64",E:"10100001100"},{A:"SOH",B:"a",C:"65",E:"10010110000"},{A:"STX",B:"b",C:"66",E:"10010000110"},{A:"ETX",B:"c",C:"67",E:"10000101100"},{A:"EOT",B:"d",C:"68",E:"10000100110"},{A:"ENQ",B:"e",C:"69",E:"10110010000"},{A:"ACK",B:"f",C:"70",E:"10110000100"},{A:"BEL",B:"g",C:"71",E:"10011010000"},{A:"BS",B:"h",C:"72",E:"10011000010"},{A:"HT",B:"i",C:"73",E:"10000110100"},{A:"LF",B:"j",C:"74",E:"10000110010"},{A:"VT",B:"k",C:"75",E:"11000010010"},{A:"FF",B:"l",C:"76",E:"11001010000"},{A:"CR",B:"m",C:"77",E:"11110111010"},{A:"SO",B:"n",C:"78",E:"11000010100"},{A:"SI",B:"o",C:"79",E:"10001111010"},{A:"DLE",B:"p",C:"80",E:"10100111100"},{A:"DC1",B:"q",C:"81",E:"10010111100"},{A:"DC2",B:"r",C:"82",E:"10010011110"},{A:"DC3",B:"s",C:"83",E:"10111100100"},{A:"DC4",B:"t",C:"84",E:"10011110100"},{A:"NAK",B:"u",C:"85",E:"10011110010"},{A:"SYN",B:"v",C:"86",E:"11110100100"},{A:"ETB",B:"w",C:"87",E:"11110010100"},{A:"CAN",B:"x",C:"88",E:"11110010010"},{A:"EM",B:"y",C:"89",E:"11011011110"},{A:"SUB",B:"z",C:"90",E:"11011110110"},{A:"ESC",B:"{",C:"91",E:"11110110110"},{A:"FS",B:"|",C:"92",E:"10101111000"},{A:"GS",B:"}",C:"93",E:"10100011110"},{A:"RS",B:"~",C:"94",E:"10001011110"},{A:"US",B:"DEL",C:"95",E:"10111101000"},{A:"FNC3",B:"FNC3",C:"96",E:"10111100010"},{A:"FNC2",B:"FNC2",C:"97",E:"11110101000"},{A:"SHIFT",B:"SHIFT",C:"98",E:"11110100010"},{A:"CodeC",B:"CodeC",C:"99",E:"10111011110"},{A:"CodeB",B:"FNC4",C:"CodeB",E:"10111101110"},{A:"FNC4",B:"CodeA",C:"CodeA",E:"11101011110"},{A:"FNC1",B:"FNC1",C:"FNC1",E:"11110101110"},{A:"StartA",B:"StartA",C:"StartA",E:"11010000100"},{A:"StartB",B:"StartB",C:"StartB",E:"11010010000"},{A:"StartC",B:"StartC",C:"StartC",E:"11010011100"},{A:"Stop",B:"Stop",C:"Stop",E:"11000111010"}],validate:function(t){for(var e=0;e<t.length;e++)if(!this._getEncInfo(t.charAt(e)))return!1;return!0},_encode:function(t,e){e=e||!1;var n=[],o=this._findPrefix(t),r=o[0][0],t=o[1],o=o[2],n=n.concat(this._encodeCodeset(t,e?"Start"+r:"Code"+r,r));return(n=o&&0<o.length?n.concat(this._encode(o,!1)):n)&&0<n.length&&(n[0]=n[0].replace("Code","Start")),n},_findPrefix:function(t){for(var e,n,o=this,r="",i="",c=0;c<t.length;c++)if(n=t.charAt(c),0!==c){if(e=i,o._getEncInfo(n,"A")||(i=i.replace("A","")),o._getEncInfo(n,"B")||(i=i.replace("B","")),(i=!o._getEncInfo(n,"C")?i.replace("C",""):i).length<=0)return[e.split(""),r,t.substring(c)];r+=n}else o._getEncInfo(n,"A")&&(i+="A"),o._getEncInfo(n,"B")&&(i+="B"),o._getEncInfo(n,"C")&&(i+="C"),r+=n;return[i.split(""),t,""]},_encodeOptimized:function(t){t=this._encode(t,!0),t=this._optimizeForC(t);return(t=this._optimizeShifts(t))&&0<t.length&&(t[0]=t[0].replace("Code","Start")),t},_optimizeForC:function(t){var e,n=this._splitOptimizeForC(t),t=n[0],o=n[1],n=n[2],r=[];if(t&&0<t.length&&(r=r.concat(t)),o&&0<o.length)for(r.push(o[0]),e=1;e<o.length;e+=2)r.push(o[e]+""+o[e+1]);return r=n&&0<n.length?r.concat(this._optimizeForC(n)):r},_splitOptimizeForC:function(t){if(!t||t.length<=0)return[[],[],[]];if(!/^(Code|Start)[A|B|C]$/.test(t[0]))return[t,[],[]];if(3==t.length&&/^\d$/.test(t[1])&&/^\d$/.test(t[2]))return[[],["CodeC",t[1],t[2]],[]];for(var e,n,o=[],r=-1,i=-1,c=0;c<t.length;c++)if(/^(Code|Start)[A|B|C]$/.test(t[c])&&(e=t[c].substring(t[c].length-1)),/^\d$/.test(t[c])&&-1==r&&(r=c,i=-1),-1<r&&!/^\d$/.test(t[c])&&(i=c-1),-1<r&&c>=t.length-1&&(i=c),-1<r&&-1<i){if(4<=(n=i-r+1))return[1==r?[]:t.slice(0,r),["CodeC"].concat(t.slice(r,n=i+(n%2==0?1:0))),o=n<t.length?["Code"+e].concat(t.slice(n)):o];r=i=-1}return[t,[],[]]},_optimizeShifts:function(t){return t},_encodeCodeset:function(t,e,n){return"A"==n?this._encodeA(t,e):"B"==n?this._encodeB(t,e):"C"==n?this._encodeC(t,e):null},_encodeA:function(t,e){return[e].concat(t.split(""))},_encodeB:function(t,e){return[e].concat(t.split(""))},_encodeC:function(t,e){for(var n=[e],o=0;o<t.length;o+=2)n.push(t.charAt(o)+t.charAt(o+1));return n},_getEncInfo:function(t,e){e=e||null;for(var n,o=this.encodingTable,r=0;r<o.length;r++)if(e){if(o[r][e]==t)return(n=o[r]).pos=r,n;if("100"==t||"101"==t||"102"==t)return(n=o[B(t)]).pos=r,n}else if(o[r].A==t||o[r].B==t||o[r].C==t)return(n=o[r]).pos=r,n;return null},encode:function(t,e){for(var n=this,o="",r=n.checksum(t),i=n._encodeOptimized(t),c=i[0].charAt(i[0].length-1),d=0;d<i.length;d++)o+=n._getEncInfo(i[d],c).E,/^(Start|Code)[A|B|C]$/.test(i[d])&&(c=i[d].charAt(i[d].length-1));return[o+=n._getEncInfo(r,"C").E+n.encodingTable[106].E+"11"]},checksum:function(t){for(var e=this._encodeOptimized(t),n=this._getEncInfo(e[0]).pos,o=1;o<e.length;o++)n+=this._getEncInfo(e[o]).pos*o;return 10<(t=n%103)?t+"":"0"+t}});_.addType(t);I=t.extend({type:h,validate:function(t){for(var e=0;e<t.length;e++)if(!this._getEncInfo(t.charAt(e),"A"))return!1;return!0},_encodeOptimized:function(t){return this._encodeA(t,"StartA")}});_.addType(I);I=t.extend({type:p,validate:function(t){for(var e=0;e<t.length;e++)if(!this._getEncInfo(t.charAt(e),"B"))return!1;return!0},_encodeOptimized:function(t){return this._encodeB(t,"StartB")}});_.addType(I);t=t.extend({type:C,validate:function(t){return/^\d+$/.test(t)&&t.length%2==0},_encodeOptimized:function(t){return this._encodeC(t,"StartC")}});_.addType(t);w=w.extend({type:g,validateRegExp:"^[\\d\\-]+$",encode:function(t,e){e&&(t+=this.checksum(t)),t="["+t+"]";for(var n="",o={0:"10101110111010",1:"11101010101110",2:"10111010101110",3:"11101110101010",4:"10101110101110",5:"11101011101010",6:"10111011101010",7:"10101011101110",8:"11101010111010",9:"10111010111010","[":"11011010","]":"1101011"},r=0;r<t.length;r++)n+=o[t.charAt(r)];return[n]},checksum:function(t){return this._checksum(t,3,1,10)},_checksum:function(t,e,n,o){for(var r="0123456789",i=0,c=e,d=t.length-1;0<=d;d--)i+=r.indexOf(t.charAt(d))*c,c=c==e?n:e;return r.charAt(i=0!==(i%=o)?o-i:i)}});_.addType(w);w=w.extend({type:y,encode:function(t,e){e&&(t+=this.checksum(t)),t="["+(t=t.length%2!=0?"0"+t:t)+"]";for(var n,o="",r={"00":"10101100110010","01":"10010110110100","02":"10100110110100","03":"10010011011010","04":"10101100110100","05":"10010110011010","06":"10100110011010","07":"10101101100100","08":"10010110110010","09":"10100110110010",10:"11010100100110",11:"11001010101100",12:"11010010101100",13:"11001001010110",14:"11010100101100",15:"11001010010110",16:"11010010010110",17:"11010101001100",18:"11001010100110",19:"11010010100110",20:"10110100100110",21:"10011010101100",22:"10110010101100",23:"10011001010110",24:"10110100101100",25:"10011010010110",26:"10110010010110",27:"10110101001100",28:"10011010100110",29:"10110010100110",30:"11011010010010",31:"11001101010100",32:"11011001010100",33:"11001100101010",34:"11011010010100",35:"11001101001010",36:"11011001001010",37:"11011010100100",38:"11001101010010",39:"11011001010010",40:"10101100100110",41:"10010110101100",42:"10100110101100",43:"10010011010110",44:"10101100101100",45:"10010110010110",46:"10100110010110",47:"10101101001100",48:"10010110100110",49:"10100110100110",50:"11010110010010",51:"11001011010100",52:"11010011010100",53:"11001001101010",54:"11010110010100",55:"11001011001010",56:"11010011001010",57:"11010110100100",58:"11001011010010",59:"11010011010010",60:"10110110010010",61:"10011011010100",62:"10110011010100",63:"10011001101010",64:"10110110010100",65:"10011011001010",66:"10110011001010",67:"10110110100100",68:"10011011010010",69:"10110011010010",70:"10101001100110",71:"10010101101100",72:"10100101101100",73:"10010010110110",74:"10101001101100",75:"10010100110110",76:"10100100110110",77:"10101011001100",78:"10010101100110",79:"10100101100110",80:"11010100110010",81:"11001010110100",82:"11010010110100",83:"11001001011010",84:"11010100110100",85:"11001010011010",86:"11010010011010",87:"11010101100100",88:"11001010110010",89:"11010010110010",90:"10110100110010",91:"10011010110100",92:"10110010110100",93:"10011001011010",94:"10110100110100",95:"10011010011010",96:"10110010011010",97:"10110101100100",98:"10011010110010",99:"10110010110010","[":"1010","]":"1101"},i=0;i<t.length;i+=n)n=isNaN(t.charAt(i))?1:2,o+=r[t.substr(i,n)];return[o]}});_.addType(w);for(var z={types:[],addType:function(t){this.types[t.prototype.type]=t},byType:function(t,e){return this.types[t]?new this.types[t](e):null}},F=e.extend({type:null,init:function(t){var e=t.style;this.options=t,this.width=t.width-e.paddingLeft-e.paddingRight,this.height=t.height-e.paddingTop-e.paddingBottom,A||n.namespaces.scvbarcode||n.namespaces.add("scvbarcode","urn:schemas-microsoft-com:vml","#default#VML")},all:function(t,e){var n=this,o=n.options,r=o.style,i=o.text.style,c="",d=function(t){return a("<div/>").html(t).text()},h="",l=100<n.width?d("&#68;&#101;&#109;&#111;&#32;&#86;&#101;&#114;&#115;&#105;&#111;&#110;"):d("&#68;&#101;&#109;&#111;"),d=d("&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#119;&#119;&#119;&#46;&#115;&#104;&#105;&#101;&#108;&#100;&#117;&#105;&#46;&#99;&#111;&#109;");s.guid();return r.paddingLeft&&(c+="margin-left:"+r.paddingLeft+"px;"),r.paddingTop&&(c+="margin-top:"+r.paddingTop+"px;"),r.paddingBottom&&(c+="margin-bottom:"+r.paddingBottom+"px;"),r.paddingRight&&(c+="margin-right:"+r.paddingRight+"px;"),h+=A?'<text x="'+n.width+'" y="'+(n.height-i.paddingBottom)+'" fill="#999999" text-anchor="end" font-size="12" style="cursor:pointer; z-index:150; font-size:12px;" onClick="javascript: location.href = \''+d+"';\">"+l+"</text>":'<div style="position:absolute; width:'+(n.width+2)+"px; text-align:right; color:#999999; cursor:pointer; z-index:150; top:"+(o.height-12-i.paddingBottom)+'px; font-size:12px;"><a href="'+d+'" style="color:#999999; text-decoration:none; background-color:#fdfdfd; font-size:12px;">'+l+"</a></div>",A?'<svg xmlns="'+u+'" version="1.1" width="'+n.width+'" height="'+n.height+'" shape-rendering="crispEdges"'+(c?' style="'+c+'" ':"")+">"+t+e+h+"</svg>":'<scvbarcode:group style="position:relative; width:'+n.width+"px; height:"+n.height+"px; "+c+'" coordsize="'+n.width+","+n.height+'">'+t+e+h+"</scvbarcode:group>"},barcode:function(t){for(var e,n=this.options.style,o=this.options.text,r=o.style,i=t[0],c=t[1]||[],r=o.enabled?r.fontSize+r.paddingTop+r.paddingBottom:0,d=this.width/i.length,h=this.height-r-(0<c.length?5:0),l=5+h,a=[],s=0;s<i.length;s++){var u=i.charAt(s);if("1"==u){for(var E=s*d,p=h,C=0;C<c.length;C++)if(c[C]==s){p=l;break}var g={x1:E,y1:0,x2:E,y2:p,w:d};1==B(e)&&(g={x1:(E=a.pop()).x1,y1:E.y1,x2:E.x2,y2:E.y2,w:E.w+d}),a.push(g)}e=u}return f(a,function(t){return A?'<line x1="'+(t.x1+t.w/2)+'" y1="'+t.y1+'" x2="'+(t.x2+t.w/2)+'" y2="'+t.y2+'" style="stroke:'+n.color+"; stroke-width:"+t.w+'" />':'<scvbarcode:line from="'+(t.x1+t.w/2)+","+t.y1+'" to="'+(t.x2+t.w/2)+","+t.y2+'" strokecolor="'+n.color+'" strokeweight="'+t.w+'px;" stroke="true" />'}).join("")},text:function(t){var e=this,n=e.options.text,o=n.style,r=n.enabled?o.fontSize+o.paddingTop+o.paddingBottom:0;return n.enabled?A?'<text x="'+e.width/2+'" y="'+(e.height-o.paddingBottom)+'" fill="'+o.color+'" text-anchor="middle" font-size="'+o.fontSize+'" font-family="'+o.fontFamily+';">'+t+"</text>":'<div style="position:absolute; width:'+e.width+"px; text-align:center; color:"+o.color+"; top:"+(e.options.height-r-o.paddingBottom)+"px; font-size:"+o.fontSize+"px; font-family:"+o.fontFamily+';">'+t+"</div>":""}}),$=[o,r,i,c,d,h,p,C,m,x,v,O,b,k,T,S,g,y],D=0;D<$.length;D++)z.addType(F.extend({type:$[D]}));y=F.extend({type:"POSTNET",barcode:function(t){for(var e=this.options.style,n=this.options.text,o=n.style,r=t[0],o=n.enabled?o.fontSize+o.paddingTop+o.paddingBottom:0,i=this.width/(2*r.length-1),c=this.height-o,d=[],h=0;h<r.length;h++){var l=h*i*2,a="1"==r.charAt(h)?0:c/2;d.push({x1:l,y1:a,x2:l,y2:c,w:i})}return f(d,function(t){return A?'<line x1="'+(t.x1+t.w/2)+'" y1="'+t.y1+'" x2="'+(t.x2+t.w/2)+'" y2="'+t.y2+'" style="stroke:'+e.color+"; stroke-width:"+t.w+'" />':'<scvbarcode:line from="'+(t.x1+t.w/2)+","+t.y1+'" to="'+(t.x2+t.w/2)+","+t.y2+'" strokecolor="'+e.color+'" strokeweight="'+t.w+'px;" stroke="true" />'}).join("")}});z.addType(y);y=l.extend({init:function(){l.fn.init.apply(this,arguments);var t,e=this.options,n=e.style,o=e.type,r=e.dieOnError,i=e.value+"",c=_.byType(o),d=a(this.element),h="";c?c.validate(i)?(t=z.byType(o,e))?(d.css({background:n.background,borderColor:n.borderColor,borderStyle:n.borderStyle,borderWidth:n.borderWidth,width:e.width,height:e.height}),n=c.encode(i,e.checksum),n=t.barcode(n),e.text.enabled&&(h=t.text(i+(e.text.checksum?c.checksum(i):""))),d.html(t.all(n,h))):E("Invalid barcode type (2)",r):E("Invalid barcode value: "+i,r):E("Invalid barcode type: "+o,r)},destroy:function(){this.element.empty(),l.fn.destroy.call(this)}});y.defaults={value:null,type:null,checksum:!0,width:300,height:100,style:{background:null,borderColor:null,borderStyle:null,borderWidth:0,color:"#000000",paddingTop:5,paddingLeft:5,paddingRight:5,paddingBottom:5},text:{enabled:!1,checksum:!1,style:{color:"#000000",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif",fontSize:13,paddingTop:2,paddingBottom:0}}},s.ui.plugin("Barcode",y)}(jQuery,shield);
!function(g,_){function C(e){return L(e,10).toString(2)}function V(e,t){for(e+="";e.length<t;)e="0"+e;return e}function h(e,t){for(e+="";e.length<t;)e+="0";return e}var d=_.ui.Widget,e=_.Constants,t=_.Class,r=document,v=e.SVG_NS,M=!!r.createElementNS&&!!r.createElementNS(v,"svg").createSVGRect,p=g.map,L=_.to.int,f=_.error,n="byte",o="numeric",l="alphanumeric",u={modes:[],addMode:function(e){this.modes[e.prototype.mode]=e},byMode:function(e){return this.modes[e]?new this.modes[e]:null}},i=t.extend({mode:null,codeMode:null,validateRegex:null,_verErrLenTable:{"1L":152,"1M":128,"1Q":104,"1H":72,"2L":272,"2M":224,"2Q":176,"2H":128,"3L":440,"3M":352,"3Q":272,"3H":208,"4L":640,"4M":512,"4Q":384,"4H":288,"5L":864,"5M":688,"5Q":496,"5H":368,"6L":1088,"6M":864,"6Q":608,"6H":480,"7L":1248,"7M":992,"7Q":704,"7H":528,"8L":1552,"8M":1232,"8Q":880,"8H":688,"9L":1856,"9M":1456,"9Q":1056,"9H":800,"10L":2192,"10M":1728,"10Q":1232,"10H":976,"11L":2592,"11M":2032,"11Q":1440,"11H":1120,"12L":2960,"12M":2320,"12Q":1648,"12H":1264,"13L":3424,"13M":2672,"13Q":1952,"13H":1440,"14L":3688,"14M":2920,"14Q":2088,"14H":1576,"15L":4184,"15M":3320,"15Q":2360,"15H":1784,"16L":4712,"16M":3624,"16Q":2600,"16H":2024,"17L":5176,"17M":4056,"17Q":2936,"17H":2264,"18L":5768,"18M":4504,"18Q":3176,"18H":2504,"19L":6360,"19M":5016,"19Q":3560,"19H":2728,"20L":6888,"20M":5352,"20Q":3880,"20H":3080,"21L":7456,"21M":5712,"21Q":4096,"21H":3248,"22L":8048,"22M":6256,"22Q":4544,"22H":3536,"23L":8752,"23M":6880,"23Q":4912,"23H":3712,"24L":9392,"24M":7312,"24Q":5312,"24H":4112,"25L":10208,"25M":8e3,"25Q":5744,"25H":4304,"26L":10960,"26M":8496,"26Q":6032,"26H":4768,"27L":11744,"27M":9024,"27Q":6464,"27H":5024,"28L":12248,"28M":9544,"28Q":6968,"28H":5288,"29L":13048,"29M":10136,"29Q":7288,"29H":5608,"30L":13880,"30M":10984,"30Q":7880,"30H":5960,"31L":14744,"31M":11640,"31Q":8264,"31H":6344,"32L":15640,"32M":12328,"32Q":8920,"32H":6760,"33L":16568,"33M":13048,"33Q":9368,"33H":7208,"34L":17528,"34M":13800,"34Q":9848,"34H":7688,"35L":18448,"35M":14496,"35Q":10288,"35H":7888,"36L":19472,"36M":15312,"36Q":10832,"36H":8432,"37L":20528,"37M":15936,"37Q":11408,"37H":8768,"38L":21616,"38M":16816,"38Q":12016,"38H":9136,"39L":22496,"39M":17728,"39Q":12656,"39H":9776,"40L":23648,"40M":18672,"40Q":13328,"40H":10208},_errorCorrectionToMask:{L:"01",M:"00",Q:"11",H:"10"},_formatInformation:{"00000":"101010000010010","00001":"101000100100101","00010":"101111001111100","00011":"101101101001011","00100":"100010111111001","00101":"100000011001110","00110":"100111110010111","00111":"100101010100000","01000":"111011111000100","01001":"111001011110011","01010":"111110110101010","01011":"111100010011101","01100":"110011000101111","01101":"110001100011000","01110":"110110001000001","01111":"110100101110110",1e4:"001011010001001",10001:"001001110111110",10010:"001110011100111",10011:"001100111010000",10100:"000011101100010",10101:"000001001010101",10110:"000110100001100",10111:"000100000111011",11e3:"011010101011111",11001:"011000001101000",11010:"011111100110001",11011:"011101000000110",11100:"010010010110100",11101:"010000110000011",11110:"010111011011010",11111:"010101111101101"},validate:function(e){return!this.validateRegex||new RegExp(this.validateRegex).test(e)},encode:function(e,t){var r=this,n=r._getVersion(e,t),o=21+4*(n-1),l=8+o,i=n+t,a=r._getFormatData(e,t),c=r.encodeValue(e),s=r._getDataLength(e,t),e=4<s-(a.length+c.length)?4:s-(a.length+c.length),c=h(c,c.length+e),a=r._getBinaryValues(a+c);return c=a.join(""),c=r._padEncodedToLength(c,s),a=r._getBinaryValues(c),a=r._getIntegerValues(a),c=r._getEC(i,void 0,a),r._getBinaryMatrix(c,n,o,l,t)},encodeValue:null,_getBinaryMatrix:function(e,t,r,n,o){for(var l,i,a,c,s,h,d,f=this,u=["000","001","010","011","100","101","110","111"],g=[],_=[],v=[],M=f._getPositionAdjustmentsTable(),p=0;p<n;p++)for(_[p]=[],s=0;s<n;s++)_[p][s]=0;for(p=0;p<r;p++)v.push(new Array(r));if(f._fullFinderPattern(_,4,4),f._fillFinderPatternFilledValues(v,0,0),f._fullFinderPattern(_,4,n-11),f._fillFinderPatternFilledValues(v,0,r-8),f._fullFinderPattern(_,n-11,4),f._fillFinderPatternFilledValues(v,r-8,0),f._fillTimingPattern(_,v,r),_[n-12][12]=1,(v[n-16][8]=1)<t)for(p=0;p<M[t].length;p++)for(s=0;s<M[t].length;s++)h=M[t][p]+4,d=M[t][s]+4,10==h&&10==d||10==h&&d==n-11||h==n-11&&10==d||(_[h-2][d-2]=1,v[h-6][d-6]=1,_[h-2][d-1]=1,v[h-6][d-5]=1,_[h-2][d]=1,v[h-6][d-4]=1,_[h-2][d+1]=1,v[h-6][d-3]=1,_[h-2][d+2]=1,_[h-(v[h-6][d-2]=1)][d-2]=1,_[h-(v[h-5][d-6]=1)][d-1]=0,_[h-(v[h-5][d-5]=1)][d]=0,_[h-(v[h-5][d-4]=1)][d+1]=0,_[h-(v[h-5][d-3]=1)][d+2]=1,v[h-5][d-2]=1,_[h][d-2]=1,v[h-4][d-6]=1,_[h][d-1]=0,v[h-4][d-5]=1,_[h][d]=1,v[h-4][d-4]=1,_[h][d+1]=0,v[h-4][d-3]=1,_[h][d+2]=1,_[h+(v[h-4][d-2]=1)][d-2]=1,_[h+(v[h-3][d-6]=1)][d-1]=0,_[h+(v[h-3][d-5]=1)][d]=0,_[h+(v[h-3][d-4]=1)][d+1]=0,_[h+(v[h-3][d-3]=1)][d+2]=1,v[h-3][d-2]=1,_[h+2][d-2]=1,v[h-2][d-6]=1,_[h+2][d-1]=1,v[h-2][d-5]=1,_[h+2][d]=1,v[h-2][d-4]=1,_[h+2][d+1]=1,v[h-2][d-3]=1,_[h+2][d+2]=1,v[h-2][d-2]=1);for(7<=t&&f._fillHigherVersionData(_,v,t,r,n),c=0;c<8;c++){for(a=[],p=l=0;p<_.length;p++)a.push(_[p].slice(0));f._fillFormatData(_,v,r,n,u[c],o),f._fillMatrix(v,a,u[c],r,e),l+=f._calcPenalty1(a,r),l+=f._calcPenalty2(a,r),l+=f._calcPenalty3(a,r),l+=f._calcPenalty4(a,r),g.push(l)}return i=f._getSmallestPenaltyIndex(g),f._fillFormatData(_,v,r,n,u[i],o),f._fillMatrix(v,_,u[i],r,e),_},_fillHigherVersionData:function(e,t,r,n,o){r={7:[0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0,0,0],8:[0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1,0,0],9:[1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1,0,0],10:[1,1,0,0,1,0,1,1,0,0,1,0,0,1,0,1,0,0],11:[0,1,1,0,1,1,1,1,1,1,0,1,1,1,0,1,0,0],12:[0,1,0,0,0,1,1,0,1,1,1,0,0,0,1,1,0,0],13:[1,1,1,0,0,0,1,0,0,0,0,1,1,0,1,1,0,0],14:[1,0,1,1,0,0,0,0,0,1,1,0,0,1,1,1,0,0],15:[0,0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0,0],16:[0,0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1,0],17:[1,0,1,1,1,0,1,0,0,0,1,0,1,0,0,0,1,0],18:[1,1,1,0,1,0,0,0,0,1,0,1,0,1,0,0,1,0],19:[0,1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1,0],20:[0,1,1,0,0,1,0,1,1,0,0,1,0,0,1,0,1,0],21:[1,1,0,0,0,0,0,1,0,1,1,0,1,0,1,0,1,0],22:[1,0,0,1,0,0,1,1,0,0,0,1,0,1,1,0,1,0],23:[0,0,1,1,0,1,1,1,1,1,1,0,1,1,1,0,1,0],24:[0,0,1,0,0,0,1,1,0,1,1,1,0,0,0,1,1,0],25:[1,0,0,0,0,1,1,1,1,0,0,0,1,0,0,1,1,0],26:[1,1,0,1,0,1,0,1,1,1,1,1,0,1,0,1,1,0],27:[0,1,1,1,0,0,0,1,0,0,0,0,1,1,0,1,1,0],28:[0,1,0,1,1,0,0,0,0,0,1,1,0,0,1,1,1,0],29:[1,1,1,1,1,1,0,0,1,1,0,0,1,0,1,1,1,0],30:[1,0,1,0,1,1,1,0,1,0,1,1,0,1,1,1,1,0],31:[0,0,0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0],32:[1,0,1,0,1,0,1,1,1,0,0,1,0,0,0,0,0,1],33:[0,0,0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1],34:[0,1,0,1,1,1,0,1,0,0,0,1,0,1,0,0,0,1],35:[1,1,1,1,1,0,0,1,1,1,1,0,1,1,0,0,0,1],36:[1,1,0,1,0,0,0,0,1,1,0,1,0,0,1,0,0,1],37:[0,1,1,1,0,1,0,0,0,0,1,0,1,0,1,0,0,1],38:[0,0,1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1],39:[1,0,0,0,0,0,1,0,1,0,1,0,1,1,1,0,0,1],40:[1,0,0,1,0,1,1,0,0,0,1,1,0,0,0,1,0,1]}[r];this._fillUpperVersionInformation(e,t,r,n,o),this._fillLowerVersionInformation(e,t,r,n,o)},_fillUpperVersionInformation:function(e,t,r,n,o){for(var l=o-15,i=n-11,a=0,c=4;c<10;c++)e[c][l]=r[a],t[c-4][i]=1,e[c][1+l]=r[++a],t[c-4][1+i]=1,e[c][2+l]=r[++a],t[c-4][2+i]=1,a++},_fillLowerVersionInformation:function(e,t,r,n,o){for(var l=o-13,i=n-9,a=0,c=4;c<10;c++)e[l][c]=r[a],a++,e[l-(t[i][c-4]=1)][c]=r[a],t[i-1][c-4]=1,e[l-2][c]=r[++a],t[i-2][c-4]=1,a++},_getSmallestPenaltyIndex:function(e){for(var t=e[0],r=0,n=0;n<e.length;n++)e[n]<t&&(r=n);return r},_calcPenalty1:function(e,t){for(var r,n,o=0,l=0;l<t;l++)for(r=n=1;r<t;r++)e[l+4][r+4]===e[l+4][r+3]?5==++n?o+=3:5<n&&o++:n=1;for(r=0;r<t;r++)for(l=n=1;l<t;l++)e[l+4][r+4]===e[l+3][r+4]?5===++n?o+=3:5<n&&o++:n=1;return o},_calcPenalty2:function(e,t){for(var r,n,o=0,l=0;l<t-1;l++)for(n=0;n<t-1;n++)(r=e[l+4][n+4])==e[l+4][n+5]&&r==e[l+5][n+4]&&r==e[l+5][n+5]&&(o+=3);return o},_calcPenalty3:function(e,t){for(var r,n=0,o=0;o<t;o++)for(r=0;r<=t-7;r++)e[o+4][r+4]&&!e[o+4][r+5]&&e[o+4][r+6]&&e[o+4][r+7]&&e[o+4][r+8]&&!e[o+4][r+9]&&e[o+4][r+10]&&(n+=40);for(r=0;r<t;r++)for(o=0;o<=t-7;o++)e[o+4][r+4]&&!e[o+5][r+4]&&e[o+6][r+4]&&e[o+7][r+4]&&e[o+8][r+4]&&!e[o+9][r+4]&&e[o+10][r+4]&&(n+=40);return n},_calcPenalty4:function(e,t){for(var r,n=0,o=0,l=0;l<t;l++)for(r=0;r<t;r++)e[l+4][r+4]?n++:o++;return L(2*(n/(n+o)*100-50))},_fillFormatData:function(e,t,r,n,o,l){l=this._errorCorrectionToMask[l]+o,o=this._formatInformation[l],l=n-5,n-=5;e[12][4]=L(o.charAt(0)),e[12][5]=L(o.charAt(1)),e[12][6]=L(o.charAt(2)),e[12][7]=L(o.charAt(3)),e[12][8]=L(o.charAt(4)),e[12][9]=L(o.charAt(5)),e[12][11]=L(o.charAt(6)),e[12][12]=L(o.charAt(7)),e[11][12]=L(o.charAt(8)),e[9][12]=L(o.charAt(9)),e[8][12]=L(o.charAt(10)),e[7][12]=L(o.charAt(11)),e[6][12]=L(o.charAt(12)),e[5][12]=L(o.charAt(13)),e[4][12]=L(o.charAt(14)),e[l][12]=L(o.charAt(0)),e[l-1][12]=L(o.charAt(1)),e[l-2][12]=L(o.charAt(2)),e[l-3][12]=L(o.charAt(3)),e[l-4][12]=L(o.charAt(4)),e[l-5][12]=L(o.charAt(5)),e[l-6][12]=L(o.charAt(6)),e[12][n-7]=L(o.charAt(7)),e[12][n-6]=L(o.charAt(8)),e[12][n-5]=L(o.charAt(9)),e[12][n-4]=L(o.charAt(10)),e[12][n-3]=L(o.charAt(11)),e[12][n-2]=L(o.charAt(12)),e[12][n-1]=L(o.charAt(13)),e[12][n]=L(o.charAt(14)),t[8][0]=1,t[8][1]=1,t[8][2]=1,t[8][3]=1,t[8][4]=1,t[8][5]=1,t[8][7]=1,t[8][8]=1,t[7][8]=1,t[5][8]=1,t[4][8]=1,t[3][8]=1,t[2][8]=1,t[1][8]=1,t[0][8]=1,t[r-1][8]=1,t[r-2][8]=1,t[r-3][8]=1,t[r-4][8]=1,t[r-5][8]=1,t[r-6][8]=1,t[r-7][8]=1,t[8][r-8]=1,t[8][r-7]=1,t[8][r-6]=1,t[8][r-5]=1,t[8][r-4]=1,t[8][r-3]=1,t[8][r-2]=1,t[8][r-1]=1},_fillMatrix:function(e,t,r,n,o){for(var l,i=0,a=!0,c=n-1;0<=c;c-=2)if(6==c&&c--,a){for(l=n-1;0<=l;l--)e[l][c]||(this._fillModule(l,c,i,t,r,o),i++),0<=c-1&&!e[l][c-1]&&(this._fillModule(l,c-1,i,t,r,o),i++);a=!a}else{for(l=0;l<n;l++)e[l][c]||(this._fillModule(l,c,i,t,r,o),i++),0<=c-1&&!e[l][c-1]&&(this._fillModule(l,c-1,i,t,r,o),i++);a=!a}},_fillModule:function(e,t,r,n,o,l){r<l.length?this._fillCharacter(e,t,l.charAt(r),n,o):this._fillCharacter(e,t,"0",n,o)},_fillCharacter:function(e,t,r,n,o){var l;switch(o){case"000":l=(e+t)%2==0;break;case"001":l=e%2==0;break;case"010":l=t%3==0;break;case"011":l=(e+t)%3==0;break;case"100":l=(e/2+t/3)%2==0;break;case"101":l=e*t%2+e*t%3==0;break;case"110":l=(e*t%2+e*t%3)%2==0;break;case"111":l=((e+t)%2+e*t%3)%2==0;break;default:l=(e+t)%2==0}n[e+4][t+4]=l?"0"==r?1:0:"0"==r?0:1},_fillTimingPattern:function(e,t,r){for(var n=10,o=12,l=!0;o<r-4;)l&&(e[n][o]=1),t[n-4][o-4]=1,l=!l,o++;for(o=10,n=12,l=!0;n<r-4;)l&&(e[n][o]=1),t[n-4][o-4]=1,l=!l,n++},_fullFinderPattern:function(e,t,r){for(var n=0;n<7;n++)e[t+n][r]=1,e[t][r+n]=1,e[t+n][r+6]=1,e[t+6][r+n]=1;for(t+=2,r+=2,n=0;n<3;n++)e[t+n][r]=1,e[t+n][r+1]=1,e[t+n][r+2]=1},_fillFinderPatternFilledValues:function(e,t,r){var n,o,l,i;for(0===t&&0===r?n=o=8:o=0===t&&0<r?r+(n=8):(n=t+8,8),l=t;l<n;l++)for(i=r;i<o;i++)e[l][i]=1},_getEC:function(e,t,r){for(var n,o,l=this._getCodewordsLengthTable()[e],i=0,a=[],c=[],s=[],h=[],d=[],f=[],u=[],g=[],_=l.firstBlockCount,v=l.secondBlockCount,M=[],p=[];0<_;_--){for(M=[],n=0;n<l.firstDataCodeWords;n++)M[M.length]=r[i],i++;a[a.length]=M,d[d.length]=this._getErrorCorrectionForBlock(M,l)}for(;0<v;v--){for(p=[],o=0;o<l.secondBlockCodeWords;o++)p[p.length]=r[i],i++;c[c.length]=p,f[f.length]=this._getErrorCorrectionForBlock(p,l)}for(var L=l.firstDataCodeWords*l.firstBlockCount+l.secondBlockCodeWords*l.secondBlockCount,m=l.codewordsPerBlock*l.firstBlockCount+l.codewordsPerBlock*l.secondBlockCount,y=0,b=a.length+c.length,H=0;H<b;H++)0===y?0<a.length?(s[s.length]=a[0],a.splice(0,1)):(s[s.length]=c[0],y++,c.splice(0,1)):1===y&&0<c.length&&(s[s.length]=c[0],c.splice(0,1));for(b=d.length+f.length,H=y=0;H<b;H++)0===y?0<d.length?(h[h.length]=d[0],d.splice(0,1)):(h[h.length]=f[0],y++,f.splice(0,1)):1===y&&0<f.length&&(h[h.length]=f[0],f.splice(0,1));for(var Q=s.length,x=h.length,k="",y=0,A=0;A<L;A++)0<s[y=y===Q?0:y].length?(u[u.length]=s[y][0],s[y].splice(0,1),y++):(y++,A--);for(A=y=0;A<m;A++)0<h[y=y===x?0:y].length?(g[g.length]=h[y][0],h[y].splice(0,1),y++):(y++,A--);for(A=0;A<u.length;A++)k+=V(C(u[A]),8);for(A=0;A<g.length;A++)k+=V(C(g[A]),8);return k},_getErrorCorrectionForBlock:function(e,t){for(var r,n,o,l=t.codewordsPerBlock,i=[],a=[],c=0,s={7:[87,229,146,149,238,102,21],10:[251,67,46,61,118,70,64,94,32,45],13:[74,152,176,100,86,100,106,104,130,218,206,140,78],15:[8,183,61,91,202,37,51,58,58,237,140,124,5,99,105],16:[120,104,107,109,102,161,76,3,91,191,147,169,182,194,225,120],17:[43,139,206,78,43,239,123,206,214,147,24,99,150,39,243,163,136],18:[215,234,158,94,184,97,118,170,79,187,152,148,252,179,5,98,96,153],20:[17,60,79,50,61,163,26,187,202,180,221,225,83,239,156,164,212,212,188,190],22:[210,171,247,242,93,230,14,109,221,53,200,74,8,172,98,80,219,134,160,105,165,231],24:[229,121,135,48,211,117,251,126,159,180,169,152,192,226,228,218,111,0,117,232,87,96,227,21],26:[173,125,158,2,103,182,118,17,145,201,111,28,165,53,161,21,245,142,13,102,48,227,153,145,218,70],28:[168,223,200,104,224,234,108,180,110,190,195,147,205,27,232,201,21,43,245,87,42,195,212,119,242,37,9,123],30:[41,173,145,152,216,31,179,182,50,48,110,86,239,96,222,125,42,173,226,193,224,130,156,37,251,216,238,40,192,180]},h=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,1],d=[-1,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],f=0;f<e.length+l;f++)a[c++]=f<e.length?e[f]:0;for(f=0;f<e.length;f++)if(n=a[0],a.splice(0,1),0!==n){for(i=s[l].slice(0),n=d[n],r=0;r<i.length;r++)255<(o=n+i[r])&&(o%=255),i[r]=o;for(r=0;r<i.length;r++)i[r]=h[i[r]];for(r=0;r<i.length;r++)a[r]=a[r]^i[r]}return a},_getIntegerValues:function(e){return p(e,function(e){return L(e,2)})},_getBinaryValues:function(e){for(var t=[],r=0;r<e.length;r+=8)r+8<=e.length?t.push(e.substr(r,8)):t.push(h(e.substring(r),8));return t},_padEncodedToLength:function(e,t){if(e.length>=t)return e.substr(0,t);for(var r=e,n=!0;r.length<t;)r+=n?"11101100":"00010001",n=!n;return r},_getVersion:function(e,t){for(var r=e.length,n=1;n<39&&!(this._verErrLenTable[n+""+t]/8>=r);n++);return n+1},_getDataLength:function(e,t){return this._verErrLenTable[this._getVersion(e,t)+""+t]},_getFormatData:function(e,t){return this.codeMode+V(C(e.length),this._getFormatLengthTotal(e,t))},_getFormatLengthTotal:function(e,t){var r=this.mode,t=this._getVersion(e,t);return 1<=t&&t<=9?r==o?10:r==l?9:8:10<=t&&t<=26?r==o?12:r==l?11:r==n?16:10:r==o?14:r==l?13:r==n?16:12},_getCodewordsLengthTable:function(){var e=this;if(e._clt)return e._clt;var t,r,n=[7,1,19,0,0,10,1,16,0,0,13,1,13,0,0,17,1,9,0,0,10,1,34,0,0,16,1,28,0,0,22,1,22,0,0,28,1,16,0,0,15,1,55,0,0,26,1,44,0,0,18,2,17,0,0,22,2,13,0,0,20,1,80,0,0,18,2,32,0,0,26,2,24,0,0,16,4,9,0,0,26,1,108,0,0,24,2,43,0,0,18,2,15,2,16,22,2,11,2,12,18,2,68,0,0,16,4,27,0,0,24,4,19,0,0,28,4,15,0,0,20,2,78,0,0,18,4,31,0,0,18,2,14,4,15,26,4,13,1,14,24,2,97,0,0,22,2,38,2,39,22,4,18,2,19,26,4,14,2,15,30,2,116,0,0,22,3,36,2,37,20,4,16,4,17,24,4,12,4,13,18,2,68,2,69,26,4,43,1,44,24,6,19,2,20,28,6,15,2,16,20,4,81,0,0,30,1,50,4,51,28,4,22,4,23,24,3,12,8,13,24,2,92,2,93,22,6,36,2,37,26,4,20,6,21,28,7,14,4,15,26,4,107,0,0,22,8,37,1,38,24,8,20,4,21,22,12,11,4,12,30,3,115,1,116,24,4,40,5,41,20,11,16,5,17,24,11,12,5,13,22,5,87,1,88,24,5,41,5,42,30,5,24,7,25,24,11,12,7,13,24,5,98,1,99,28,7,45,3,46,24,15,19,2,20,30,3,15,13,16,28,1,107,5,108,28,10,46,1,47,28,1,22,15,23,28,2,14,17,15,30,5,120,1,121,26,9,43,4,44,28,17,22,1,23,28,2,14,19,15,28,3,113,4,114,26,3,44,11,45,26,17,21,4,22,26,9,13,16,14,28,3,107,5,108,26,3,41,13,42,30,15,24,5,25,28,15,15,10,16,28,4,116,4,117,26,17,42,0,0,28,17,22,6,23,30,19,16,6,17,28,2,111,7,112,28,17,46,0,0,30,7,24,16,25,24,34,13,0,0,30,4,121,5,122,28,4,47,14,48,30,11,24,14,25,30,16,15,14,16,30,6,117,4,118,28,6,45,14,46,30,11,24,16,25,30,30,16,2,17,26,8,106,4,107,28,8,47,13,48,30,7,24,22,25,30,22,15,13,16,28,10,114,2,115,28,19,46,4,47,28,28,22,6,23,30,33,16,4,17,30,8,122,4,123,28,22,45,3,46,30,8,23,26,24,30,12,15,28,16,30,3,117,10,118,28,3,45,23,46,30,4,24,31,25,30,11,15,31,16,30,7,116,7,117,28,21,45,7,46,30,1,23,37,24,30,19,15,26,16,30,5,115,10,116,28,19,47,10,48,30,15,24,25,25,30,23,15,25,16,30,13,115,3,116,28,2,46,29,47,30,42,24,1,25,30,23,15,28,16,30,17,115,0,0,28,10,46,23,47,30,10,24,35,25,30,19,15,35,16,30,17,115,1,116,28,14,46,21,47,30,29,24,19,25,30,11,15,46,16,30,13,115,6,116,28,14,46,23,47,30,44,24,7,25,30,59,16,1,17,30,12,121,7,122,28,12,47,26,48,30,39,24,14,25,30,22,15,41,16,30,6,121,14,122,28,6,47,34,48,30,46,24,10,25,30,2,15,64,16,30,17,122,4,123,28,29,46,14,47,30,49,24,10,25,30,24,15,46,16,30,4,122,18,123,28,13,46,32,47,30,48,24,14,25,30,42,15,32,16,30,20,117,4,118,28,40,47,7,48,30,43,24,22,25,30,10,15,67,16,30,19,118,6,119,28,18,47,31,48,30,34,24,34,25,30,20,15,61,16],o=["L","M","Q","H"],l=0;for(e._clt={},t=1;t<=40;t++)for(r=0;r<o.length;r++)e._clt[t+""+o[r]]={codewordsPerBlock:n[l],firstBlockCount:n[l+1],firstDataCodeWords:n[l+2],secondBlockCount:n[l+3],secondBlockCodeWords:n[l+4]},l+=5;return e._clt},_getPositionAdjustmentsTable:function(){var e=[],t=2;return e[t++]=[6,18],e[t++]=[6,22],e[t++]=[6,26],e[t++]=[6,30],e[t++]=[6,34],e[t++]=[6,22,38],e[t++]=[6,24,42],e[t++]=[6,26,46],e[t++]=[6,28,50],e[t++]=[6,30,54],e[t++]=[6,32,58],e[t++]=[6,34,62],e[t++]=[6,26,46,66],e[t++]=[6,26,48,70],e[t++]=[6,26,50,74],e[t++]=[6,30,54,78],e[t++]=[6,30,56,82],e[t++]=[6,30,58,86],e[t++]=[6,34,62,90],e[t++]=[6,28,50,72,94],e[t++]=[6,26,50,74,98],e[t++]=[6,30,54,78,102],e[t++]=[6,28,54,80,106],e[t++]=[6,32,58,84,110],e[t++]=[6,30,58,86,114],e[t++]=[6,34,62,90,118],e[t++]=[6,26,50,74,98,122],e[t++]=[6,30,54,78,102,126],e[t++]=[6,26,52,78,104,130],e[t++]=[6,30,56,82,108,134],e[t++]=[6,34,60,86,112,138],e[t++]=[6,30,58,86,114,142],e[t++]=[6,34,62,90,118,146],e[t++]=[6,30,54,78,102,126,150],e[t++]=[6,24,50,76,102,128,154],e[t++]=[6,28,54,80,106,132,158],e[t++]=[6,32,58,84,110,136,162],e[+t]=[6,26,54,82,110,138,166],e[40]=[6,30,58,86,114,142,170],e}}),e=i.extend({mode:o,codeMode:"0001",validateRegex:"^\\d+$",encodeValue:function(e){for(var t=[];0<e.length;)e=2<e.length?(t.push(V(C(L(e.substr(0,3))),10)),e.substr(3)):(2===e.length?t.push(V(C(L(e)),7)):t.push(V(C(L(e)),4)),"");return 0===t.length&&t.push(V(C(0),4)),t.join("")}});u.addMode(e);e=i.extend({mode:n,codeMode:"0100",validateRegex:"^[0-9A-Za-z'\\\r\\\n\\ \\!\\\"\\#\\$\\%\\&\\(\\)\\*\\+\\,\\-\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\\\]\\^\\_\\`\\{\\|\\}\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\]+$",encodingTable:{"\r":"13","\n":"10"," ":"32","!":"33",'"':"34","#":"35",$:"36","%":"37","&":"38","'":"39","(":"40",")":"41","*":"42","+":"43",",":"44","-":"45",".":"46","/":"47",0:"48",1:"49",2:"50",3:"51",4:"52",5:"53",6:"54",7:"55",8:"56",9:"57",":":"58",";":"59","<":"60","=":"61",">":"62","?":"63","@":"64",A:"65",B:"66",C:"67",D:"68",E:"69",F:"70",G:"71",H:"72",I:"73",J:"74",K:"75",L:"76",M:"77",N:"78",O:"79",P:"80",Q:"81",R:"82",S:"83",T:"84",U:"85",V:"86",W:"87",X:"88",Y:"89",Z:"90","[":"91","":"92","]":"93","^":"94",_:"95","`":"96",a:"97",b:"98",c:"99",d:"100",e:"101",f:"102",g:"103",h:"104",i:"105",j:"106",k:"107",l:"108",m:"109",n:"110",o:"111",p:"112",q:"113",r:"114",s:"115",t:"116",u:"117",v:"118",w:"119",x:"120",y:"121",z:"122","{":"123","|":"124","}":"125","":"126","":"161","":"162","":"163","":"164","":"165","":"166","":"167","":"168","":"169","":"170","":"171","":"172","":"173","":"174","":"175","":"176","":"177","":"178","":"179","":"180","":"181","":"182","":"183","":"184","":"185","":"186","":"187","":"188","":"189","":"190","":"191","":"192","":"193","":"194","":"195","":"196","":"197","":"198","":"199","":"200","":"201","":"202","":"203","":"204","":"205","":"206","":"207","":"208","":"209","":"210","":"211","":"212","":"213","":"214","":"215","":"216","":"217","":"218","":"219","":"220","":"221","":"222","":"223"},encodeValue:function(e){for(var t=[],r=0;r<e.length;r++)t.push(V(C(L(this.encodingTable[e.charAt(r)])),8));return t.join("")}});u.addMode(e);i=i.extend({mode:l,codeMode:"0010",validateRegex:"^[0-9A-Z \\$\\%\\*\\+\\-\\.\\/\\:]+$",encodingTable:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",A:"10",B:"11",C:"12",D:"13",E:"14",F:"15",G:"16",H:"17",I:"18",J:"19",K:"20",L:"21",M:"22",N:"23",O:"24",P:"25",Q:"26",R:"27",S:"28",T:"29",U:"30",V:"31",W:"32",X:"33",Y:"34",Z:"35"," ":"36",$:"37","%":"38","*":"39","+":"40","-":"41",".":"42","/":"43",":":"44"},encodeValue:function(e){for(var t,r,n,o,l=e.length%2!=0,i=[],a=[],c=[],s=0,h=0;h<e.length;h++)t=e.charAt(h),i[h]=this.encodingTable[t];for(h=0;h<i.length;h+=2)r=i[h],h+1<=i.length-1?(n=i[h+1],a[s]=L(45*r)+L(n)):a[s]=r,s++;for(h=0;h<a.length;h++)o=C(a[h]),o=l&&h===a.length-1?V(o,6):V(o,11),c[h]=o;return c.join("")}});u.addMode(i);var m=t.extend({init:function(e){var t=e.style;this.options=e,this.size=e.size-2*t.padding,M||r.namespaces.sqrv||(r.namespaces.add("sqrv","urn:schemas-microsoft-com:vml","#default#VML"),r.createStyleSheet().cssText="sqrv\\:fill, sqrv\\:path, sqrv\\:shape, sqrv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},all:function(e){var t,r,n=this.size,o=this.options.style,l=n/e.length,i="",a=[],c=function(e){return g("<div/>").html(e).text()},s="",h=200<n?12:10,d=c(100<n?"&#68;&#101;&#109;&#111;&#32;&#86;&#101;&#114;&#115;&#105;&#111;&#110;":"&#68;&#101;&#109;&#111;"),c=c("&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#119;&#119;&#119;&#46;&#115;&#104;&#105;&#101;&#108;&#100;&#117;&#105;&#46;&#99;&#111;&#109;");_.guid();for(o.padding&&(i+="margin:"+o.padding+"px;"),t=0;t<e.length;t++)for(r=0;r<e[t].length;r++)e[t][r]&&a.push({x:r*l,y:t*l});if(s+=M?'<text x="'+n+'" y="'+n+'" fill="#999999" text-anchor="end" font-size="'+h+'" style="cursor:pointer; z-index:0;" onClick="javascript: location.href = \''+c+"'; margin:0; padding:0;\">"+d+"</text>":'<div style="position:absolute; display:block; width:'+n+"px; text-align:right; color:#999999; cursor:pointer; z-index:0; top:"+(n-h-2)+"px; left:0px; font-size:"+h+'px;"><a href="'+c+'" style="color:#999999; text-decoration:none;">'+d+"</a></div>",M)return'<svg xmlns="'+v+'" version="1.1" width="'+n+'" height="'+n+'" shape-rendering="crispEdges"'+(i?' style="'+i+'" ':"")+">"+s+'<path d="'+p(a,function(e){return"M"+e.x+" "+e.y+" L"+(e.x+l)+" "+e.y+" L"+(e.x+l)+" "+(e.y+l)+" L"+e.x+" "+(e.y+l)+" z"}).join(" ")+'" fill="'+o.color+'" stroke="'+o.color+'" stroke-width="0" /></svg>';var f=1e4/n,u=L(l*f);return'<sqrv:shape style="z-index:200; position:absolute; width:'+n+"px; height:"+n+"px; display:block; "+i+'" coordsize="10000,10000" path="'+(p(a,function(e){var t=L(e.x*f),e=L(e.y*f);return"m"+t+","+e+" l"+(t+u)+","+e+","+(t+u)+","+(e+u)+","+t+","+(e+u)}).join(" ")+" e")+'" filled="t" fillcolor="'+o.color+'" stroked="f" strokecolor="'+o.color+'" strokeweight="0">'+s+"</sqrv:shape>"}}),t=d.extend({init:function(e,t){d.fn.init.apply(this,arguments);var r=this.options,n=r.style,o=r.value,l=(r.mode+"").toLowerCase(),i=r.errorLevel,a=r.dieOnError,c=u.byMode(l),s=new m(r);g(this.element).css({background:n.background,borderColor:n.borderColor,borderStyle:n.borderStyle,borderWidth:n.borderWidth,width:r.size,height:r.size}),c?c.validate(o)?"L"==i||"M"==i||"Q"==i||"H"==i?(c=c.encode(o,i),g(this.element).html(s.all(c))):f("Invalid errorLevel: "+i,a):f("Invalid qrcode value: "+o,a):f("Invalid qrcode mode: "+l,a)},destroy:function(){this.element.empty(),d.fn.destroy.call(this)}});t.defaults={value:"",mode:"byte",errorLevel:"L",size:300,style:{background:null,borderColor:null,borderStyle:null,borderWidth:0,color:"#000000",padding:5}},_.ui.plugin("QRcode",t)}(jQuery,shield);
!function(_,f,g,v){var b=f.ui.Widget,d=(f.Class,f.DataSource),m=f.ui.Position,a=f.Constants.KeyCode,x=f.strid,C=document,S=Math.abs,T=Math.min,w=Math.max,I=_.proxy,e=_.each,l=_.map,r=f.to,u=r.int,H=f.format,y=f.error,c=f.is,z=c.defined,h=c.string,L=c.object,p=c.func,P=c.null,W=c.number,D=f.is.boolean,E="id",N="role",A="true",j="false",k="aria-valuenow",M="aria-controls",U="aria-expanded",O="aria-disabled",B="aria-describedby",q="aria-selected",F="single",G="mouseenter",R="mouseleave",K="click",Q="focus",X="blur",J="change",i="title",V="center",Y="left",Z="right",$="up",tt="down",et="top",it="bottom",at="horizontal",st="vertical",nt="resize",ot="tabindex",lt="disabled",rt="suiaccitemindex",dt="suiaccitemdata",ct="suiaccitemloaded",s="suiaccelparent",n="suiaccelprev",ht={top:it,bottom:et,left:Z,right:Y,center:V},o="sui-tooltip-title",ut="sui-tooltip-sto",pt="sui-tooltip-hto",ft="sui-tooltip-target-hover",t={cls:v,enabled:!0,visible:v,width:v,height:v,delay:100,filter:v,content:function(t){return _(t).data(o)},position:et,trigger:G,autoHide:!0,callout:!0,events:{}},gt=b.extend({init:function(){b.fn.init.apply(this,arguments);var i=this,t=i.options,e=t.content,a=t.position,s=t.cls,n=t.filter,o=t.trigger,l=t.autoHide,r=t.visible,d=t.width,c=t.height,h=t.callout,u=_(i.element),p=x();!L(e)||e.remote&&e.remote.url?(i._eventNS=".shieldTooltip"+i.getInstanceId(),i._currentTarget=null,i._tooltip=e=_('<div id="'+p+'"/>').appendTo(C.body),e.addClass("sui-tooltip"+(s?" "+s:"")),s={position:"absolute"},z(d)&&(s.width=d),z(c)&&(s.height=c),e.css(s),i._content=_('<div class="sui-tooltip-content"></div>').appendTo(e),l||e.addClass("sui-tooltip-with-button").append('<div class="sui-tooltip-button">&times;</div>').click(I(i._hide,i,!0)),L(a)?i._pos=a:(s=ht[a]?a:et,h&&a!=V&&(s+=s==Y||s==et?"-5":"+5"),i._pos={source:ht[a]||it,target:s,overflow:"flipfit"}),h&&(i._pos.callback=I(i._posSet,i)),i._targets=u=n?u.find(n):u,i._showEvent=o,i._hideEvent=null,l&&(o==G||o==K?i._hideEvent=R:o==Q&&(i._hideEvent=X)),u.each(function(t){var e=_(this);e.on(G+i._eventNS,I(i._targetMouseEnter,i,e)).on(R+i._eventNS,I(i._targetMouseLeave,i,e)).on(i._showEvent+i._eventNS,I(i._onShow,i,e,!0)),i._hideEvent&&e.on(i._hideEvent+i._eventNS,I(i._onHide,i,e,!0)),e.attr(B,p)}),i._destroyed=!1,e.attr(N,"tooltip"),i.enabled(!!t.enabled),z(r)&&i.visible(r)):y("shieldTooltip: Invalid content options",t.dieOnError)},_targetMouseEnter:function(t){t.addClass(ft),t.attr(i)&&t.data(o,t.attr(i)).removeAttr(i)},_targetMouseLeave:function(t){t.removeClass(ft),t.data(o)&&t.attr(i,t.data(o))},_onShow:function(t,e){var i=this;i._enabled&&(i._tooltip,i=setTimeout(I(i._show,i,t,e),i.options.delay),t.one(R,function(){var t=_(this).data(ut);t&&clearTimeout(t)}).data(ut,i))},_onHide:function(t,e){var i=this,a=i._tooltip,s=setTimeout(I(i._hide,i,e),50);a.one(G,function(){var t=_(this),e=t.data(pt);e&&(clearTimeout(e),t.data(pt,null))}).one(R,function(){setTimeout(function(){t.hasClass(ft)||i._hide(i,e)},50)}).data(pt,s)},_show:function(t,e){var i,a,s=this,n=s.options,o=n.content,l=n.height,r=s._tooltip,n=s._content;s._destroyed||s._currentTarget!=t&&(e&&s.trigger("show",{target:t}).isDefaultPrevented()||(h(o)?i=o:L(o)?i=o.remote.iframe?'<iframe class="sui-tooltip-iframe" src="'+o.remote.url+'" style="border:none; border-width:0px; width:100%; height:'+(l?l+"px":"100%")+';"></iframe>':(a=!0," "):p(o)&&(i=o(t)),i&&(r.show(),s._currentTarget=t,a?n.load(o.remote.url):n.html(i),s._visible=!0,m.Set(r,t,s._pos))))},_hide:function(t){var e=this;e._currentTarget&&(t&&e.trigger("hide").isDefaultPrevented()||(_(e._tooltip).hide().find(".sui-tooltip-callout-container").remove(),e._currentTarget=null,e._visible=!1))},_posSet:function(t){var e,i,a,s,n,o,l=this.options,r=this._tooltip,d=t.horizontal,c=t.vertical,h=(t.important,t.element),u=t.target,p=h.width,t=h.height;if(l.callout&&(d!=V||"middle"!=c)){if(d==V||"middle"==c)i={source:a=ht[e=d==V?c:d],target:e+(a==it||a==Z?"+1":"-1")};else if(a=f.ui.Util.GetWithinInfo(g),d==Y&&3<h.left-a.scrollLeft&&(i={source:Z,target:(e=Y)+"+1"}),d==Z&&3<a.scrollLeft+a.width-h.left-h.width&&(i={source:Y,target:(e=Z)+"-1"}),e&&(s=h.top+t/2,n=u.top+u.height-(u.top+u.height-a.scrollTop)/2,0!==(o=S(o=s-n)>t/2-6?0<o?t/2-6:6-t/2:o)&&(i.target+=" "+V+(0<o?"-"+o:"+"+o))),e||(c==et&&3<h.top-a.scrollTop&&(e=et,i={source:it,target:"top+1"}),c==it&&3<a.scrollTop+a.height-h.top-h.height&&(i={source:et,target:(e=it)+"-1"}),e&&(s=h.left+p/2,n=u.left+u.width-(u.left+u.width-a.scrollLeft)/2,0!==(o=S(o=s-n)>p/2-6?0<o?p/2-6:6-p/2:o)&&(i.target=V+(0<o?"-"+o:"+"+o)+" "+i.target))),!e)return;e=_('<div class="sui-tooltip-callout-container"><div class="sui-tooltip-callout sui-tooltip-callout-'+e+'"></div>').appendTo(r),m.Set(e,r,i)}},visible:function(){var t,e=this,i=[].slice.call(arguments);if(!e._destroyed)return 0<i.length?((t=!!i[0])?e._show(i[1]):e._hide(),void(e._visible=t)):e._visible},enabled:function(){var t=[].slice.call(arguments);if(!(0<t.length))return this._enabled;(t=!!t[0])||this.visible(!1),this._enabled=t},destroy:function(){var e=this,t=e._targets;e._destroyed=!0,t&&(t.each(function(t){_(this).off(e._eventNS)}),e._targets=null),_(e._tooltip).remove(),b.fn.destroy.call(e)}});gt.defaults=t,f.ui.plugin("Tooltip",gt),t={cls:v,barSize:5,orientation:at,panes:v,events:{}},(gt=b.extend({init:function(){b.fn.init.apply(this,arguments);var e,i=this,t=i.options,a=t.cls,s=(t.orientation,_(i.element));s.addClass("sui-splitter-container"+(a?" "+a:"")),"absolute"!==s.css("position")&&"relative"!==s.css("position")&&s.css({position:"relative"}),s.css("width")===v&&s.css({width:"100%"}),i._height=s.css("height")?s.css("height"):s.parent().innerHeight(),s.css({height:i._height}),i._children=e=s.children(),i._offset=0,i._barSize=t.barSize,i._bars=[],i._dragBars=[],i._navigators=[],e.each(function(t){i._addPane(e,_(this),t)}),_(g).on(nt+".shieldSplitter"+i.getInstanceId(),I(i._adjust,i)),i._adjust(),i._adjustDraggables(),i._manageCollapsedPanes()},_adjust:function(){var t=this.element,e=this._children.last(),i=this.options.orientation==at,a=(i?t.innerWidth():t.innerHeight())-this._offset+"px";t.children(".sui-splitter-pane-horizontal, .sui-splitter-dragbar-horizontal, .sui-splitter-bar-horizontal").each(function(){_(this).outerHeight(_(this).parent().innerHeight())}),i?e.outerWidth(a):e.outerHeight(a)},_adjustHeights:function(t,e){this.options.orientation==at?(t.children(".sui-splitter-collapsible-vertical-up, .sui-splitter-collapsible-vertical-down").each(function(){var t=_(this);t.css({top:t.prev().innerWidth()/2})}),e.children(".sui-splitter-collapsible-vertical-up, .sui-splitter-collapsible-vertical-down").each(function(){var t=_(this);t.css({top:t.prev().innerWidth()/2})})):(t.children(".sui-splitter-pane-horizontal, .sui-splitter-dragbar, .sui-splitter-bar").each(function(){_(this).outerHeight(_(this).parent().innerHeight())}),e.children(".sui-splitter-pane-horizontal, .sui-splitter-dragbar, .sui-splitter-bar").each(function(){_(this).outerHeight(_(this).parent().innerHeight())}),t.children(".sui-splitter-collapsible-horizontal-left, .sui-splitter-collapsible-horizontal-right").each(function(){var t=_(this);t.css({top:t.prev().innerHeight()/2})}),e.children(".sui-splitter-collapsible-horizontal-left, .sui-splitter-collapsible-horizontal-right").each(function(){var t=_(this);t.css({top:t.prev().innerHeight()/2})}))},_adjustDraggables:function(){for(var t,e,i,a,s,n,o,l,r=this,d=r.options.orientation==at,c=0;c<r._dragBars.length;c++)r._dragBars[c]&&(e=r._dragBars[c],i=_(r._children[c]),a=_(r._children[c+1]),s=e.initialOptions,n=d?i.position().left:i.position().top,(o=r._getPaneMin(c))!==v&&(n+=o),(o=r._getPaneMax(c+1))!==v&&(t=d?a.position().left:a.position().top,l=d?a.innerWidth():a.innerHeight(),n=w(n,t-(o-l))),o=d?a.position().left+a.innerWidth():a.position().top+a.innerHeight(),(l=r._getPaneMax(c))!==v&&(t=d?i.position().left:i.position().top,o=T(o,t+l)),(l=r._getPaneMin(c+1))!==v&&(t=d?a.position().left:a.position().top,o=T(o,t+l)),s.min=n,s.max=o,e.refresh(s))},_createCollapseNavigator:function(r,d){var c=this,t=_(c.element),e=c.options,h=e.orientation,i=e.panes,a=h==at,s=i&&d<i.length&&i[d].collapsible,e=i&&d<i.length-1&&i[d+1].collapsible;(s||e)&&((e=_('<div class="sui-splitter-collapsible sui-splitter-collapsible-'+h+"-"+(i=a?s?Y:Z:s?$:tt)+'"/>')).insertAfter(r),a={left:a?r.position().left+1:r.position().left+t.innerWidth()/2,top:a?r.position().top+r.innerHeight()/2:r.position().top+1},e.css(a),e.on(K,function(){var t=_(c._children[d]),e=_(c._children[d+1]),i=c._dragBars[d]?_(c._dragBars[d].element):v,a=c._navigators[d],s=a.navigator,n=a.direction,o=a.collapsed,l=a.delta;switch(i&&o&&i.show(),n){case Y:o?t.show():(l=0===d?t.outerWidth():t.innerWidth(),t.hide()),e.css({left:e.position().left+(o?l:-l)}),r.css({left:r.position().left+(o?l:-l)}),i&&i.css({left:i.position().left+(o?l:-l)}),s.css({left:s.position().left+(o?l:-l)}),e.outerWidth(e.outerWidth()+(o?-l:l)),s.removeClass("sui-splitter-collapsible-"+h+"-"+(o?Z:Y)),s.addClass("sui-splitter-collapsible-"+h+"-"+(o?Y:Z)),a.collapsed=!o,a.delta=a.collapsed?l:0;break;case Z:o?e.show():(l=e.innerWidth(),e.hide()),r.css({left:r.position().left+(o?-l:l)}),i&&i.css({left:i.position().left+(o?-l:l)}),s.css({left:s.position().left+(o?-l:l)}),t.outerWidth(t.outerWidth()+(o?-l:l)),s.removeClass("sui-splitter-collapsible-"+h+"-"+(o?Y:Z)),s.addClass("sui-splitter-collapsible-"+h+"-"+(o?Z:Y)),a.collapsed=!o,a.delta=a.collapsed?l:0;break;case $:o?t.show():(l=0===d?t.outerHeight():t.innerHeight(),t.hide()),e.css({top:e.position().top+(o?l:-l)}),r.css({top:r.position().top+(o?l:-l)}),i&&i.css({top:i.position().top+(o?l:-l)}),s.css({top:s.position().top+(o?l:-l)}),e.outerHeight(e.outerHeight()+(o?-l:l)),s.removeClass("sui-splitter-collapsible-"+h+"-"+(o?tt:$)),s.addClass("sui-splitter-collapsible-"+h+"-"+(o?$:tt)),a.collapsed=!o,a.delta=a.collapsed?l:0;break;case tt:o?e.show():(l=e.innerHeight(),e.hide()),r.css({top:r.position().top+(o?-l:l)}),i&&i.css({top:i.position().top+(o?-l:l)}),s.css({top:s.position().top+(o?-l:l)}),t.outerHeight(t.outerHeight()+(o?-l:l)),s.removeClass("sui-splitter-collapsible-"+h+"-"+(o?$:tt)),s.addClass("sui-splitter-collapsible-"+h+"-"+(o?tt:$)),a.collapsed=!o,a.delta=a.collapsed?l:0}i&&a.collapsed&&i.hide(),a.collapsed?c.trigger("collapse",{paneIndex:d}):c.trigger("expand",{paneIndex:d}),c._adjustHeights(t,e)}),c._navigators[d]={navigator:e,delta:0,direction:i,collapsed:!1,index:s?d:d+1})},_manageCollapsedPanes:function(){var t,e,i,a=this.options.panes;if(this._navigators)for(i=0;i<this._navigators.length;i++)t=(e=this._navigators[i]).index,e=e.navigator,a&&t<a.length&&a[t].collapsed&&e.trigger(K)},_getPaneSize:function(t){var e,i=this,a=i.options,s=a.panes,n=a.orientation==at,a=_(i.element);return(e=s&&t<s.length&&(s[t].size||s[t].min)?s[t].size||s[t].min:e)?i._getSize(e,"Invalid pane size")+"px":((n?a.innerWidth():a.innerHeight())-(i._children.length-1)*i._barSize)/i._children.length},_getPaneMin:function(t){var e,i=this.options.panes;return(e=i&&t<i.length&&i[t].min?i[t].min:e)?this._getSize(e,"Invalid min pane size!"):v},_getPaneMax:function(t){var e,i=this.options.panes;return(e=i&&t<i.length&&i[t].max?i[t].max:e)?this._getSize(e,"Invalid max pane size!"):v},_getSize:function(t,e){var i=this.options.orientation==at,a=_(this.element),i=i?a.innerWidth():a.innerHeight();if(h(t)&&"%"==t.charAt(t.length-1)){if(100<=(a=parseInt(t.substring(0,t.length-1),10)))throw e;t=(i-(this._children.length-1)*this._barSize)*a/100}else t=parseInt(t,10);return t},_addPane:function(o,l,r){var d,c=this,t=c.options,h=t.orientation,e=h==at,i=t.panes,a=i&&r<i.length&&!1===i[r].resizable,t=i&&r<i.length&&!0===i[r].scrollable;_(c.element);if(l.attr(E)||l.attr(E,x()),l.addClass("sui-splitter-pane sui-splitter-pane-"+h),t&&l.css({overflow:"auto"}),i=c._getPaneSize(r),(t=c._getPaneMin(r))!==v&&i<t)throw"Size less that min pane size!";if((t=c._getPaneMax(r))!==v&&t<i)throw"Size bigger that max pane size!";t={left:(e?c._offset:0)+"px",top:(e?0:c._offset)+"px"},e?(t.width=i,t.height=c._height):t.height=i,l.css(t),r!=o.length-1&&(c._offset+=e?l.outerWidth():l.outerHeight(),i=_("<div>&nbsp;</div>").addClass("sui-unselectable sui-splitter-bar sui-splitter-bar-"+h),t={left:h==at?c._offset:0,top:h==st?c._offset:0},e?(t.width=c._barSize,t.height=c._height):t.height=c._barSize,i.css(t),i.insertAfter(l),a||((d=_("<div>&nbsp;</div>").addClass("sui-unselectable sui-splitter-dragbar sui-splitter-dragbar-"+h).css(t).insertAfter(i)).attr(N,"separator").attr(M,l.attr(E)).attr(k,u(h==at?l.width():l.height())),e={iframeFix:!0,direction:e?at:st,stack:!1,events:{start:function(t){var e=l,i=_(o[r+1]);e.addClass("sui-unselectable"),i.addClass("sui-unselectable")},stop:function(t){var e,i=l,a=_(o[r+1]),s=c._bars[r],n=c._navigators[r],n=n?n.navigator:v;i.removeClass("sui-unselectable"),a.removeClass("sui-unselectable"),h==at?(e=t.left-s.position().left,i.width(i.width()+e),a.css({left:t.left+s.outerWidth()}),a.width(a.width()-e),d.attr(k,u(i.width())),n&&n.css({left:n.position().left+e})):(e=t.top-s.position().top,i.height(i.height()+e),a.css({top:t.top+s.outerHeight()}),a.height(a.height()-e),d.attr(k,u(i.height())),n&&n.css({top:n.position().top+e})),s.css({left:t.left,top:t.top}),c._adjustHeights(i,a),c._adjustDraggables(),c.trigger(nt,{paneIndex:r})}}},e=new f.ui.Draggable(d,e),c._dragBars[r]=e),c._bars.push(i),c._createCollapseNavigator(i,r),c._offset+=c._barSize)},destroy:function(){var t,e=this;for(e.element.removeClass("sui-splitter-container"),_(g).off(nt+".shieldSplitter"+e.getInstanceId()),t=0;t<e._children.length;t++){var i=e._navigators[t];i&&i.navigator.off(K)}e._children=e._bars=e._dragBars=e._navigators=null,e._offset=e._height=e._barSize=0,b.fn.destroy.call(e)}})).defaults=t,f.ui.plugin("Splitter",gt),t={cls:v,enabled:!0,animation:{enabled:!0,duration:200},mode:F,expanded:v,dataSource:v,titleTemplate:"{title}",contentTemplate:"{content}",width:v,height:v,maxHeight:v,events:{}},(gt=b.extend({init:function(){b.fn.init.apply(this,arguments);var t,e,s,a=this,i=a.options,n=i.cls,o=i.dieOnError,l=i.dataSource,r=(i.expanded,_(a.element));if(a._original=t=_(a.element),a._tagname=e=t.prop("tagName").toLowerCase(),t.wrap("<span/>"),t.hide(),a.element=r=_('<ul class="sui-accordion'+(n?" "+n:"")+'"/>').on(Q,function(){a.trigger(Q)}).on(X,function(){a.trigger(X)}),t.after(r),n=t.attr(ot),r.attr(ot,z(n)?n:"0"),z(i.width)&&r.css("width",i.width),z(i.height)&&r.css("height",i.height),z(i.maxHeight)&&r.css("max-height",i.maxHeight),l)a.dataSource=d.create(l);else{if("ul"!==e)return a.destroy(),void y("shieldAccordion: No dataSource or underlying UL element found.",o);s=function(t){var a=[];return _(t).children("li").each(function(t,e){var i={title:_(this).children("h1, h2, h3, h4, h5, h6").first().html(),content:_(this).children("div, p").first()};0<_(this).children("ul").length&&(i.items=s(_(this).children("ul")[0])),a.push(i)}),a},a.dataSource=d.create({data:t,schema:{parse:s}}),a.options.contentTemplate=function(t,e,i){a._moveElement(t.content,i)},a._fromUL=!0}a.dataSource.on(J+".shieldAccordion"+a.getInstanceId(),I(a._dsChange,a)),a.dataSource.read()},refresh:function(t){this.refreshWithElement(this._original,t)},_dsChange:function(){var t=this,e=t.options;t._render(),t._dsLoadedOnce||(t._dsLoadedOnce=!0,z(e.expanded)?t.expanded(e.expanded):t.dataSource.view&&0<t.dataSource.view.length&&t.expanded(0),t.enabled(e.enabled))},_moveElement:function(t,e){_(t).data(s,_(t).parent()).data(n,_(t).prev()).addClass("sui-accordion-elm").appendTo(e)},_restoreElement:function(t){var e=_(t).data(n),i=_(t).data(s);0<_(e).length?_(t).insertAfter(e):_(t).prependTo(i),_(t).removeData(s).removeData(n).removeClass("sui-accordion-elm")},_restoreAll:function(){var t=this;_(t.element).find(".sui-accordion-elm").each(function(){t._restoreElement(_(this))})},_render:function(){var n=this,o=n.options,t=n.dataSource.view,l=_(n.element),r=t.length;l.empty(),t&&e(t,function(t,e){var i=x(),a=_('<li class="sui-accordion-item '+(r<=t+1?"sui-accordion-item-last ":"")+'sui-accordion-item-collapsed"/>').data(rt,t).data(dt,e).appendTo(l),s=_('<div class="sui-accordion-item-title"/>').click(function(t){n._enabled&&n._itemClick(_(a))}).appendTo(a),t=H.call(n,o.titleTemplate,e,t,s);z(t)&&!P(t)&&s.html(t),t=_('<div class="sui-accordion-item-body"/>').appendTo(a).hide(),s.attr(N,"button").attr(M,i).attr(U,j),t.attr(E,i),_('<div class="sui-accordion-item-body-content"/>').appendTo(t),c.array(e.items)&&0<e.items.length&&_("<div/>").appendTo(t).shieldAccordion({cls:"sui-accordion-item-body-items "+(o.cls?" "+o.cls:""),enabled:o.enabled,animation:o.animation,mode:o.mode,dataSource:{data:e.items},titleTemplate:o.titleTemplate,contentTemplate:o.contentTemplate,events:o.events})})},_itemClick:function(t){var e=this,i=e.options,a=t.hasClass("sui-accordion-item-collapsed");i.mode==F?a&&(e._collapse(t.siblings(".sui-accordion-item").not(".sui-accordion-item-collapsed").first(),!1,!0),e._expand(t,!1,!1)):a?e._expand(t,!1,!1):e._collapse(t,!1,!1)},_expand:function(t,e,i){var a=this.options,s=a.animation.enabled&&!e,n=a.animation.duration,o=_(t).children(".sui-accordion-item-body").first(),l=t.data(rt),e=t.data(dt);!i&&this.trigger("expand",{item:e,index:l,element:t}).isDefaultPrevented()||(1!==t.data(ct)&&(t.data(ct,1),i=t.children(".sui-accordion-item-body").first().children(".sui-accordion-item-body-content").first(),l=H.call(this,a.contentTemplate,e,l,i),z(l)&&!P(l)&&i.html(l)),t.removeClass("sui-accordion-item-collapsed").addClass("sui-accordion-item-expanded"),(t=_(t).children(".sui-accordion-item-title").first()).attr(U,A),a.mode==F&&t.attr(O,A),s?o.slideDown(n):o.show())},_collapse:function(t,e,i){var a=this.options,s=a.animation.enabled&&!e,n=a.animation.duration,o=_(t).children(".sui-accordion-item-body").first(),e=t.data(rt),a=t.data(dt);!i&&this.trigger("collapse",{item:a,index:e,element:t}).isDefaultPrevented()||(t.removeClass("sui-accordion-item-expanded").addClass("sui-accordion-item-collapsed"),_(t).children(".sui-accordion-item-title").first().attr(U,j).removeAttr(O),s?o.slideUp(n):o.hide())},expanded:function(){var t,e,i,a,s=this,n=_(s.element),o=(s._original,[].slice.call(arguments));if(!(0<o.length))return l(n.children(".sui-accordion-item").not(".sui-accordion-item-collapsed"),function(t){return t.data(rt)});t=r.array(o[0]),e=!z(o[1])||!!o[1],i=!z(o[2])||!!o[2],a=n.children(),l(t,function(t){0<=t&&(e?s._expand(_(a[t]),i,!0):s._collapse(_(a[t]),i,!0))})},enabled:function(){var t=_(this.element),e=this._original,i=[].slice.call(arguments);if(!(0<i.length))return this._enabled;(i=!!i[0])?(t.removeAttr(lt).removeClass("sui-accordion-disabled"),e.removeAttr(lt)):(t.attr(lt,lt).addClass("sui-accordion-disabled"),e.attr(lt,lt)),this._enabled=i},destroy:function(){var t=this;t.dataSource&&t.dataSource.off(".shieldAccordion"+t.getInstanceId()),t._restoreAll(),_(t.element).remove(),t._original&&t._original.unwrap().show(),t._original=t._dsLoadedOnce=t._fromUL=t._currItemEl=v,b.fn.destroy.call(t)}})).defaults=t,f.ui.plugin("Accordion",gt),t={cls:v,active:v,collapsible:!1,animation:{enabled:!0,activateDuration:160,deactivateDuration:60},titleTemplate:"{title}",titleClsTemplate:"{titleCls}",itemClsTemplate:"{itemCls}",hrefTemplate:"{href}",contentTemplate:"{content}",disabledTemplate:"{disabled}",iconUrlTemplate:"{iconUrl}",iconClsTemplate:"{iconCls}",position:et,dataSource:v,readDataSource:!0,trigger:K,events:{}},(gt=b.extend({init:function(){b.fn.init.apply(this,arguments);var t=this,e=_(t.element),i=_(e).children("ul, ol").first(),a=t.options,s=a.position,n=a.dieOnError,o=a.dataSource,l=a.cls,r=t._eventNS=".shieldTabs"+t.getInstanceId();if(i.length<=0?t._noTabList=!(i=null):t._noTabList=!1,t._tabList=i,e.addClass("sui-tabs sui-tabs-"+s+(l?" "+l:"")),e.on("keydown"+r,I(t._keydown,t)),o)t.dataSource=d.create(o);else{if(!i)return t.destroy(),void y("shieldTabs: No dataSource or tabs UL element found.",n);t.dataSource=d.create({data:i,schema:{parse:function(t){var e=[];return _(t).children("li").each(function(){var t=_(this),t={title:t.html(),titleCls:t.attr("data-title-class"),itemCls:t.attr("data-item-class"),href:t.attr("data-href"),disabled:t.attr("data-disabled")?!!t.attr("data-disabled"):z(t.attr(lt))&&null!==t.attr(lt),iconUrl:t.attr("data-icon-url"),iconCls:t.attr("data-icon-cls")};e.push(t)}),e}}})}_(g).on(nt+r,I(t._adjustTabListHeight,t)),_(e).children("div").hide(),t.dataSource.on(J+r,I(t._dsChange,t)),e.attr(N,"tablist"),s!=Y&&s!=Z||e.attr("aria-orientation",st),o&&!a.readDataSource||t.dataSource.read()},_dsChange:function(){this._render()},_getItemIcon:function(t){var e=this.options,i=H(e.iconUrlTemplate,t);return i&&"undefined"!==i?_('<span class="sui-tabs-tab-icon"/>').append('<img src="'+i+'"/>'):(t=H(e.iconClsTemplate,t))&&"undefined"!==t?_('<span class="sui-tabs-tab-icon"/>').addClass(t):v},_render:function(){var t,e,i=this,a=_(i.element),s=i.options,n=s.active,o=i._tabList,l=i.dataSource.view||[],r=l.length,d=[];if(i._initialized&&(_(o).remove(),_(a).children("div").remove(),i._tabList=o=i._divs=t=v),!o)for(i._tabList=o=_("<ul/>").prependTo(a),e=0;e<r;e++)c=l[e],o.append(_("<li/>").append(i._getItemIcon(c),'<span class="sui-tabs-tab-text">'+H(s.titleTemplate,c)+"</span>"));if(s.position==it&&o.appendTo(a),o.addClass("sui-tabs-tablist"+(s.collapsible?" sui-tabs-tablist-collapsible":"")),o.children("li").each(function(){_(this).attr(E)||_(this).attr(E,x()),_(this).attr(N,"tab")}),i._initialized||z(a.attr(ot))||a.attr(ot,"0"),i._tabListHeight=o.outerHeight(),_(a).children("div").length<=0)for(e=0;e<r;e++)_(a).append('<div class="sui-tabs-cust"/>');for(i._divs=t=_(a).children("div"),_(t).addClass("sui-tabs-item"),_(t).hide(),e=0;e<r;e++){var c=l[e],h=o.children("li:eq("+e+")"),u=_(t[e]),p=H(s.titleClsTemplate,c),f=H(s.itemClsTemplate,c),g=H(s.disabledTemplate,c);p&&"undefined"!==p&&h.addClass(p),f&&"undefined"!==f&&u.addClass(f),(D(g)&&g||"true"===g||"1"===g||1===g)&&d.push(e),h.on(s.trigger+i._eventNS,I(i._select,i,e,h,u)),u.attr(N,"tabpanel").attr(B,h.attr(E)),u.attr(E)||u.attr(E,x()),h.attr(M,u.attr(E))}if(!(i._initialized=!0)!==n&&(n=W(n)?n:0,n=w(0,T(n,t.length-1)),i._selectedIndex=n,i._activate(n,!0,!1)),0<d.length)for(e=0;e<d.length;e++)i.enabled(d[e],!1)},_select:function(t,e,i){var a,s=this,n=s.options,o=n.collapsible,l=s.dataSource.view||[];s.enabled(t)&&(t===s._selectedIndex&&!o||(e=e||_(s._tabList).children("li:eq("+t+")"),i=i||_(s._divs[t]),n=!((a=_(e).hasClass("sui-tabs-tab-active"))&&o&&n.trigger!==G),s.trigger("select",{tab:e,content:i,active:a,activate:n,index:t,item:l[t]}).isDefaultPrevented()||(s._selectedIndex=t,s._activate(t,n,!0,e,i))))},_activate:function(a,s,t,n,o){var l,e,i,r,d=this,c=d.options,h=c.animation,u=h.enabled,p=d.dataSource.view||[];d.enabled(a)&&(!s&&a!==d._activeIndex||(n=n||_(d._tabList).children("li:eq("+a+")"),o=o||_(d._divs[a]),l=p[a],_(d._divs).stop(!0,!0),_(d._tabList).children("li").removeClass("sui-tabs-tab-active").attr(q,j),i=function(){r=function(){t&&d.trigger("activate",{tab:n,content:o,active:s,index:a,item:l}),d._adjustTabListHeight()},s?(d._activeIndex=a,_(n).addClass("sui-tabs-tab-active").attr(q,A),(e=H(c.hrefTemplate,l))&&"undefined"!==e?_(o).load(e,v,function(t,e,i){d.trigger("load",{responseText:t,textStatus:e,jqXHR:i,tab:n,content:o,active:s,index:a,item:l}),d._adjustTabListHeight()}):(e=H(c.contentTemplate,l))&&"undefined"!==e&&_(o).html(e),_(o).fadeIn(u?h.activateDuration:0,r)):(d._activeIndex=v,r())},z(d._activeIndex)?_(d._divs).each(function(t){t!==d._activeIndex?_(this).hide():_(this).fadeOut(u?h.deactivateDuration:0,i)}):i()))},_adjustTabListHeight:function(){var t,e=this,i=e.options.position;(i==Y||i==Z&&e._divs&&e._divs[e._activeIndex])&&(t=_(e._tabList),i=_(e._divs[e._activeIndex]).innerHeight(),t.css("min-height",i),t=_(t.children("li").last()),e._tabListHeight>=i?t.addClass("sui-tabs-tab-last-bottom"):t.removeClass("sui-tabs-tab-last-bottom"))},_keydown:function(t){var e,i=this;if(_(i.element)[0]===_(t.target)[0]){switch(t.keyCode){case a.UP:case a.LEFT:i._selectPrevNext(t,!0),e=!0;break;case a.DOWN:case a.RIGHT:i._selectPrevNext(t,!1),e=!0;break;case a.SPACE:i.options.collapsible&&i._toggleCurrent(t),e=!0}e&&t.preventDefault()}},_toggleCurrent:function(t){var e=this._selectedIndex;z(e)&&this._activate(e,e!==this._activeIndex,!0)},_selectPrevNext:function(t,e){var i=this,a=i._selectedIndex,e=z(a)?e?i._getPrevSelectableIndex():i._getNextSelectableIndex():i._getFirstSelectableIndex();z(e)&&e!==a&&i._select(e)},_getFirstSelectableIndex:function(){var e,i=this;return _(i._tabList).children("li").each(function(t){if(i.enabled(t))return e=t,!1}),e},_getNextSelectableIndex:function(){var t,e=this._selectedIndex,i=_(this._tabList).children("li").length;if(e<i-1)for(t=e+1;t<i;t++)if(this.enabled(t))return t;if(0<e)for(t=0;t<e;t++)if(this.enabled(t))return t;return v},_getPrevSelectableIndex:function(){var t,e=this._selectedIndex,i=_(this._tabList).children("li").length;if(0<e)for(t=e-1;0<=t;t--)if(this.enabled(t))return t;if(e<i-1)for(t=i-1;e<t;t--)if(this.enabled(t))return t;return v},enabled:function(){var t=[].slice.call(arguments),e=t[0],e=_(this._tabList).children("li:eq("+e+")");if(0<e.length){if(!(1<t.length))return!_(e).hasClass("sui-tabs-tab-disabled");t[1]?_(e).removeClass("sui-tabs-tab-disabled"):_(e).addClass("sui-tabs-tab-disabled")}},enabledIndices:function(){var i=[];return _(this._tabList).children("li").each(function(t,e){_(this).hasClass("sui-tabs-tab-disabled")||i.push(t)}),i},active:function(){var t=[].slice.call(arguments);if(!(0<t.length))return this._activeIndex;this._activate(t[0],t[1],!1)},content:function(t){return _(this._divs)[t]},destroy:function(){var t=this,e=_(t.element),i=t.options,a=i.cls,s=t._tabList,n=t._eventNS;t.dataSource&&t.dataSource.off(J+n),_(g).off(n),_(e).removeClass("sui-tabs sui-tabs-"+i.position+(a?" "+a:"")),_(e).children("div").removeClass("sui-tabs-item"),_(e).children(".sui-tabs-cust").remove(),t._divs=null,_(s).children("li").removeClass("sui-unselectable").off(n),_(s).removeClass("sui-tabs-tablist"),t._noTabList&&_(s).remove(),t._tabList=t._noTabList=t._activeIndex=t._selectedIndex=t._initialized=t._tabListHeight=v,b.fn.destroy.call(t)}})).defaults=t,f.ui.plugin("Tabs",gt)}(jQuery,shield,this);
!function(o,i,e){var a=i.ui.Widget,l=document,d=Math.ceil,t=navigator.userAgent,e=e.opera,m=/msie/i.test(t)&&!e&&7===l.documentMode,t=(o.extend,{show:!1,showImage:!0,text:null,template:null,useSmallImage:!1}),e=a.extend({init:function(e,t){var n=this;a.fn.init.apply(n,arguments),n.refresh(),n.options.show?n.show():n.hide()},destroy:function(){var e=this;o(e.mainElement).remove(),e.options.showImage&&(o(e.loadingImage).remove(),e.loadingImage=null),e.loadingText&&(o(e.loadingText).remove(),e.loadingText=null),o(e.backgroundElement).remove(),e.mainElement=e.backgroundElement=null,a.fn.destroy.call(e)},_render:function(){var e,t,n=this,i=n.options,a=i.template;n.mainElement=s=o("<div/>").appendTo(l.body),s.addClass("sui-loading-panel"),m&&s.addClass("sui-loading-panel-ie7"),a?((a=o(a.replace(/^\s+/,"").replace(/\s+$/,""))).appendTo(l.body),e=d((n.element.height()-a.height())/2),t=d((n.element.width()-a.width())/2),a.css({"z-index":"inherit",position:"relative",dispaly:"block",top:e+"px",left:t+"px"}).appendTo(s),n.template=a):(i.showImage&&(a=o("<span/>").appendTo(s),n.loadingImage=a,i.useSmallImage?a.addClass("sui-loading-image-small"):a.addClass("sui-loading-image")),i.text&&n._generateTextElement());var s=o("<span/>").appendTo(s);(n.backgroundElement=s).addClass("sui-loading-back"),n._setPosition()},_generateTextElement:function(){var e=this,t=o("<span/>").appendTo(e.mainElement);t.get(0).innerHTML=e.options.text,t.addClass("sui-loading-text"),e.loadingText=t},refresh:function(){var e=this,t=(e.options,!e.mainElement||"none"==e.mainElement.css("display"));e.destroy(),e._render(),t?e.hide():e.show()},_setPosition:function(){var e=this,t=(e.options,e.element.offset()),n=i.ui.Util.GetMaxZIndex("div")+1;e.mainElement.css({left:d(t.left)+"px",top:d(t.top)+"px","z-index":n}),m&&(e.loadingText&&e.loadingText.css({"z-index":n+1}),e.loadingImage&&e.loadingImage.css({"z-index":n+1}),e.template&&e.template.css("z-index",n+1))},_setElementsPosition:function(){var e=this,t=e.element.height(),n=e.loadingImage,i=e.loadingText,a=n?n.height():0,s=i?i.height():0,s=d((t-a-s)/2);n&&e.loadingImage.css("top",s+"px"),i&&e.loadingText.css("top",s+"px")},show:function(){var e=this,t=e.options,n=e.element;e.mainElement.width(n.get(0).offsetWidth),e.mainElement.height(n.get(0).offsetHeight),e._setPosition(),e.mainElement.css("display",""),t.template||e._setElementsPosition()},hide:function(){this.mainElement.css("display","none")},setText:function(e){this.options.text=e,this.refresh()}});e.defaults=t,i.ui.plugin("LoadingPanel",e)}(jQuery,shield,this);
!function(S,M,a){function F(e,r,s,t){return t=(t-90)*Math.PI/180,{x:e+s*Math.cos(t),y:r+s*Math.sin(t)}}var i=M.ui.Widget,e=(M.Class,M.Constants),l=document,N=e.SVG_NS,z=!!l.createElementNS&&!!l.createElementNS(N,"svg").createSVGRect,n=(S.map,S.each,S.proxy),P=M.to.int,t=(M.is.func,M.error,Math.min),o=Math.max,c="disabled",B="px",p="float",d="left",h="right",D="horizontal",I="vertical",R="circular",r={cls:void 0,enabled:!0,min:0,max:100,value:0,layout:D,layoutOptions:{circular:{width:30,color:"#197BB5",colorDisabled:"#C4C4C4",borderColor:"#C4C4C4",borderWidth:1,backgroundColor:"#FFFFFF"}},reversed:!1,text:{enabled:!1,template:"{0}"},events:{}},e=i.extend({init:function(){i.fn.init.apply(this,arguments);var e=this,r=S(e.element),s=e.options,t=s.layout,o=s.cls;e._eventNS=".shieldProgressbar"+e.getInstanceId(),r.addClass("sui-progressbar"),t===I?r.addClass("sui-progressbar-vertical"):t===R&&r.addClass("sui-progressbar-circular"),t!==R&&(e.inner=S("<div/>").addClass("sui-progressbar-value").appendTo(r)),o&&r.addClass(o),t===D?(o=e.inner.css(p)||d,o=s.reversed?o===d?h:d:o===h?h:d,e.inner.css(p,o)):t==R&&(z||l.namespaces.scvprogressbar||l.namespaces.add("scvprogressbar","urn:schemas-microsoft-com:vml","#default#VML")),S(a).on("resize"+e._eventNS,n(e._winResize,e)),e._value=s.value,e._render(),e.enabled(s.enabled)},_winResize:function(){this._render()},_render:function(){var e=this,r=e.options,s=r.layout,t=r.reversed,o=r.min,a=r.max,i=e._value,l=r.text,n=S(e.element),c=n.width(),p=n.height(),d=e.inner,h=a-o,v=P(100*(i-o)/h);if(s===I)k=P(v*p/100),d.css({width:"100%",height:k+B,"margin-top":(t?"0":p-k)+B});else if(s===D)d.css({width:v+"%",height:p+B});else{if(s!==R)return;var g="",u=r.layoutOptions[s],b=u.width,f=u.borderWidth,x=e._enabled?u.color:u.colorDisabled,m=u.borderColor,y=u.backgroundColor,w=c/2,C=p/2,_=(p<c?C:w)-b/2-1,k=2*_,d=P(360*(i-o)/h),v=t?360-d:0,r=v+d,s=b-2*f;z?(g='<svg xmlns="'+N+'" version="1.1" width="'+c+'" height="'+p+'">',0<f&&(g+='<circle cx="'+w+'" cy="'+C+'" r="'+_+'" stroke="'+m+'" stroke-width="'+b+'" fill="none" />'),a<=i?g+='<circle cx="'+w+'" cy="'+C+'" r="'+_+'" stroke="'+x+'" stroke-width="'+s+'" fill="none" />':(g+='<circle cx="'+w+'" cy="'+C+'" r="'+_+'" stroke="'+y+'" stroke-width="'+s+'" fill="none" />',g+='<path d="'+(u=v,_=F(o=w,h=C,t=_,d=r),h=F(o,h,t,u),u=d-u<=180?"0":"1",["M",_.x,_.y,"A",t,t,0,u,0,h.x,h.y].join(" "))+'" stroke="'+x+'" stroke-width="'+s+'" fill="none" />'),g+="</svg>"):(g+='<scvprogressbar:group style="width:'+c+"px; height:"+p+'px;" coordsize="'+c+","+p+'">',0<f&&(g+='<scvprogressbar:oval style="width:'+k+"px; height:"+k+"px; position:relative; top:"+C+"px; left:"+w+'px;" strokeweight="'+b+'px" strokecolor="'+m+'" fill="false"><scvprogressbar:fill opacity="0%" color="transparent" /></scvprogressbar:oval>'),a<=i?g+='<scvprogressbar:oval style="width:'+k+"px; height:"+k+"px; position:relative; top:"+C+"px; left:"+w+'px;" strokeweight="'+s+'px" strokecolor="'+x+'" fill="false"><scvprogressbar:fill opacity="0%" color="transparent" /></scvprogressbar:oval>':(g+='<scvprogressbar:oval style="width:'+k+"px; height:"+k+"px; position:relative; top:"+C+"px; left:"+w+'px;" strokeweight="'+s+'px" strokecolor="'+y+'" fill="false"><scvprogressbar:fill opacity="0%" color="transparent" /></scvprogressbar:oval>',g+='<scvprogressbar:arc style="width:'+k+"px; height:"+k+"px; position:relative; top:"+C+"px; left:"+w+'px;" fill="false" strokeweight="'+s+'px" strokecolor="'+x+'" startangle="'+v+'" endangle="'+r+'"><scvprogressbar:fill opacity="0%" color="transparent" /></scvprogressbar:arc>'),g+="</scvprogressbar:group>"),n.html(g)}l.enabled&&(n.find(".sui-progressbar-text").remove(),e.text=S('<div class="sui-progressbar-text" />').appendTo(n).html(M.format.call(e,l.template,e._value)),n=e.text.width(),l=e.text.height(),e.text.css({top:(p-l)/2+B,left:(c-n)/2+B}))},value:function(){var e=this,r=e.options,s=[].slice.call(arguments);if(!(0<s.length))return e._value;e._enabled&&(s=o(t(s[0],r.max),r.min),e.trigger("change",{value:s}).isDefaultPrevented()||(e._value=s,e._render(),s>=r.max&&e.trigger("complete")))},enabled:function(){var e=this,r=S(e.element),s=[].slice.call(arguments);if(!(0<s.length))return e._enabled;(s=!!s[0])?r.removeAttr(c).removeClass("sui-progressbar-disabled"):r.attr(c,c).addClass("sui-progressbar-disabled"),e._enabled=s,e.options.layout==R&&e._render()},destroy:function(){var e=this.options.cls;S(a).off(this._eventNS),S(this.element).removeClass("sui-progressbar sui-progressbar-disabled sui-progressbar-vertical sui-progressbar-circular"+(e?" "+e:"")).empty(),i.fn.destroy.call(this)}});e.defaults=r,M.ui.plugin("ProgressBar",e)}(jQuery,shield,this);
!function(_,v,o){var e,u,c,m=v.ui.Widget,f=(v.Class,v.DataSource),d=v.ui.Position,a=v.Constants.KeyCode,g=v.strid,b=document,x=_.proxy,l=_.each,C=_.grep,h=_.extend,p=v.error,I=v.format,E=v.is.defined,s=v.is.boolean,r=v.is.integer,S=v.is.func,y="role",T="true",w="false",N="aria-expanded",i="aria-activedescendant",k="horizontal",D="vertical",A="focus",F="blur",P="change",L="tabindex",R="disabled",W="sui-menu-item-level",M="sui-menu-item-expanded",O="sui-menu-item-disabled",H="sui-menu-item-selected",U="sui-menu-item-index",B="sui-menu-item-hover",z="sui-menu-item-data-item",G="sui-menu-item-parent",j="sui-menu-item-cc",t={cls:o,width:o,height:o,dataSource:o,readDataSource:!0,orientation:k,delay:100,animation:{enabled:!0,openDelay:100,closeDelay:50},contentTemplate:"{content}",overflow:"flipfit",events:{}},q=m.extend({init:function(){m.fn.init.apply(this,arguments);var e,t,a,n=this,i=_(n.element),s=n.options,r=s.dieOnError,l=s.dataSource,o=s.cls,u=s.renderToINTERNAL,c=s.wrapOriginalINTERNAL,d=!E(c)||c;if(n._original=e=_(n.element),n._tagname=t=e.prop("tagName").toLowerCase(),n._isContext=s.isContextINTERNAL,c=n._eventNS=".shieldMenu"+n.getInstanceId(),d?(n.wrapper=e.wrap("<div/>").parent(),n._isWrapped=!0):n._isWrapped=!1,e.hide(),n.element=i=_('<ul class="sui-menu sui-menu-top sui-menu-'+s.orientation+(o?" "+o:"")+'"/>').on(A+c,x(n._focus,n)).on(F+c,x(n._blur,n)).on("keydown"+c,x(n._keydown,n)),0<_(u).length?_(u).append(i):e.after(i),E(s.width)&&i.css("width",s.width),E(s.minWidth)&&i.css("minWidth",s.minWidth),E(s.height)&&i.css("height",s.height),u=e.attr(L),i.attr(L,E(u)?u:"0"),n._isRtl=v.support.isRtl(i),l)n.dataSource=f.create(l);else{if("ul"!==t)return n.destroy(),void p("shieldMenu: No dataSource or underlying UL element found.",r);a=function(e){var i=[];return _(e).children("li").each(function(){var e=_(this),t=0<e.children("ul").length,n={cls:e.attr("data-class"),content:(t?e.children().not("ul").first():e).html(),href:e.attr("data-href")?e.attr("data-href"):e.children().not("ul").first().attr("href"),disabled:e.attr("data-disabled")?e.attr("data-disabled"):E(e.attr(R))&&null!==e.attr(R),separator:"separator"===e.attr("data-role"),iconUrl:e.attr("data-icon-url"),iconCls:e.attr("data-icon-cls")};t&&(n.items=a(e.children("ul")[0])),i.push(n)}),i},n.dataSource=f.create({data:e,schema:{parse:a}})}n.dataSource.on(P+c,x(n._dsChange,n)),i.attr(y,n._isContext?"menu":"menubar").attr("aria-orientation",s.orientation),s.readDataSource&&n.dataSource.read()},refresh:function(e){this.refreshWithElement(this._original,e)},_isFocused:function(){return _(this.element).hasClass("sui-menu-focus")},_focus:function(e){var t=this;t._blurTimeout&&(clearTimeout(t._blurTimeout),t._blurTimeout=null),t._isFocused()||(_(t.element).addClass("sui-menu-focus"),_(t.element).focus(),t.trigger(A))},_blur:function(e){var t=this;t._isFocused()&&(t._blurTimeout&&clearTimeout(t._blurTimeout),t._blurTimeout=setTimeout(function(){_(t.element).removeClass("sui-menu-focus"),t._collapseAll(),t._deselectAll(),t.trigger(F)},100))},_dsChange:function(){this._renderItems(this.dataSource.view,this.element,0,null)},_getItemIcon:function(e){var t=_('<span class="sui-menu-item-icon"/>');return e.iconUrl?t.append('<img src="'+e.iconUrl+'"/>'):e.iconCls&&t.addClass(e.iconCls),t},_renderItems:function(e,t,n,i){for(var a,s,r,l,o,u,c,d=this,m=d.options,f=(e||[]).length,h=0<C(e||[],function(e){return e.iconUrl||e.iconCls}).length,p=0;p<f;p++)s=!!(a=e[p]).disabled,c=a.href,u=!(r=a.separator)&&a.items&&0<a.items.length,o=a.iconUrl||a.iconCls,l=r?"&nbsp;":I.call(d,m.contentTemplate,a),c=_('<a class="sui-menu-item-link" '+(c?'href="'+c+'"':"")+' tabindex="-1"/>').append('<span class="sui-menu-item-text'+(u?" sui-menu-item-text-hc":"")+'">'+l+"</span>"),l=_('<li class="sui-menu-item sui-unselectable'+(s?" sui-menu-item-disabled":"")+(r?" sui-menu-item-separator":"")+(a.cls?" "+a.cls:"")+'"/>').on("selectstart",function(){return!1}).appendTo(t).data(z,a).data(G,i).data(W,n).data(O,s).data(U,p).attr(y,r?"separator":"menuitem").attr("id",g()).append(c),r?l.attr("aria-orientation",0<n||m.orientation===D?k:D):s&&l.attr("aria-disabled",T),c.click(x(d._itemClicked,d,l)).on(A,x(d.focus,d)),!r&&h&&(0<n||o||m.orientation===D)&&c.prepend(d._getItemIcon(a)),u&&(c.append('<span class="sui-menu-item-children-caret"/>'),(u=_('<div class="sui-menu-submenu"/>').hide().data("sui-menu-item-cc-parent",l).appendTo(l)).css("z-index",v.ui.Util.GetMaxZIndex(".sui-menu, .sui-menu-submenu",b.body)+1),c=_('<ul class="sui-menu sui-menu-vertical"/>').attr(y,"menu").appendTo(u),d._renderItems(a.items,c,n+1,l),l.data(j,u).attr("aria-haspopup","true").hover(x(d._itemMouseEnter,d,l,!0),x(d._itemMouseLeave,d,l,!0)))},_itemMouseEnter:function(e,t){var n=this;e.addClass(B),setTimeout(function(){e.hasClass(B)&&n._itemExpand(e,t)},n.options.delay)},_itemMouseLeave:function(e,t){e.removeClass(B),this._itemCollapse(e,!0,t)},_itemExpand:function(e,t,n){var i=this,a=i.options,s=a.animation,r=e.data(W),l=e.data(j),o=0===r&&a.orientation===k,u=e.data(z),r=e.data(G);i._isExpandable(e)&&i._canHaveFocus(e)&&l&&(l.stop(!0,!0),r&&!i._isExpanded(r)&&i._itemExpand(r,!1,!0,!0),t&&i.trigger("expand",{element:e,item:u}),o&&l.css("min-width",e.outerWidth()),l.show(),d.Set(l,e,{source:"left top",target:o?"left bottom":"right top",overflow:a.overflow}),!n&&s&&s.enabled?l.hide().slideDown(s.openDelay,function(){e.data(M,!0).attr(N,T)}):e.data(M,!0).attr(N,T))},_itemCollapse:function(e,t,n,i){var a=this,s=a.options.animation,r=e.data(j),l=e.data(z),o=e.data(G);r&&(r.stop(!0,!0),n&&a.trigger("collapse",{element:e,item:l}),t=!E(t)||!!t,_(r).find("ul").first().children().each(function(){var e=_(this);a._isExpanded(e)&&a._itemCollapse(e,t,!1,!0)}),!i&&s&&s.enabled?r.slideUp(s.closeDelay,function(){e.data(M,!1).attr(N,w),t&&o&&!o.hasClass(B)&&a._itemCollapse(o,!0,!1,!0)}):(r.hide(),e.data(M,!1).attr(N,w),t&&o&&!o.hasClass(B)&&a._itemCollapse(o,!0,!1,!0)))},_collapseAll:function(){var t=this;_(t.element).children("li").each(function(){var e=_(this);t._isExpanded(e)&&t._itemCollapse(e,!1,!1,!0)})},_isExpandable:function(e){return!!e.data(j)},_isExpanded:function(e){return!0===e.data(M)},_hasExpanded:function(e){var t=this,n=e.data(j);return!0===e.data(M)&&0<C(_(n).find("ul").first().children(),function(e){return t._isExpanded(_(e))||t._hasExpanded(_(e))}).length},_canHaveFocus:function(e){return!e.data(O)&&!e.data(z).separator},_keydown:function(e){var t,n=this,i=!0;switch(e.keyCode){case a.UP:n._move("up",e);break;case a.DOWN:n._move("down",e);break;case a.LEFT:n._move("left",e);break;case a.RIGHT:n._move("right",e);break;case a.SPACE:case a.ENTER:t=n._getSelected(),E(t)&&(n._isExpanded(t)||n._itemExpand(t,!0),n._itemClicked(t));break;default:i=!1}i&&e.preventDefault()},_getFirstSelectableItem:function(e){var t,n=this;return _(e).children("li").each(function(){var e=_(this);if(n._canHaveFocus(e))return t=e,!1}),t},_getNextSelectableItem:function(e){var t,n,i=e.parent(),a=e.index(),s=i.children("li"),r=s.length;if(a<r-1)for(n=a+1;n<r;n++)if(t=_(s[n]),this._canHaveFocus(t))return t;if(0<a)for(n=0;n<a;n++)if(t=_(s[n]),this._canHaveFocus(t))return t;return e},_getPrevSelectableItem:function(e){var t,n,i=e.parent(),a=e.index(),s=i.children("li"),i=s.length;if(0<a)for(n=a-1;0<=n;n--)if(t=_(s[n]),this._canHaveFocus(t))return t;if(a<i-1)for(n=i-1;a<n;n--)if(t=_(s[n]),this._canHaveFocus(t))return t;return e},_move:function(e,t){var n,i,a,s,r=this,l=r._getSelected();r._isRtl;if(E(l))if(n=l.parent().hasClass("sui-menu-vertical")?D:k,a=(i=l.data(G))?i.parent().hasClass("sui-menu-vertical")?D:k:o,n==k){if("up"===e)return void r._itemCollapse(l,!1,!0);if("down"===e){if(!r._isExpandable(l))return;r._itemExpand(l,!0),s=r._getFirstSelectableItem(l.find(".sui-menu-submenu > .sui-menu").first())}else if("left"===e){if((s=r._getPrevSelectableItem(l))===l)return}else{if("right"!==e)return;if((s=r._getNextSelectableItem(l))===l)return}}else if("up"===e){if(0===l.index()){if(i&&a===k)s=i,r._itemCollapse(s,!1,!0);else if((s=r._getPrevSelectableItem(l))===l)return}else if((s=r._getPrevSelectableItem(l))===l)return}else if("down"===e){if((s=r._getNextSelectableItem(l))===l)return}else if("left"===e){if(!i||a!==D)return;s=i,r._itemCollapse(s,!1,!0)}else{if("right"!==e)return;if(!r._isExpandable(l))return;r._itemExpand(l,!0),s=r._getFirstSelectableItem(l.find(".sui-menu-submenu > .sui-menu").first())}else s=r._getFirstSelectableItem(r.element);E(s)&&(r._setSelected(s,!0),r.trigger("select",{element:s,item:s.data(z)}))},_deselectAll:function(){var e=this.element;_(e).find("."+H).each(function(){_(this).removeClass(H)}),e.removeAttr(i)},_setSelected:function(e,t){var n=this.element;this._canHaveFocus(e)&&(t?(this._deselectAll(),_(e).addClass(H),n.attr(i,e.attr("id"))):(_(e).removeClass(H),n.removeAttr(i)))},_getSelected:function(){var e=_(this.element).find("."+H).first();return 0<_(e).length?e:o},_isSelected:function(e){return _(e).hasClass(H)},_itemClicked:function(e,t){var n=e.data(z);t&&t.isPropagationStopped()||(this._focus(),this._canHaveFocus(e)&&(n={item:n},this._isContext&&(n.element=c),n=this.trigger("click",n),t&&(t.stopPropagation(),n.isDefaultPrevented()&&t.preventDefault())))},_getItemByIndex:function(){var e,t,n=[].slice.call(arguments),i=o;if(0<n.length)for(t=0;t<n.length;t++){if(e=n[t],!r(e))return o;if(i=(0===t?_(this.element):_(_(i).data(j)).children("ul").first()).children("li:eq("+e+")"),_(i).length<=0)return o}return i},_getItemIndex:function(e){for(var t=[];t.unshift(e.data(U)),e=e.data(G););return t},enabled:function(){var e=[].slice.call(arguments),t=s(e[0])?e.shift():o,e=this._getItemByIndex.apply(this,e);if(E(e)){if(!E(t))return!e.data(O);e.data(O,!t),_(e)[t?"removeClass":"addClass"]("sui-menu-item-disabled")}},expanded:function(){var e=this,t=[].slice.call(arguments),n=s(t[0])?t.shift():o,i=e._getItemByIndex.apply(this,t);if(E(i)){if(!E(n))return e._isExpanded(i);n?(e._collapseAll(),e._itemExpand(i,!1)):e._itemCollapse(i,!1,!1)}E(n)&&!1===n&&0===t.length&&e._collapseAll()},selected:function(){var e=[].slice.call(arguments),t=s(e[0])?e.shift():o,n=this._getItemByIndex.apply(this,e);if(E(n)){if(!E(t))return this._isSelected(n);this._setSelected(n,t)}E(t)&&!1===t&&0===e.length&&this._deselectAll()},selectedIndex:function(){var e=this._getSelected();if(E(e))return this._getItemIndex(e)},selectedData:function(){var e=this._getSelected();if(E(e))return _(e).data(z)},selectedItem:function(){return this._getSelected()},destroy:function(){var e=this,t=e._eventNS;e.dataSource&&e.dataSource.off(P+t),e._blurTimeout&&(clearTimeout(e._blurTimeout),e._blurTimeout=null),_(e.element).off(t).remove(),e._isWrapped&&e._original.unwrap(),e._original.show(),e._original=null,m.fn.destroy.call(e)}});q.defaults=t,v.ui.plugin("Menu",q),e=h({},t,{orientation:D,target:o,filter:o,focusOnOpen:!0,minWidth:o}),(t=m.extend({init:function(){m.fn.init.apply(this,arguments);var e,i=this,t=_(i.element),n=i.options,a=n.events,s={},r=i._eventNS=".shieldContextMenu"+i.getInstanceId();i.menuElement=e=_('<div class="sui-context-menu"/>').hide().appendTo(b.body),n.minWidth&&i.menuElement.css("min-width",n.minWidth),l(["focus","blur","expand","collapse","click","select"],function(e,t){var n=a[t];S(n)&&(s[t]=x(n,i))}),i._menu=new q(t,h({},n,{renderToINTERNAL:e,wrapOriginalINTERNAL:!1,isContextINTERNAL:!0,events:s})),i._mouseTracker=new v.MouseTracker,_(n.target).on("contextmenu"+r,n.filter,function(e){return e.preventDefault(),i._open(i._mouseTracker.getPosition(e),_(e.currentTarget),!0,!1),!1}),_(b).on("mousedown"+r,function(e){_(e.target).closest(".sui-context-menu").length<=0&&i._closeOpen(!0)})},_open:function(e,t,n,i){var a=this,s=a.menuElement,r=a.options,l=r.animation,o=r.focusOnOpen;a._closeOpen(!1),n&&a.trigger("open",{element:t}).isDefaultPrevented()||(s.stop(!0,!0),s.show(),d.Set(s,new v.Event({pageX:e.x,pageY:e.y}),{source:"left top",target:"left top",overflow:r.overflow}),l&&l.enabled?s.hide().slideDown(l.openDelay,function(){c=t,(u=a)._visible=!0,o&&a.focus()}):(c=t,(u=a)._visible=!0,o&&a.focus()))},_close:function(e){var t=this,n=t.menuElement,i=t.options.animation;e&&t.trigger("close").isDefaultPrevented()||(u=c=null,n.stop(!0,!0),i&&i.enabled?n.slideUp(i.closeDelay,function(){t._visible=!1}):(n.hide(),t._visible=!1))},_closeOpen:function(e){u&&u.closeINTERNAL(!0)},closeINTERNAL:function(e){this._close(e)},focus:function(){_(this.menuElement).find(".sui-menu").first().focus()},visible:function(){var e,t,n=this,i=[].slice.call(arguments);if(!(0<i.length))return n._visible;e=!!i[0],t=i[1]||n._mouseTracker.getPosition(),e?n._open(t,i[2],!1,!1):n._close(!1),n._visible=e},enabled:function(){return this._menu.enabled.apply(this._menu,arguments)},expanded:function(){return this._menu.expanded.apply(this._menu,arguments)},selected:function(){return this._menu.selected.apply(this._menu,arguments)},selectedIndex:function(){return this._menu.selectedIndex.apply(this._menu,arguments)},selectedData:function(){return this._menu.selectedData.apply(this._menu,arguments)},selectedItem:function(){return this._menu.selectedItem.apply(this._menu,arguments)},destroy:function(){var e=this,t=e._eventNS;_(b).off(t),_(e.options.target).off(t),e._mouseTracker&&(e._mouseTracker.destroy(),e._mouseTracker=null),e._close(),e._menu&&(e._menu.destroy(),e._menu=null),_(e.menuElement).remove(),m.fn.destroy.call(e)}})).defaults=e,v.ui.plugin("ContextMenu",t)}(jQuery,shield);
!function(n,e,a){var s=e.ui.Widget,l=(n.extend,e.is[void 0]),r={min:0,max:5,step:1,symbolWidth:16,symbolHeight:16,enabled:!0,markPreset:!1,value:0,events:{}},i=s.extend({init:function(e,i){var t=this;s.fn.init.apply(t,arguments),t._enabled=t.options.enabled,t._renderRating(e,i,!1)},_setSelection:function(e){var i=this;if(i._enabled)return i._value=e,i._markPreset&&(i._markPreset=!1),i._range.find(".sui-rating-hover").hide(),i._range.find(".sui-rating-selected").width(e*i._symbolWidth-i._min*i._symbolWidth).show(),i.trigger("change"),!0},_calcRawScore:function(e,i){var t=this,e=(i.changedTouches?i.changedTouches[0]:i).pageX-n(e).offset().left;return(e=(e=!t._ltr?t._range.width()-e:e)>t._range.width()?t._range.width():e)<0&&(e=0),Math.ceil(e/t._symbolWidth*(1/t._step))},_setHover:function(e){var i,t=this;t._enabled&&(i=e*t._symbolWidth*t._step,(e=t._range.find(".sui-rating-hover")).width()!=i&&(t._range.find(".sui-rating-selected").hide(),e.width(i).show()))},_touchHandler:function(e){var i=e.originalEvent.changedTouches[0],t="";switch(e.type){case"touchmove":t="mousemove";break;case"touchend":t="mouseup";break;default:return}var n=document.createEvent("MouseEvent");n.initMouseEvent(t,!0,!0,a,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(n),e.preventDefault()},_renderRating:function(e,i,t){var n,a=this;a._item=a.element,a._item.hasClass("sui-rating")||a._item.addClass("sui-rating"),a._ltr=!a.element.parent().hasClass("sui-rtl"),t&&(n=null,l(a._value)?(n=(isNaN(i.value)?r:i).value,a._value=n):n=a._value,a._enabled&&(a._wired=!1)),a._initialized||(a._min=(isNaN(i.min)?r:i).min,a._max=(isNaN(i.max)?r:i).max,a._step=(isNaN(i.step)?r:i).step,a._symbolWidth=(isNaN(i.symbolWidth)?r:i).symbolWidth,a._symbolHeight=(isNaN(i.symbolHeight)?r:i).symbolHeight,a._value=(isNaN(i.value)?r:i).value,a._markPreset=(isNaN(i.markPreset)?r:i).markPreset,e="DIV"==a._item[0].nodeName?"div":"span",s=('<{{element}} id="shieldRating-range-{{index}}" class="sui-rating-range" tabindex="0"><{{element}} class="sui-rating-selected" style="height:'+a._symbolHeight+'px"></{{element}}><{{element}} class="sui-rating-hover" style="height:'+a._symbolHeight+'px"></{{element}}></{{element}}>').replace(/{{index}}/gi,2).replace(/{{element}}/gi,e),this.element.append(s),a._initialized=!0),a._item.find(".sui-rating-selected, .sui-rating-hover").height(a._symbolHeight),a._range=a._item.find(".sui-rating-range"),a._range.width(a._symbolWidth*(a._max-a._min)).height(a._symbolHeight);var s="sui-rating-preset"+(a._ltr?"":"-rtl");a._markPreset?a._item.find(".sui-rating-selected").addClass(s):a._item.find(".sui-rating-selected").removeClass(s),null!=a._value&&(s=(a._value-a._min)*a._symbolWidth,a._item.find(".sui-rating-selected").width(s)),a._wired||(a._enabled&&(t||(a._range.on("touchmove touchend",a._touchHandler),a._range.mousemove(function(e){e=a._calcRawScore(this,e);a._setHover(e)}),a._range.mouseleave(function(e){a._range.find(".sui-rating-hover").hide().width(0),a._item.trigger("hover",[null]).trigger("over",[null]),a._range.find(".sui-rating-selected").show()}),a._range.mouseup(function(e){e=a._calcRawScore(this,e)*a._step+a._min;a._setSelection(e),a._range.blur()}),a._range.keyup(function(e){38!=e.which&&e.which!=(a._ltr?39:37)||a._setSelection(Math.min(a._value+a._step,a._max)),40!=e.which&&e.which!=(a._ltr?37:39)||a._setSelection(Math.max(a._value-a._step,a._min))}))),a._wired=!0)},value:function(){var e=this,i=e.options,t=[].slice.call(arguments);if(!(0<t.length))return!l(e._value)||l(i.value)?e._value:i.value;t=t[0];t<e._min||t>e._max||(e.options.value=t,e._value=t,e._renderRating(e,i,!0))},enabled:function(){var e=this,i=e.options,t=e.element,n=[].slice.call(arguments);if(!(0<n.length))return e._enabled;e._enabled=n[0],e._renderRating(e,i,!0),e._enabled?t.removeClass("sui-rating-disabled"):t.addClass("sui-rating-disabled")},destroy:function(){var e=this;n(e.element).removeClass("sui-rating-hover sui-rating-selected sui-rating-disabled sui-rating-preset-rtl sui-rating-preset sui-rating").empty(),e._range.off("touchmove touchend",e._touchHandler),e._markPreset=e._enabled=e._min=e._max=e._value=e._ltr=e._item=e._symbolWidth=e._symbolHeight=e._step=e._wired=e._initialized=e._range=null,s.fn.destroy.call(e)}});i.defaults=r,e.ui.plugin("Rating",i)}(jQuery,shield,this);
!function(P,i,e){var n=i.ui.Widget,r=(i.Class,i.DataSource),t=document,s=i.is,S=(i.get,i.format),T=i.to.int,o=(Math.abs,P.each,P.proxy),a=(P.extend,P.map,e.opera),e=navigator.userAgent,l=/msie/i.test(e)&&!a,I=l&&7===t.documentMode,k="width",b="sui-disabled",u="click",t=n.extend({init:function(e,t){n.fn.init.apply(this,arguments);var a=this,i=a.options;a.currentPage=i.currentPage,a._createWrappers(),a._createPagerElements(),l&&a.element.on("selectstart",a._selectStart=function(){return!1}),a.element.on(u,"a",a._click=o(a._clickHandler,a)),i.dataSource?((a.dataSource=r.create(i.dataSource)).on("change.shieldPager"+a.getInstanceId(),o(a._dataChange,a)),a._updateDataSource()):a.refresh(!0)},destroy:function(){var e=this;e.dataSource&&e.dataSource.off("change.shieldPager"+e.getInstanceId()),e.pagination=null,e.infoBox=null,e.element.off("selectstart",e._selectStart),e._selectStart=null,e.element.off(u,"a",e._click),e._click=null,e.startLinkIndex=null,e.endLinkIndex=null,e.element.remove(),n.fn.destroy.call(e)},_clickHandler:function(e){var t=P(e.currentTarget),a=this;a.options;e.preventDefault(),t.parent().hasClass(b)||(t=T(t.attr("data-page")),a.currentPage=t,a.refresh())},_createWrappers:function(){var e=this,t=e.element;t.addClass("sui-pager sui-pager-core");var a=P("<ul/>").appendTo(t);I?a.addClass("sui-pagination sui-pagination-ie7"):a.addClass("sui-pagination");t=P("<div/>").appendTo(t);l&&!I?t.addClass("sui-pager-info-box-ie"):t.addClass("sui-pager-info-box"),e.pagination=a,e.infoBox=t},_updateInfoBox:function(){var e=this,t=e.options,a=t.messages,i=t.pageSize*(e.currentPage-1)+1,n=i-1+t.pageSize,r=Math.ceil(t.totalItems/t.pageSize);n>t.totalItems&&(n=t.totalItems),0===t.totalItems&&(i=0);r=S.call(e,a.infoBarTemplate,i,n,t.totalItems,e.currentPage,r);P(e.infoBox).empty().html(r)},_createPagerElements:function(){var e=this,t=e.options,a=t.messages,i=e.currentPage,n=e.pagination,r=Math.ceil(t.totalItems/t.pageSize),s=Math.min(t.pageLinksCount,r),o="",l="",u="",g="",p="",c=T((i-1)/t.pageLinksCount),d=c*t.pageLinksCount+1;1==i&&(u=" "+b),i!=r&&t.totalItems||(g=" "+b),t.imageLinks&&(a.previousText="&nbsp;",a.nextText="&nbsp;",a.firstText="&nbsp;",a.lastText="&nbsp;",l="sui-navigation-links ");var h=Math.min(d+s,r+1);e.startLinkIndex=d,e.endLinkIndex=h-1,0<c&&(o+="<li class='sui-pager-element'><a data-page='"+(e.startLinkIndex-1)+"'>...</a></li>");for(var f=d;f<h;f++)o+="<li class='sui-pager-element'><a data-page='"+f+"' class='sui-pager-number"+(p=f==i?" sui-selected":p)+"'>"+S.call(e,a.pageLabelTemplate,f)+"</a></li>",p="";e.endLinkIndex<r&&(o+="<li class='sui-pager-element'><a data-page='"+(e.endLinkIndex+1)+"'>...</a></li>"),t.directionLinks&&(o=(o="<li class='sui-pager-element"+u+"'><a title='"+a.previousTooltip+"' data-page='"+(i-1)+"' class='"+l+"sui-prev'>"+a.previousText+"</a></li>"+o)+"<li class='sui-pager-element"+g+"'><a title='"+a.nextTooltip+"' data-page='"+(i+1)+"' class='"+l+"sui-next'>"+a.nextText+"</a></li>"),t.boundaryLinks&&(o=(o="<li class='sui-pager-element"+u+"'><a title='"+a.firstTooltip+"' data-page='1' class='"+l+"'>"+a.firstText+"</a></li>"+o)+"<li class='sui-pager-element"+g+"'><a title='"+a.lastTooltip+"' data-page='"+r+"' class='"+l+"'>"+a.lastText+"</a></li>"),n.html(o);l=n.find("a");if(0<l.length&&(P(l[0]).addClass("sui-first"),P(l[l.length-1]).addClass("sui-last")),I){var m=n.find("li");if(0<m.length){for(var v=0,f=0;f<m.length;f++){var x=m[f].clientWidth;v+=x,P(m[f]).css(k,x+"px")}n.css(k,v+"px")}}},_dataChange:function(){var e=this.options,t=this.dataSource,a=t.take,i=Math.ceil(t.skip/a)+1;this.currentPage=i,e.pageSize=a,e.totalItems=t.total,this.refresh(!0)},refresh:function(e){var t=this;t.pagination.empty(),t._createPagerElements(),t._updateInfoBox(),e||(t._updateDataSource(),t.trigger("change",{currentPage:t.currentPage,pageSize:t.options.pageSize}))},_updateDataSource:function(){var e=this.dataSource,t=this.options;e&&(e.skip=(this.currentPage-1)*t.pageSize,e.take=t.pageSize,e.read())},page:function(e){if(!e)return this.currentPage;e=T(e);this._isValidPage(e)&&(this.currentPage=e,this.refresh())},first:function(){this.currentPage=1,this.refresh()},last:function(){var e=this.options,e=Math.ceil(e.totalItems/e.pageSize);this.currentPage=e,this.refresh()},hasNext:function(){var e=this.options,e=Math.ceil(e.totalItems/e.pageSize);return this.currentPage<e},hasPrev:function(){return 1<this.currentPage},next:function(){var e=this,t=e.options,t=Math.ceil(t.totalItems/t.pageSize);e.currentPage==t||(e.currentPage=e.currentPage+1,e.refresh())},prev:function(){var e=this;e.options;1==e.currentPage||(e.currentPage=e.currentPage-1,e.refresh())},pageSize:function(e){var t=this.options;if(!e)return t.pageSize;e=T(e);this._isValidPageSize(e)&&(this.currentPage=1,t.pageSize=e,this.refresh())},_isValidPage:function(e){var t=this.options,a=Math.ceil(t.totalItems/t.pageSize);return s.integer(e)?!(a<e||e<1)||(i.error("Invalid page number. The page number must be greater than 0 and less than "+a+".",t.dieOnError),!1):(i.error("Invalid page number. The page number must integer.",t.dieOnError),!1)},_isValidPageSize:function(e){var t=this.options;return s.integer(e)?!(e<1)||(i.error("Invalid page number. The page number must be greater than 0 (zero).",t.dieOnError),!1):(i.error("Invalid page size number. The page size number must be integer.",t.dieOnError),!1)}});t.defaults={currentPage:1,totalItems:null,pageSize:10,pageLinksCount:5,directionLinks:!0,boundaryLinks:!0,imageLinks:!1,messages:{pageLabelTemplate:"{0}",infoBarTemplate:"{0} - {1} of {2} items",previousText:"&lsaquo;",nextText:"&rsaquo;",firstText:"&laquo;",lastText:"&raquo;",firstTooltip:"Go to the first page",previousTooltip:"Go to the previous page",nextTooltip:"Go to the next page",lastTooltip:"Go to the last page"}},i.ui.plugin("Pager",t),i.ui.Pager=t}(jQuery,shield,this);
!function(v,l,m,p){function f(e){return(e=v(e).prop("tagName").toLowerCase())==be?Te:"input"==e?Ne:"textarea"==e?Ee:"uto"}function c(e){return v("<div/>").text(e).html()}function d(e){var t=v(e);t.focus(),t.get(0).setSelectionRange?(e=2*t.val().length,t.get(0).setSelectionRange(e,e)):t.val(t.val())}function _(e){var t=(e+="").lastIndexOf(".");return-1<t?e.length-t-1:0}function a(e,t){if(e&&!u(e))if(x(e))for(var n=0;n<e.length;n++)a(e[n],t);else if(e.or||e.and)for(var i in e)e.hasOwnProperty(i)&&a(e[i],t);else e.value=t}var s,n,o,e,b=l.ui.Widget,h=(l.Class,l.DataSource),i=l.ui.Position,r=l.Constants.KeyCode,g=l.error,u=l.is.func,x=l.is.array,k=l.is.defined,S=(l.is.number,l.is.string),y=(l.is.object,l.to.array),C=l.to.int,w=l.to.number,A=l.support.browser,D=l.format,T=l.strid,N=document,E=Math.min,B=Math.max,I=Math.pow,L=v.extend,t=(v.map,v.each),M=v.proxy,V=v.inArray,U="id",R="role",P="true",W="false",O="textbox",H="aria",F=H+"-selected",K=H+"-autocomplete",$=H+"-activedescendant",z=H+"-multiline",G=H+"-valuenow",Z=H+"-disabled",j=H+"-haspopup",q=H+"-checked",Q=H+"-label",X=H+"-labelledby",J=H+"-controls",Y=H+"-expanded",ee="title",te="disabled",ne="checked",ie="selected",ae="itemclick",le="tabindex",se="mousedown",oe="mouseup",re="mouseout",ue="click",ce="keydown",de="dragstart",he="dragenter",pe="dragover",_e="change",ve="focus",me="blur",fe="resize",be="select",ge="value",xe="placeholder",ke="selectstart",Se="unselectable",ye="height",Ce="suilbitemdata",we="suilbitemindex",Ae="suilbitemvalue",De="suilbitemtext",Te="uts",Ne="uti",Ee="utta",Be={enabled:!0,cls:p,dataSource:p,readDataSource:!0,valueTemplate:p,textTemplate:p,multiple:p,selected:p,values:p,width:p,height:p,maxHeight:p,events:{}},Ie=b.extend({init:function(){b.fn.init.apply(this,arguments);var e=this,t=e.options,n=t.dieOnError,i=t.dataSource,a=t.selected,l=t.values,s=t.renderToINTERNAL,o=t.wrapOriginalINTERNAL,r=t.tabindexINTERNAL,u=t.filterINTERNAL,c=k(u)?{filter:u}:{},d=!k(o)||o;if(e._original=u=v(e.element),e._utype=o=f(u),o==Ne&&t.multiple)return e.destroy(),void g("shieldListBox: Cannot initialize a multi-selection ListBox from an input element.",n);if(e._eventNS=".shieldListBox"+e.getInstanceId(),k(l)||k(a)||o!=Te&&o!=Ne||(l=u.val()),d?(e.wrapper=u.wrap("<span/>").parent(),e._isWrapped=!0):e._isWrapped=!1,u.hide(),e.element=d=v('<ul id="'+T()+'"/>').on(ve+e._eventNS,M(e._focus,e)).on(me+e._eventNS,M(e._blur,e)),k(t.width)&&d.css("width",t.width),k(t.height)&&d.css(ye,t.height),k(t.maxHeight)&&d.css("max-height",t.maxHeight),0<v(s).length?v(s).append(d):u.after(d),i)e.dataSource=h.create(i,c),t.valueTemplate||(t.valueTemplate="{0}"),t.textTemplate||(t.textTemplate="{0}");else{if(o!=Te)return e.destroy(),void g("shieldListBox: No dataSource or underlying SELECT element found.",n);e.dataSource=h.create(L({},{data:u,schema:{type:be}},c)),t.valueTemplate||(t.valueTemplate="{value}"),t.textTemplate||(t.textTemplate="{text}"),k(t.multiple)||(t.multiple=u.not("[multiple]").length<=0)}d.addClass("sui-listbox"),t.cls&&d.addClass(t.cls),u=k(r)?r:u.attr(le),d.attr(le,k(u)?u:"0"),d.on(ce+e._eventNS,M(e._keydown,e)),e.dataSource.on(_e+e._eventNS,M(e._dsChange,e)),k(l)?e._initValues=l:k(a)&&(e._initSelected=a),d.attr(R,"listbox"),t.multiple&&d.attr("aria-multiselectable",P),t.readDataSource&&e.dataSource.read(),e.enabled(t.enabled)},refresh:function(e){this.refreshWithElement(this._original,e)},_focus:function(e){this._oldSelection=this.selected(),this.trigger(ve)},_blur:function(e){var t=this,n=t._oldSelection,i=t.selected();0===v(n).not(i).length&&0===v(i).not(n).length||t.trigger(_e),t._oldSelection=i,t.trigger(me)},_dsChange:function(e){var t=this;t._render(),t._dsLoadedOnce||(t._dsLoadedOnce=!0,k(t._initValues)?t.values(t._initValues):k(t._initSelected)&&t.selected(t._initSelected))},_render:function(){var l=this,s=l.options,e=l.dataSource.view,o=v(l.element),r=l._utype,u=l._original,c=o.attr(U)+"_opt";r==Ne&&l._original.val();o.empty(),r==Te?u.empty():r==Ne&&u.removeAttr(ge),e&&t(e,function(t,n){var e=D.call(l,s.valueTemplate,n),i=D.call(l,s.textTemplate,n),a=v('<li id="'+c+t+'" role="option">'+i+"</li>").addClass("sui-listbox-item sui-unselectable").click(function(e){l._enabled&&(l._setActive(v(this)),l._toggleActive(e)),l.trigger(ae,{index:t,item:n})}).on(ke,function(){return!1}).data(Ce,n).data(we,t).data(Ae,e).data(De,i);s.multiple&&a.attr(F,W),o.append(a),r==Te&&u.append(v("<option/>").attr(ge,e).text(i))})},_keydown:function(e){var t=this,n=!0;switch(e.keyCode){case r.UP:t._move("up",e);break;case r.DOWN:t._move("down",e);break;case r.HOME:t._move("first",e),n=!1;break;case r.END:t._move("last",e),n=!1;break;case r.SPACE:case r.ENTER:t._toggleActive(e);break;default:n=!1}n&&e.preventDefault()},_move:function(e,t){var n=this,i=v(n.element),a=i.find(".sui-listbox-item-active").first(),l=i.find(":first");n._enabled&&("up"==e?0<a.prev().length?l=a.prev():0<a.length&&(l=a):"down"==e?0<a.next().length?l=a.next():0<a.length&&(l=a):"first"==e?l=i.find(".sui-listbox-item").first():"last"==e&&(l=i.find(".sui-listbox-item").last()),l.length<=0||(n.options.multiple?(n._setActive(l),n._ensureInScrollableArea(l)):n._select(l)))},_ensureInScrollableArea:function(e){var t=v(this.element),n=t.height(),i=t.scrollTop(),a=e.outerHeight(),e=e.position().top,a=e+a;e<0?t.scrollTop(i+e):n<a&&t.scrollTop(i+(a-n))},ensureActiveViewableINTERNAL:function(){var e=this._getActive();0<e.length&&this._ensureInScrollableArea(e)},_getActive:function(){return v(this.element).find(".sui-listbox-item-active").first()},_setActive:function(e){e.addClass("sui-listbox-item-active").siblings().removeClass("sui-listbox-item-active"),v(this.element).attr($,e.attr(U))},_setSelected:function(e){e.addClass("sui-listbox-item-selected").attr(F,P)},_unsetSelected:function(e){e.removeClass("sui-listbox-item-selected"),this.options.multiple?e.attr(F,W):e.removeAttr(F)},_toggleActive:function(e){this._toggle(e,this._getActive())},_toggle:function(e,t){var n=this;n._enabled&&(!t||t.length<=0||(n.options.multiple&&t.hasClass("sui-listbox-item-selected")?n._deselect(t):n._select(t)))},_select:function(e,t){var n=this,i=n._original,a=n._utype;n.options.multiple||n.clearSelection(),n._setActive(e),n._ensureInScrollableArea(e),n._setSelected(e),a==Te?i.find("option:eq("+e.data(we)+")").attr(ie,ie):a==Ne&&i.attr(ge,e.data(Ae)),t||n.trigger(be,{index:e.data(we),item:e.data(Ce),value:e.data(Ae),text:e.data(De),selected:!0})},_deselect:function(e,t){var n=this,i=n._original,a=n._utype;n._setActive(e),n._unsetSelected(e),a==Te?i.find("option:eq("+e.data(we)+")").removeAttr(ie):a==Ne&&i.removeAttr(ge),t||n.trigger(be,{index:e.data(we),item:e.data(Ce),value:e.data(Ae),text:e.data(De),selected:!1})},enabled:function(){var e=v(this.element),t=this._original,n=[].slice.call(arguments);if(!(0<n.length))return this._enabled;(n=!!n[0])?(e.removeAttr(te).removeClass("sui-listbox-disabled"),t.removeAttr(te)):(e.attr(te,te).addClass("sui-listbox-disabled"),t.attr(te,te)),this._enabled=n},selected:function(){var t,n,i=this,e=v(i.element),a=[].slice.call(arguments);if(!(0<a.length)){var l=[];return e.find(".sui-listbox-item-selected").each(function(){l.push(v(this).data(we))}),l}t=y(a[0]),n=!k(a[1])||!!a[1],e.find(".sui-listbox-item").each(function(e){-1<V(e,t)&&(n?i._select(v(this),!0):i._deselect(v(this),!0))})},selectedItems:function(){var e=[];return v(this.element).find(".sui-listbox-item-selected").each(function(){e.push(v(this).data(Ce))}),e},values:function(){var e,t=this,n=v(t.element),i=[].slice.call(arguments);if(!(0<i.length)){var a=[];return n.find(".sui-listbox-item-selected").each(function(){a.push(v(this).data(Ae))}),a}e=y(i[0]),n.find(".sui-listbox-item").each(function(){if(-1<V(v(this).data(Ae),e))return t._select(v(this),!0),!!t.options.multiple})},texts:function(){var e=[];return v(this.element).find(".sui-listbox-item-selected").each(function(){e.push(v(this).data(De))}),e},clearSelection:function(){var e=this._original,t=this.options.multiple,n=this._utype;n==Te?e.find("option").removeAttr(ie):n==Ne&&e.removeAttr(ge),v(this.element).find(".sui-listbox-item-selected").each(function(){v(this).removeClass("sui-listbox-item-selected sui-listbox-item-active"),t?v(this).attr(F,W):v(this).removeAttr(F)})},destroy:function(){var e=this,t=e._eventNS;e._dsLoadedOnce=!1,v(e.element).off(t).remove(),e.dataSource&&e.dataSource.off(_e+t),e._isWrapped&&e._original.unwrap(),e._original.show(),b.fn.destroy.call(e)}});Ie.defaults=Be,l.ui.plugin("ListBox",Ie),e={enabled:!0,cls:p,autoComplete:p,value:p,events:{}},(Be=b.extend({init:function(){b.fn.init.apply(this,arguments);var e=this,t=e.options,n=t.autoComplete,i=t.cls,a=t.value,l=v(e.element);e._eventNS=".shieldTextBox"+e.getInstanceId(),l.addClass("sui-input"),n&&(e.autoComplete=new s(l,n)),i&&l.addClass(i),l.on(ve+e._eventNS,M(e._focus,e)).on(me+e._eventNS,M(e._blur,e)),l.attr(R,O),f(l)==Ee&&l.attr(z,P),e.enabled(t.enabled),k(a)&&e.value(a)},focus:function(){v(this.element).focus(),d(v(this.element))},_focus:function(e){var t=this;t.oldValue=t._value(),t.interval=setInterval(M(t._detectChanges,t),1),t.trigger(ve)},_blur:function(e){clearInterval(this.interval),this.trigger(me)},_detectChanges:function(){var e=this;e._enabled&&e.oldValue!==e._value()&&(e.trigger(_e,{value:e._value(),old:e.oldValue}).isDefaultPrevented()?e._value(e.oldValue):e.oldValue=e._value())},_value:function(){return this.element.val.apply(this.element,arguments)},value:function(){return this._value.apply(this,arguments)},enabled:function(){var e=v(this.element),t=[].slice.call(arguments);if(!(0<t.length))return this._enabled;(t=!!t[0])?e.removeAttr(te).removeClass("sui-input-disabled"):e.attr(te,te).addClass("sui-input-disabled"),this._enabled=t},destroy:function(){var e=this,t=e.autoComplete,n=e.options.cls;clearInterval(e.interval),e.element.off(e._eventNS).removeClass("sui-input"+(n?" "+n:"")),t&&t.destroy(),b.fn.destroy.call(e)}})).defaults=e,l.ui.plugin("TextBox",Be),e={dataSource:p,valueTemplate:"{0}",textTemplate:"{0}",open:!1,delay:200,minLength:2,dropDownWidth:p,appendListBoxTo:"body",animation:{enabled:!0,openDelay:200,closeDelay:100},events:{}},(s=b.extend({init:function(){b.fn.init.apply(this,arguments);var t=this,n=v(t.element),i=t.options,e=i.dataSource,a=i.dieOnError,l=i.appendListBoxTo;if(t.pending=0,t.oldValue=n.val(),!e)return t.destroy(),void g("shieldAutoComplete: No dataSource set",a);e.filter||(e.filter={and:[{path:"",filter:"contains",value:""}]}),t._eventNS=".shieldAutoComplete"+t.getInstanceId(),n.addClass("sui-input"),t.listElement=v("<span/>").appendTo(v(l)),t.listBox=new Ie(t.listElement,{cls:"sui-autocomplete",dataSource:e,readDataSource:!1,textTemplate:i.textTemplate,multiple:!1,width:i.dropDownWidth||n.innerWidth(),events:{select:function(e){t._value(D.call(t,i.valueTemplate,e.item)),t.trigger(be,{item:e.item})},itemclick:function(e){n.focus(),t._inputBlur(e,0)},blur:function(e){t._inputBlur(e,0)}}}),t.listBox.element.hide(),t.dataSource=t.listBox.dataSource,n.on(ce+t._eventNS,M(t._inputKeydown,t)).on(me+t._eventNS,M(t._inputBlur,t,100)),n.attr(K,"list").attr(J,t.listBox.element.attr(U)).attr(j,t.listBox.element.attr(R)),n.attr(R,O),f(n)==Ee&&n.attr(z,P),t.listBox.dataSource.on(_e+t._eventNS,M(t._dsChange,t)),v(m).on(fe+t._eventNS,M(t._position,t)),t._open=!1,i.open&&t._searchTimeout()},_checkValueUpdated:function(){var e=this,t=e.element.val();e.oldValue!==t&&(e.trigger(_e,{value:e._value()}),e.oldValue=t)},_restoreOldValue:function(){this._value(this.oldValue)},_inputKeydown:function(e){var t=this;switch(e.keyCode){case r.TAB:break;case r.UP:case r.DOWN:t._inputUpDown(e);break;case r.ENTER:e.preventDefault(),t.cancelSearch=!0,t._hideItemList(),t._checkValueUpdated();break;case r.ESC:e.preventDefault(),t.cancelSearch=!0,t._hideItemList(),t._restoreOldValue();break;default:t._searchTimeout(e)}},_inputUpDown:function(e){var t=this;t._open?t._hasData()&&v(t.listBox.element).trigger(e):t._hasData()&&t._showItemList()},_inputBlur:function(e,t){var n=this;setTimeout(function(){v(n.listBox.element).is(":focus")||(n._hideItemList(),n._checkValueUpdated())},t)},_searchTimeout:function(e){var t=this;clearTimeout(t.searchTimeout),t.searchTimeout=setTimeout(function(){t.term!==t._value()&&(t.trigger("search",{value:t._value()}),t._search())},t.options.delay)},_search:function(){var e=this;e.term=e._value(),e.term.length<e.options.minLength?e._hideItemList():(e.cancelSearch=!1,e.pending++,v(e.element).addClass("sui-autocomplete-loading"),a(e.listBox.dataSource.filter,e.term),e.listBox.dataSource.read())},_dsChange:function(){var e=this;e.pending--,e.pending||v(e.element).removeClass("sui-autocomplete-loading"),!e.cancelSearch&&e._hasData()?e._showItemList():e._hideItemList()},_hasData:function(){var e=this.listBox.dataSource.view;return e&&0<e.length},_position:function(){var e=v(this.element),t=v(this.listBox.element);t.width(this.options.dropDownWidth||e.innerWidth()),i.Set(t,e,{source:"left top",target:"left bottom",overflow:"none"})},_showItemList:function(){var e=this,t=e.listBox,n=v(t.element),i=e.options.animation;n.css({top:0,left:0}),n.show(),e._position(),!e._open&&i&&i.enabled?n.hide().slideDown(i.openDelay,M(t.ensureActiveViewableINTERNAL,t)):t.ensureActiveViewableINTERNAL(),e._open=!0},_hideItemList:function(){var e=v(this.listBox.element),t=this.options.animation;t&&t.enabled?e.slideUp(t.closeDelay):e.hide(),this._open=!1},_value:function(){return this.element.val.apply(this.element,arguments)},hide:function(){v(this.listBox.element).hide()},show:function(){v(this.listBox.element).show()},isVisible:function(){return v(this.listBox.element).is(":visible")},destroy:function(){var e=this;e.dataSource=null,e.listBox&&(e.listBox.dataSource.off(_e+e._eventNS),e.listBox.destroy(),e.listBox=null),e.element.off(e._eventNS).removeClass("sui-input"),v(m).off(fe+e._eventNS),e.listElement&&e.listElement.remove(),b.fn.destroy.call(e)}})).defaults=e,l.ui.plugin("AutoComplete",s),Be={enabled:!0,cls:"",min:0,max:100,value:p,step:p,editable:!0,spinners:!0,valueTemplate:p,textTemplate:p,labels:{increase:"Increase value",decrease:"Decrease value"},events:{}},(e=b.extend({init:function(){b.fn.init.apply(this,arguments);var e,t,n=this,i=n.options,a=i.cls,l=i.value,s=i.step,o=i.editable,r=i.spinners,u=i.labels,c=u.increase,d=u.decrease,h=i.dieOnError;n._original=u=v(n.element),f(u)==Ne?(k(s)?i.step=s=w(s):(t=_(k(l)?l:n._value()),i.step=s=0<t?1/I(10,t):1),s?(n._eventNS=".shieldNumericTextBox"+n.getInstanceId(),n.element=t=u.wrap("<span/>").parent(),u.hide(),k(l)||(l=n._value()),o?(e=v('<input type="text" class="sui-input" />'),u=u.attr(xe),k(u)&&e.attr(xe,u)):e=v('<span class="sui-input">&nbsp;</span>').attr(le,"0"),(n.textElement=e).appendTo(t),e.on(ve+n._eventNS,M(n._focus,n)).on(me+n._eventNS,M(n._blur,n)),r&&(n._onSpinUpMDProxy=M(n._spinUpMD,n),n._onSpinDownMDProxy=M(n._spinDownMD,n),n._onSpinnerMUProxy=M(n._spinnerMU,n),n.spinUp=c=v('<span class="sui-spinner sui-spinner-up sui-unselectable"/>').html('<span class="sui-caret-up sui-unselectable" unselectable="on"/>').attr(Se,"on").attr("alt",c).attr(ee,c).on(se+n._eventNS,n._onSpinUpMDProxy).on(oe+n._eventNS,n._onSpinnerMUProxy).on(re+n._eventNS,n._onSpinnerMUProxy).on(ke+n._eventNS,function(){return!1}),n.spinDown=d=v('<span class="sui-spinner sui-spinner-down sui-unselectable"/>').html('<span class="sui-caret-down sui-unselectable" unselectable="on"/>').attr(Se,"on").attr("alt",d).attr(ee,d).on(se+n._eventNS,n._onSpinDownMDProxy).on(oe+n._eventNS,n._onSpinnerMUProxy).on(re+n._eventNS,n._onSpinnerMUProxy).on(ke+n._eventNS,function(){return!1}),t.append(v('<span class="sui-spinners"/>').append(c,d))),e.on(ce+n._eventNS,M(n._keydown,n)),t.addClass("sui-numeric-textbox"+(r?"":" sui-numeric-textbox-nosp")+(a?" "+a:"")),s=_(s),k(i.textTemplate)||(i.textTemplate="{0:n"+s+"}"),k(i.valueTemplate)||(i.valueTemplate="{0:n"+s+"}"),t.attr(R,"spinbutton").attr("aria-valuemin",i.min).attr("aria-valuemax",i.max),n.enabled(i.enabled),k(l)&&n.value(l),n._destroyed=!1):g("shieldNumericTextBox: Invalid step",h)):g("shieldNumericTextBox: Underlying element is not INPUT",h)},refresh:function(e){this.refreshWithElement(this._original,e)},_focus:function(e){var t=this;t._hasFocus||(t._hasFocus=!0,v(t.element).addClass("sui-numeric-textbox-focus"),t.value(t.value()),t.trigger(ve))},_blur:function(e){var t,n,i=this,a=v(i.element),l=v(i.textElement);i.options.editable&&(t=i.value(),i._updateIfDirty(),(n=i.value())!==t&&i.trigger(_e,{value:n})),setTimeout(function(){var e,t;a.is(":focus")||l.is(":focus")||i._destroyed||(i._hasFocus=!1,a.removeClass("sui-numeric-textbox-focus"),i.options.editable?(e=i.value(),i.value(l.val()),(t=i.value())!==e&&i.trigger(_e,{value:t})):i.value(i.value()),i.trigger(me))},100)},_keydown:function(e){var t=this,n=e.keyCode,i=t._enabled;switch(n){case r.TAB:case r.LEFT:case r.RIGHT:break;case r.END:t._updateValue("max",!1),e.preventDefault();break;case r.HOME:t._updateValue("min",!1),e.preventDefault();break;case r.ESC:i&&t.value(t.value()),e.preventDefault();break;case r.UP:t._updateValue("inc",!1),e.preventDefault();break;case r.DOWN:t._updateValue("dec",!1),e.preventDefault();break;default:t.options.editable&&i&&(48<=n&&n<=57||96<=n&&n<=105||190==n||110==n||173==n||109==n||189==n||n==r.DEL||n==r.BACK||n==r.ENTER||e.ctrlKey&&(118==n||86==n))?t._dirty=!0:e.preventDefault()}},_spinUpMD:function(e){var t=this;e.preventDefault(),t._updateValue("inc",!1),t._spinUpCancel=!1,setTimeout(function(){t._spinUpInt||t._spinUpCancel||(t._spinUpInt=setInterval(M(t._updateValue,t,"inc",!1),20))},100)},_spinDownMD:function(e){var t=this;e.preventDefault(),t._updateValue("dec",!1),t._spinDownCancel=!1,setTimeout(function(){t._spinDownInt||t._spinDownCancel||(t._spinDownInt=setInterval(M(t._updateValue,t,"dec",!1),20))},100)},_spinnerMU:function(e){var t=this;t._spinUpCancel=t._spinDownCancel=!0,clearInterval(t._spinUpInt),clearInterval(t._spinDownInt),t._spinUpInt=t._spinDownInt=null},_updateIfDirty:function(){var e=v(this.textElement);this._dirty&&(this.value(e.val()),this._dirty=!1)},_updateValue:function(e,t,n){var i,a=this,l=a.options,s=l.min,o=l.max,r=l.step,u=v(a.textElement),c=!1;a._enabled&&(a._updateIfDirty(),i=a.value(),k(i)||(i=0),t=!k(t)||!!t,n=!k(n)||!!n,"inc"==e?i<o&&(a.value(i+r),c=!0):"dec"==e?s<i&&(a.value(i-r),c=!0):"min"==e?(a.value(s),c=!0):"max"==e&&(a.value(o),c=!0),n&&(u.focus(),l.editable&&d(u)),c&&!t&&a.trigger(_e,{value:a.value()}))},increment:function(){this._updateValue("inc",!0,!1)},decrement:function(){this._updateValue("dec",!0,!1)},value:function(){var e,t=this,n=t.options,i=[].slice.call(arguments),a=t.element,l=v(t.textElement);if(!(0<i.length))return w(t._value());i=k(i[0])&&null!==i[0]&&""!==i[0]?(e=B(E(i[0],n.max),n.min),e=D.call(t,n.valueTemplate,e),e=w(e),D.call(t,n.textTemplate,e)+""):(e=null,""),n.editable?t._hasFocus&&t._enabled?l.val(e):l.val(i):l.html(i),t._value(e),null!==e?a.attr(G,e):a.removeAttr(G),a.attr("aria-valuetext",c(i))},_value:function(){return this._original.attr.apply(this._original,[ge].concat([].slice.call(arguments)))},enabled:function(){var e=v(this.element),t=[].slice.call(arguments);if(!(0<t.length))return this._enabled;(t=!!t[0])?e.removeAttr(te).removeClass("sui-numeric-textbox-disabled"):e.attr(te,te).addClass("sui-numeric-textbox-disabled"),this._enabled=t},focus:function(){v(this.textElement).focus(),d(v(this.textElement))},destroy:function(){var e=this;e._destroyed=!0,e.options.spinners&&(v(e.spinUp).off(e._eventNS).remove(),v(e.spinDown).off(e._eventNS).remove(),e.spinUp=e.spinDown=null),v(e.textElement).off(e._eventNS).remove(),e.textElement=null,e._original.unwrap().show(),e._original=null,b.fn.destroy.call(e)}})).defaults=Be,l.ui.plugin("NumericTextBox",e),Be={enabled:!0,mask:"00-00-0000",promptChar:"_",value:"",rules:{0:function(e){return/^[0-9]$/.test(e)},9:function(e){return/^[0-9 ]$/.test(e)},"#":function(e){return/^[0-9 \+\-]$/.test(e)},L:function(e){return/^[a-zA-Z]$/.test(e)},"?":function(e){return/^[a-zA-Z ]$/.test(e)},"&":function(e){return/^[\S]$/.test(e)},C:function(e){return/^[.]$/.test(e)},A:function(e){return/^[0-9a-zA-Z]$/.test(e)},a:function(e){return/^[0-9a-zA-Z ]$/.test(e)}},cultureSpecific:[".",",","$"],separators:["/","-"," ","(",")"],cls:p,events:{}},(e=b.extend({init:function(){b.fn.init.apply(this,arguments);var e=this,t=e.options,n=t.dieOnError,i=t.value,a=v(e.element);f(a)==Ne?e._verifyMask()?(e._eventNS=".shieldMaskedTextBox"+e.getInstanceId(),a.addClass("sui-input"),t.cls&&a.addClass(t.cls),k(i)&&e.value(i),a.on(ve+e._eventNS,M(e._focus,e)).on(me+e._eventNS,M(e._blur,e)).on(ce+e._eventNS,M(e._keydown,e)).on("keypress"+e._eventNS,M(e._keypress,e)).on("cut"+e._eventNS,M(e._cut,e)).on("paste"+e._eventNS,M(e._paste,e)).on(de+e._eventNS,M(e._dragstart,e)).on(he+e._eventNS,M(e._dragenter,e)).on(pe+e._eventNS,M(e._dragover,e)).on("drop"+e._eventNS,M(e._drop,e)),a.attr(R,O),e.enabled(t.enabled)):g("shieldMaskedTextBox: Invalid mask",n):g("shieldMaskedTextBox: Underlying element is not INPUT",n)},_getMask:function(){for(var e,t=this.options.mask,n="",i=0;i<t.length;i++)e=t.charAt(i),n+=this._isCultureSpecific(e)?this._getCultureSpecific(e):e;return n},_isCultureSpecific:function(e){return-1!==V(e,this.options.cultureSpecific)},_getCultureSpecific:function(e){var t=l.getCurrencyInfo();return"$"==e?t.symbol:t[e]},_skipSymbol:function(e){var t=this.options.separators;return-1!==V(e,t)||this._isCultureSpecific(e)},_insertAt:function(e,t,n){return e.substr(0,n)+t+e.substr(n)},_removeAt:function(e,t){return e.substr(0,t)+e.substr(t+1)},_caret:function(e,t){var n,i=v(this.element);if(0!==i.length&&!i.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,i.each(function(){i.setSelectionRange?i.setSelectionRange(e,t):i.createTextRange&&((n=i.createTextRange()).collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())})):(i[0].setSelectionRange?(e=i[0].selectionStart,t=i[0].selectionEnd):N.selection&&N.selection.createRange&&(n=N.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},_caretTo:function(e){var t=v(this.element);t.prop("selectionStart")!==p?(t.prop("selectionStart",e),t.prop("selectionEnd",e)):N.selection&&(t.focus(),(t=N.selection.createRange()).moveStart("character",-this.value().length),t.moveEnd("character",-this.value().length),t.moveStart("character",e),t.select())},_isValid:function(e,t){var n=this._getMask(),i=this.options.rules;return!(t>=n.length)&&(t=n.charAt(t),u(i[t])&&i[t].call(this,e))},_removeRegion:function(e){var t,n,i=this,a=i.options,l=i._getMask(),s=i._value(),o=i._caret(),r=a.promptChar,u=o.begin;if(u==o.end)e?(t=l.charAt(--u),i._skipSymbol(t)||(0<=u?(s=i._removeAt(s,u),s=i._insertAt(s,r,u),i._value(s)):u=0)):u<s.length&&(t=l.charAt(u),i._skipSymbol(t)?u++:(s=i._shiftLeft(s,u),i._value(s)));else{for(n=u;n<o.end;n++)i._skipSymbol(l.charAt(n))||(s=i._removeAt(s,n),s=i._insertAt(s,r,n));for(;i._skipSymbol(l.charAt(u));)++u;for(n=u;n<o.end;n++)i._skipSymbol(l.charAt(n))||(s=i._shiftLeft(s,u));i._value(s)}i._caretTo(u)},_shiftLeft:function(e,t){for(var n,i,a,l=this,s=l.options,o=l._getMask(),r=s.promptChar,u=t;u<e.length-1;){for(a=u+1;l._skipSymbol(o.charAt(a));)a++;if(a>e.length-1)break;n=e.charAt(a),e=l._removeAt(e,u),i=l._isValid(n,u),e=l._insertAt(e,i?n:r,u),u=a}return e=l._removeAt(e,u),e=l._insertAt(e,r,u)},_shiftRightKey:function(e,t){var n,i,a,l=this,s=l.options,o=l._getMask(),r=e.charAt(t),u=s.promptChar;if(r!=u&&t<e.length-1){for(var c=t+1,d=e.charAt(c);d!=u&&c<=e.length;)d=e.charAt(++c);if(d==u)for(var h=c;t<h;){if(!l._skipSymbol(o.charAt(h))){for(n=e.charAt(i=h-1);l._skipSymbol(o.charAt(i));)n=e.charAt(--i);e=l._removeAt(e,h),a=l._isValid(n,h),e=l._insertAt(e,a?n:u,h)}h--}}return e},_shiftRightPaste:function(e,t){for(var n,i,a,l=this,s=l.options,o=l._getMask(),r=s.promptChar,u=t,c=e.charAt(u);u<e.length-1;){for(i=u+1;l._skipSymbol(o.charAt(i));)i++;if(i>e.length-1)break;n=e.charAt(i),e=l._removeAt(e,i),a=l._isValid(c,i),e=l._insertAt(e,a?c:r,i),c=n,u=i}return e},_commit:function(e){for(var t=this,n=t._getMask(),i=t._caret(),a=i.begin;t._skipSymbol(n.charAt(a));)++a;if(t._isValid(e,a)){for(i.end>i.begin&&t._removeRegion(!1),i=t._value(),i=t._shiftRightKey(i,a),i=t._removeAt(i,a),i=t._insertAt(i,e,a),t._value(i),a++;t._skipSymbol(n.charAt(a));)a++;t._caretTo(a)}},_verifyValue:function(e){var t=this._getMask();if(e.length!=t.length)return!1;for(var n=0;n<t.length;n++)if(this._skipSymbol(t.charAt(n))){if(t.charAt(n)!==e.charAt(n))return!1}else if(!this._isValid(e.charAt(n),n))return!1;return!0},_verifyMask:function(){for(var e,t=this._getMask(),n=this.options.rules,i=0;i<t.length;i++)if(!this._skipSymbol(t.charAt(i))&&(e=t.charAt(i),!u(n[e])))return!1;return!0},_applyMask:function(){for(var e=this.options,t=this._getMask(),n=e.promptChar,i="",a=0;a<t.length;a++)i+=this._skipSymbol(t.charAt(a))?t.charAt(a):n;this._value(i)},_isEmptyMask:function(){for(var e=this._value(),t=this.options,n=this._getMask(),i=t.promptChar,a=0;a<n.length;a++)if(!this._skipSymbol(n.charAt(a))&&e.charAt(a)!==i)return!1;return!0},_clearMaskOnBlur:function(){this._isEmptyMask()&&this._value("")},_focus:function(e){var t;v(this.element).addClass("sui-input-focus"),(t=this._value())&&""!==t||this._applyMask(),this.trigger(ve)},_blur:function(e){this._clearMaskOnBlur(),this.trigger(me)},_preventDrag:function(e){if(e.type==de||e.type==he||e.type==pe||"drop"==e.type){var t=e.originalEvent.dataTransfer;return e.type==de?t.effectAllowed="none":t.dropEffect="none",e.stopPropagation&&(e.preventDefault(),e.stopPropagation()),!1}},_triggerChange:function(e){var t=this;e!==t._value()&&t.trigger(_e,{value:t._value(),old:e}).isDefaultPrevented()&&t._value(t.oldValue),clearInterval(t.changeInterval),t.changeInterval=p},_dragstart:function(e){return this._preventDrag(e)},_dragenter:function(e){return this._preventDrag(e)},_dragover:function(e){return this._preventDrag(e)},_drop:function(e){return this._preventDrag(e)},_keydown:function(e){var t=this,n=e.keyCode,i=t._enabled,a=t._value();switch(i||e.preventDefault(),n){case r.BACK:case r.DEL:t._removeRegion(n==r.BACK),t.changeInterval===p&&(t.changeInterval=setInterval(M(t._triggerChange,t,a),20)),e.preventDefault();break;default:if(e.ctrlKey)switch(n){case 118:case 86:case 122:case 90:case 121:case 89:118==n||86==n?t._paste(e):122!=n&&90!=n||(t._undo(),t.changeInterval===p&&(t.changeInterval=setInterval(M(t._triggerChange,t,a),20))),e.preventDefault()}}},_keypress:function(e){var t,n=this,i=e.keyCode,a=e.which,l=(n._enabled,n._value());if(!e.ctrlKey){switch(i){case r.HOME:case r.END:case r.LEFT:case r.RIGHT:case r.TAB:if(!A.ie)return;break;default:t=String.fromCharCode(a),n._commit(t)}e.preventDefault(),n.changeInterval===p&&l!=n._value()&&(n.changeInterval=setInterval(M(n._triggerChange,n,l),20))}},_cut:function(e){var t=this,n=t._caret();t.cutInterval===p&&(t.cutInterval=setInterval(M(t._aftercut,t,n),20))},_aftercut:function(e){for(var t=this,n=t._getMask(),i=t.value(),a=i,l=t.options.promptChar,s=e.begin,o=s;o<e.end;o++)i=t._insertAt(i,t._skipSymbol(n.charAt(o))?n.charAt(o):l,o);for(t._value(i),t._caretTo(s);t._skipSymbol(n.charAt(s));)++s;for(var r=s;r<e.end;r++)t._skipSymbol(n.charAt(r))||(i=t._shiftLeft(i,s));t._value(i),t._caretTo(s),clearInterval(t.cutInterval),t.cutInterval=p,t._triggerChange(a)},_paste:function(e){var t,n,i,a,l=this,s=l._getMask(),o=l._value(),r=o,u=l._caret(),c=u.begin,d=l.options.promptChar,h=e.originalEvent||e;if(c!=o.length)if(h.clipboardData?t=h.clipboardData.getData("text/plain"):m.clipboardData&&(t=m.clipboardData.getData("Text")),null!=t){if(c==u.end){for(;l._skipSymbol(s.charAt(c));)c++;for(a=t.length-1;0<=a;a--)o=l._shiftRightPaste(o,c),o=l._removeAt(o,c),n=l._isValid(t.charAt(a),c),o=l._insertAt(o,n?t.charAt(a):d,c);c+=t.length}else{for(i=c;i<u.end;i++)l._skipSymbol(s.charAt(i))||(o=l._removeAt(o,i),o=l._insertAt(o,d,i));for(a=0;a<t.length;a++){for(;l._skipSymbol(s.charAt(c));)c++;o=l._removeAt(o,c),n=l._isValid(t.charAt(a),c),o=l._insertAt(o,n?t.charAt(a):d,c),c++}}l._value(o),l._caretTo(c),e.preventDefault(),l.changeInterval===p&&(l.changeInterval=setInterval(M(l._triggerChange,l,r),20))}else e.preventDefault();else e.preventDefault()},_undo:function(){this._applyMask()},_value:function(){return this.element.val.apply(this.element,arguments)},value:function(){if(0<arguments.length){var e=[].slice.call(arguments);if(!this._verifyValue(e[0]))return!1}return this._value.apply(this,arguments)},enabled:function(){var e=v(this.element),t=[].slice.call(arguments);if(!(0<t.length))return this._enabled;(t=!!t[0])?e.removeAttr(te).removeClass("sui-input-disabled"):e.attr(te,te).addClass("sui-input-disabled"),this._enabled=t},destroy:function(){var e=this.options.cls;this.element.off(this._eventNS).removeClass("sui-input"+(e?" "+e:"")),b.fn.destroy.call(this)}})).defaults=Be,l.ui.plugin("MaskedTextBox",e),Be={editable:!0,enabled:!0,open:!1,cls:p,dataSource:p,autoComplete:{enabled:!1,delay:200,minLength:0,filter:p},valueTemplate:p,textTemplate:p,inputTemplate:p,selected:p,value:p,width:p,height:p,dropDownWidth:p,dropDownHeight:200,appendListBoxTo:"body",animation:{enabled:!0,openDelay:200,closeDelay:100},events:{}},(n=b.extend({init:function(){b.fn.init.apply(this,arguments);var e,t,n,i,a,l=this,s=l.options,o=s.editable,r=s.dieOnError,u=s.dataSource,c=s.autoComplete,d=s.selected,h=s.value,p=s.appendListBoxTo,_=s.tooltip||v(l.element).attr(ee)||"";if(l._original=e=v(l.element),l._utype=f(e),!u&&l._utype!=Te)return l.destroy(),void g((o?"shieldComboBox":"shieldDropDown")+": No dataSource or underlying SELECT element found.",r);l._eventNS=".shieldComboBox"+l.getInstanceId(),l.pending=0,l.element=n=e.wrap("<span/>").parent(),e.hide(),l._onDDHandler=M(l._onDD,l),o?(i=v('<input type="text" class="sui-input"/>').focus(function(){v(this).parent().addClass("sui-combobox-focus")}).blur(function(){v(this).parent().removeClass("sui-combobox-focus"),l._blur()}).attr(R,O).attr(z,W),t=e.attr(xe),k(t)&&i.attr(xe,t)):i=v('<span class="sui-input sui-unselectable">&nbsp;</span>').attr(Se,"on").on(ue+l._eventNS,l._onDDHandler).on(ke+l._eventNS,function(){return!1}),(l.textElement=i).appendTo(n),l.ddElement=r=v('<span class="sui-caret-container sui-unselectable"/>').html('<span class="sui-caret sui-unselectable" unselectable="on"/>').attr(Se,"on").on(ue+l._eventNS,l._onDDHandler).appendTo(n),n.addClass(o?"sui-combobox":"sui-dropdown"),s.cls&&n.addClass(s.cls),t=e.attr(le),(o?i:n).attr(le,k(t)?t:"0"),k(s.width)&&n.css("width",s.width),k(s.height)&&(n.css(ye,s.height),i.css(ye,s.height),r.css(ye,s.height)),n.on(ce+l._eventNS,M(l._keydown,l)).on("keyup"+l._eventNS,M(l._keyup,l)),l._focusHandler=M(l._focus,l),(o?i:n).on(ve+l._eventNS,l._focusHandler),n.on(me+l._eventNS,M(l._blur,l)),l.listElement=v("<span/>").appendTo(v(p)),c&&(a=k(c.filter)?c.filter:u&&u.filter?u.filter:l._utype==Te?{and:[{path:"text",filter:"contains",value:""}]}:{and:[{path:"",filter:"contains",value:""}]}),l.listBox=new Ie(e,{cls:"sui-autocomplete",dataSource:u,readDataSource:!1,valueTemplate:s.valueTemplate,textTemplate:s.textTemplate,multiple:!1,selected:k(d)&&x(d)?d[0]:d,values:h,width:s.dropDownWidth||n.innerWidth(),maxHeight:s.dropDownHeight,renderToINTERNAL:l.listElement,wrapOriginalINTERNAL:!1,tabindexINTERNAL:A.ie&&A.version<=8?0:-1,filterINTERNAL:a,events:{select:function(e){l._onLBSelChanged(),l.trigger(be,{index:e.index,item:e.item,text:e.text,value:e.value})},itemclick:function(e){(o?i:n).focus(),l._hideDD(),l.trigger(ae,{index:e.index,item:e.item,text:e.text,value:e.value})},blur:function(e){setTimeout(M(l._blur,l),20)}}}),l.listBox.element.hide(),l.dataSource=l.listBox.dataSource,l.listBox.dataSource.on(_e+l._eventNS,M(l._dsChange,l)),s.textTemplate=l.listBox.options.textTemplate,s.valueTemplate=l.listBox.options.valueTemplate,n.attr(R,"combobox"),o&&(i.attr(K,"list"),i.attr(J,l.listBox.element.attr(U)),i.attr(j,l.listBox.element.attr(R))),l.listBox.dataSource.read(),v(m).on(fe+l._eventNS,M(l._position,l)),_&&S(_)&&n.attr(ee,_),l.enabled(s.enabled),l._open=!1,s.enabled&&s.open&&l._showDD(!0),l._destroyed=!1},refresh:function(e){this.refreshWithElement(this._original,e)},focus:function(){this.options.editable?(v(this.textElement).focus(),d(v(this.textElement))):v(this.element).focus()},_focus:function(e){var t=this;t._hasFocus||(t._hasFocus=!0,t._oldValue=t.value(),t.trigger(ve))},_blur:function(e){var t=this;setTimeout(function(){t._destroyed||null==t.listBox||v(t.listBox.element).is(":focus")||v(t.element).is(":focus")||v(t.textElement).is(":focus")||(t._hideDD(),t._oldValue!==t.value()&&t.trigger(_e),t.trigger(me),t._hasFocus=!1)},100)},_keydown:function(e){switch(e.keyCode){case r.TAB:break;case r.UP:case r.DOWN:this._keydownUpDown(e),e.preventDefault();break;case r.ESC:case r.ENTER:e.preventDefault(),this.cancelSearch=!0,this._hideDD();break;default:this._keydownDefault(e)}},_keyup:function(e){e=e.keyCode;this.options.editable&&this._utype==Ne&&e!=r.UP&&e!=r.DOWN&&e!=r.ENTER&&e!=r.TAB&&v(this._original).attr(ge,v(this.textElement).val())},_keydownUpDown:function(e){this._enabled&&v(this.listBox.element).trigger(e)},_keydownDefault:function(e){this.listBox.clearSelection(),this._searchTimeout(e)},_searchTimeout:function(e){var t=this,n=t.options.autoComplete;n&&n.enabled&&(clearTimeout(t.searchTimeout),t.searchTimeout=setTimeout(function(){t.term!==v(t.textElement).val()&&t._search()},n.delay))},_search:function(){var e=this;e.listBox.dataSource;e.term=v(e.textElement).val(),e.term.length<e.options.autoComplete.minLength?e._hideDD():(e.cancelSearch=!1,e.pending++,v(e.textElement).addClass("sui-autocomplete-loading"),a(e.listBox.dataSource.filter,e.term),e.listBox.dataSource.read())},_dsChange:function(){var e=this,t=e._original,n=e._utype,i=e.textElement.val();if(!e._dsLoaded)return e._dsLoaded=!0,!e.options.editable&&e.listBox.selected().length<=0&&e.listBox.selected(0),void e._onLBSelChanged();e.pending--,e.pending||v(e.textElement).removeClass("sui-autocomplete-loading"),!e.cancelSearch&&e._hasData()?e._showDD(!0):e._hideDD(),n==Te?t.val(i):n==Ne&&t.attr(ge,i),e.trigger(be,{index:-1,item:i})},_hasData:function(){var e=this.listBox.dataSource.view;return e&&0<e.length},_onLBSelChanged:function(){var e,t=this,n=t.options,i=n.editable,a=t.listBox,l=a.selectedItems();l&&0<l.length?(D.call(t,n.valueTemplate,l[0]),e=D.call(t,n.textTemplate,l[0]),e=k(n.inputTemplate)?D.call(t,n.inputTemplate,l[0]):e,i?(t.textElement.val(e),t.textElement.attr($,a.element.attr($))):t.textElement.html(e)):i?(t.textElement.val(""),t.textElement.removeAttr($)):t.textElement.html("&nbsp;")},_onDD:function(e){var t=this,n=t.textElement;t.options.editable?(n.focus(),d(n)):t.element.focus(),t._open?t._hideDD():t._hasData()&&t._showDD(!1)},_position:function(){var e=v(this.element),t=v(this.listBox.element);t.width(this.options.dropDownWidth||e.innerWidth()),i.Set(t,e,{source:"left top",target:"left bottom",overflow:"none"})},_showDD:function(e){var t=this,n=t.listBox,i=v(n.element),a=t.options.animation;t._enabled&&(i.css({top:0,left:0}),i.show(),t._position(),!e&&a&&a.enabled?i.hide().slideDown(a.openDelay,M(n.ensureActiveViewableINTERNAL,n)):n.ensureActiveViewableINTERNAL(),t._open=!0,v(t.element).attr(Y,P))},_hideDD:function(){var e=v(this.listBox.element),t=this.options.animation;t&&t.enabled?e.slideUp(t.closeDelay):e.hide(),this._open=!1,v(this.element).attr(Y,W)},enabled:function(){var e=this,t=e.options.editable,n=v(e.element),i=e.textElement,a=e.ddElement,l=e._original,s=[].slice.call(arguments);if(!(0<s.length))return e._enabled;(s=!!s[0])?(n.removeAttr(te).removeClass(t?"sui-combobox-disabled":"sui-dropdown-disabled"),i.removeAttr(te),a.removeAttr(te),l.removeAttr(te)):(e._open&&e._hideDD(),n.attr(te,te).addClass(t?"sui-combobox-disabled":"sui-dropdown-disabled"),i.attr(te,te),a.attr(te,te),l.attr(te,te)),e._enabled=s},selected:function(){var e,t=this.listBox,n=[].slice.call(arguments);if(!(0<n.length))return(e=t.selected())&&0<e.length?e[0]:-1;e=n[0],t.clearSelection(),k(e)&&(-1<(e=C(e))?t.selected(e):this.options.editable||t.selected(0)),this._onLBSelChanged()},selectedItem:function(){var e=this.listBox.selectedItems();return e&&0<e.length?e[0]:null},value:function(){var e,t=this.listBox,n=[].slice.call(arguments);if(!(0<n.length))return(e=t.values())&&0<e.length?e[0]:this.options.editable?v(this.textElement).val():null;t.clearSelection(),t.values(n[0]),this._onLBSelChanged()},text:function(){var e=this.listBox.texts();return e&&0<e.length?e[0]:this.options.editable?v(this.textElement).val():null},destroy:function(){var e=this,t=v(e.element),n=v(e.textElement),i=v(e.ddElement);e._destroyed||(e._destroyed=!0,e._dsLoaded=!1,n.off(e._eventNS),i.off(e._eventNS),e._onDDHandler=null,v(m).off(fe+e._eventNS),t.off(e._eventNS),e.dataSource=null,e.listBox&&(e.listBox.dataSource.off(_e+e._eventNS),e.listBox.destroy(),e.listBox=null),v(e.listElement).remove(),n.remove(),i.remove(),e._original.unwrap().show(),e._original=null,b.fn.destroy.call(e))}})).defaults=Be,l.ui.plugin("ComboBox",n),e=L({},Be,{editable:!1,autoComplete:p}),(Be=n.extend({init:function(e,t){t&&(t.editable=!1,t.autoComplete=p),n.prototype.init.call(this,e,t)}})).defaults=e,l.ui.plugin("DropDown",Be),e={enabled:!0,cls:p,toggle:!1,checked:!1,events:{}},(o=b.extend({init:function(){b.fn.init.apply(this,arguments);var e=this,t=v(e.element),n=e.options,i=n.cls;e._eventNS=".shieldButton"+e.getInstanceId(),t.addClass("sui-button"),i&&t.addClass(i),t.on(ue+e._eventNS,M(e._click,e)),t.attr(R,"button"),e.enabled(n.enabled),n.toggle&&(e._checked=!!n.checked,e._checked?t.addClass("sui-button-checked"):t.removeClass("sui-button-checked"),t.attr(H+"-pressed",e._checked?P:W))},_click:function(e){var t=this,n=v(t.element);t._enabled&&(t.options.toggle&&(t._checked=!t._checked,t._checked?n.addClass("sui-button-checked"):n.removeClass("sui-button-checked"),n.attr(H+"-pressed",t._checked?P:W)),t.trigger(ue,e))},checked:function(){var e=this,t=v(e.element),n=[].slice.call(arguments);if(!(0<n.length))return e._checked;e.options.toggle&&(e._checked=!!n[0],e._checked?t.addClass("sui-button-checked"):t.removeClass("sui-button-checked"),t.attr(H+"-pressed",e._checked?P:W))},enabled:function(){var e=v(this.element),t=[].slice.call(arguments);if(!(0<t.length))return this._enabled;(t=!!t[0])?e.removeAttr(te).removeClass("sui-button-disabled").removeAttr(Z):e.attr(te,te).addClass("sui-button-disabled").attr(Z,P),this._enabled=t},destroy:function(){var e=this.options.cls;this.element.off(ue+this._eventNS).removeClass("sui-button sui-button-checked sui-button-disabled"+(e?" "+e:"")),b.fn.destroy.call(this)}})).defaults=e,l.ui.plugin("Button",o),Be=L({},e,{menu:p,dataSource:p,events:{}}),(e=o.extend({init:function(){var n,i,e,t,a;o.fn.init.apply(this,arguments),l.ui.ContextMenu&&(i=v((n=this).element),t=(e=n.options).menu,a=e.cls,n._handle=v('<button type="button"><span class="sui-caret-down"/></button>'),i.after(n._handle),n._handleButton=new o(n._handle,{cls:"sui-button-split-handle"+(a?" "+a:""),events:{click:function(e){var t;n.menu.visible()?n.menu.visible(!1):(t=v(i).offset(),n.menu.visible(!0,{x:t.left,y:t.top+v(i).outerHeight()}))}}}),k(t)?n._menuElement=v(t):(n._menuElement=v("<ul/>"),n._customMenuElement=!0,n._handle.after(n._menuElement)),n._menuElement.attr(U)||n._menuElement.attr(U,T()),n.menu=new l.ui.ContextMenu(n._menuElement,{cls:"sui-button-split-menu",dataSource:e.dataSource,minWidth:i.outerWidth()+n._handle.outerWidth()-2,events:{click:M(n.trigger,n,"menuClick")}}),v(n._handle).attr(j,P).attr(J,n._menuElement.attr(U)))},enabled:function(){var e=this;if(!(arguments&&0<arguments.length))return o.fn.enabled.apply(e,arguments);o.fn.enabled.apply(e,arguments),e._handleButton&&e._handleButton.enabled.apply(e._handleButton,arguments),e.menu&&!arguments[0]&&e.menu.visible(!1)},visible:function(){var e=this;if(!(arguments&&0<arguments.length))return o.fn.visible.apply(e,arguments);o.fn.visible.apply(e,arguments),e._handleButton&&e._handleButton.visible.apply(e._handleButton,arguments),e.menu&&!arguments[0]&&e.menu.visible(!1)},destroy:function(){var e=this;e.menu&&(e.menu.destroy(),e.menu=p),e._menuElement&&(e._customMenuElement&&(v(e._menuElement).remove(),e._customMenuElement=p),e._menuElement=p),e._handleButton&&(e._handleButton.destroy(),e._handleButton=p),e._handle&&(v(e._handle).remove(),e._handle=p),o.fn.destroy.call(e)}})).defaults=Be,l.ui.plugin("SplitButton",e),Be={enabled:!0,enableThreeStates:!1,enableLabelClick:!0,checked:!1,label:"",events:{}},(e=b.extend({init:function(){var e,t=this;b.fn.init.apply(this,arguments),t._eventNS=".shieldCheckBox"+t.getInstanceId();var n=t.options,i=v(t.element).addClass("sui-checkbox-input");(a=i.attr(U))||i.attr(U,a=T());var a,l=i.attr(le),s=t.wrapper=i.wrap('<span class="sui-checkbox"/>').parent().attr(le,k(l)?l:0),l=v('<span class="sui-checkbox-element sui-checkbox-unchecked"/>');l.appendTo(s),t.checkBoxElement=l,v('<span class="sui-checkmark"/>').appendTo(l),n.label?((e=v('<label class="sui-checkbox-label"/>')).appendTo(s),e.attr("for",a),e.get(0).innerHTML=n.label,n.enableLabelClick&&e.addClass("sui-checkbox-label-hover")):(e=(e=i.parent().parent())&&!e.is("label")?v('label[for="'+a+'"]'):e)&&n.enableLabelClick&&e.addClass("sui-checkbox-label-hover"),s.attr(R,"checkbox"),e&&((a=e.attr(U))||e.attr(U,a=T()),s.attr(X,a)),i.attr(ne)&&(n.checked=!0),t.enabled(n.enabled),t.checked(n.checked),s.on(ue+t._eventNS,M(t._click,t)).on(ce+t._eventNS,M(t._keydown,t)),e&&n.enableLabelClick&&e.on(ue+t._eventNS,M(t._click,t)).on(ce+t._eventNS,M(t._keydown,t)),s.onselectstart=function(){return!1},s.onmousedown=function(){return!1}},_click:function(e){var t=this;v(t.element);t._enabled&&(t._checked?t.options.enableThreeStates?t._checked=null:t._checked=!1:!1===t._checked?t._checked=!0:null===t._checked&&(t._checked=!1),t.checked(t._checked),t.trigger(ue,e),e.preventDefault(),e.stopPropagation())},_keydown:function(e){e.keyCode==r.SPACE&&this._click(e)},hide:function(){v(this.wrapper).hide()},show:function(){v(this.wrapper).show()},isVisible:function(){return v(this.wrapper).is(":visible")},checked:function(){var e=this,t=[].slice.call(arguments),n=v(e.element),i=e.wrapper,a=i.find(".sui-checkmark");if(!(0<t.length))return e._checked;e._checked=t=t[0],t?(i.find(".sui-checkbox-element").removeClass("sui-checkbox-unchecked sui-checkbox-indeterminate").addClass("sui-checkbox-checked"),i.attr(q,P),n.attr(ne,ne),n.data("1"),A.ie&&A.version<=8&&a.css("filter","progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=0.7071067811865475, M21=-0.7071067811865475, M22=0.7071067811865476)")):!1===t?(i.find(".sui-checkbox-element").removeClass("sui-checkbox-checked sui-checkbox-indeterminate").addClass("sui-checkbox-unchecked"),i.attr(q,W),n.removeAttr(ne),n.data("0"),a.css("filter","")):null===t&&e.options.enableThreeStates&&(i.find(".sui-checkbox-element").removeClass("sui-checkbox-checked sui-checkbox-unchecked").addClass("sui-checkbox-indeterminate"),i.attr(q,"mixed"),n.removeAttr(ne),n.data("2"),a.css("filter",""))},enabled:function(){var e=this,t=[].slice.call(arguments),n=v(e.element);if(!(0<t.length))return e._enabled;t=!!t[0];t?(e.wrapper.removeAttr(te).removeClass("sui-checkbox-disabled"),n.removeAttr(te)):(e.wrapper.attr(te,te).addClass("sui-checkbox-disabled"),n.attr(te,te)),e._enabled=t},destroy:function(){var e=this;e.element.removeClass("sui-checkbox-input").removeAttr(le),e.checkBoxElement&&e.checkBoxElement.off(e._eventNS),e.wrapper&&(e.wrapper.find(".sui-checkbox-label").off(e._eventNS).end().removeAttr(te).removeClass("sui-checkbox-disabled").replaceWith(e.element),e.wrapper=null),b.fn.destroy.call(e)}})).defaults=Be,l.ui.plugin("CheckBox",e),Be={enabled:!0,enableLabelClick:!0,checked:!1,label:"",events:{}},(e=b.extend({init:function(){b.fn.init.apply(this,arguments);var e,t,n=this,i=v(n.element),a=n.options;n._eventNS=".shieldRadioButton"+n.getInstanceId(),i.addClass("sui-radiobutton-input"),(l=i.attr(U))||i.attr(U,l=T()),s=i.attr(le),(t=n.wrapper=i.wrap('<span class="sui-radiobutton"/>').parent()).attr(le,k(s)?s:0);var l,s=v('<span class="sui-radiobutton-element"/>');s.appendTo(t),n.radioButtonElement=s,v('<span class="sui-checkmark"/>').appendTo(s),a.label?((e=v('<label class="sui-radiobutton-label"/>')).appendTo(t),e.attr("for",l),e.get(0).innerHTML=a.label,a.enableLabelClick&&e.addClass("sui-radiobutton-label-hover")):(e=(e=i.parent().parent())&&!e.is("label")?v('label[for="'+l+'"]'):e)&&a.enableLabelClick&&e.addClass("sui-radiobutton-label-hover"),t.attr(R,"radio"),e&&((l=e.attr(U))||e.attr(U,l=T()),t.attr(X,l)),i.attr(ne)&&(a.checked=!0),n.enabled(a.enabled),a.checked?n.checked(a.checked):n._checked=!1,t.on(ue+n._eventNS,M(n._click,n)).on(ce+n._eventNS,M(n._keydown,n)),e&&a.enableLabelClick&&e.on(ue+n._eventNS,M(n._click,n)).on(ce+n._eventNS,M(n._keydown,n)),t.onselectstart=function(){return!1},t.onmousedown=function(){return!1}},_click:function(e){this._enabled&&(this.checked(!0),this.trigger(ue,e),e.preventDefault(),e.stopPropagation())},_keydown:function(e){e.keyCode==r.SPACE&&this._click(e)},hide:function(){v(this.wrapper).hide()},show:function(){v(this.wrapper).show()},isVisible:function(){return v(this.wrapper).is(":visible")},checked:function(){var e=[].slice.call(arguments);if(!(0<e.length))return this._checked;this._uncheckAllFromSameGroup(),this._checkInternal(e[0])},_checkInternal:function(e){var t=v(this.element),n=this.wrapper;(this._checked=e)?(n.find(".sui-radiobutton-element").removeClass("sui-radiobutton-unchecked sui-radiobutton-indeterminate").addClass("sui-radiobutton-checked"),n.attr(q,P),t.attr(ne,ne)):(n.find(".sui-radiobutton-element").removeClass("sui-radiobutton-checked"),n.attr(q,W),t.removeAttr(ne))},_uncheckAllFromSameGroup:function(){var e=v(this.element);v('input[type="radio"][name="'+e.attr("name")+'"]').not(e).each(function(){var e=v(this).swidget();e&&(e._checkInternal(!1),e.trigger(_e))})},enabled:function(){var e=this,t=[].slice.call(arguments),n=v(e.element);if(!(0<t.length))return e._enabled;t=!!t[0];t?(e.wrapper.removeAttr(te).removeClass("sui-radiobutton-disabled"),n.removeAttr(te)):(e.wrapper.attr(te,te).addClass("sui-radiobutton-disabled"),n.attr(te,te)),e._enabled=t},destroy:function(){var e=this;e.element.removeClass("sui-radiobutton-input").removeAttr(le),e.radioButtonElement&&(e.radioButtonElement.off(e._eventNS),e.radioButtonElement=null),e.wrapper&&(e.label&&(e.label.off(e._eventNS),e.label=null),e.wrapper.removeAttr(te).removeClass("sui-radiobutton-disabled"),e.wrapper.replaceWith(e.element),e.wrapper=null),b.fn.destroy.call(e)}})).defaults=Be,l.ui.plugin("RadioButton",e),Be={cls:p,enabled:!0,checked:p,onText:p,offText:p,events:{}},(e=b.extend({init:function(){b.fn.init.apply(this,arguments);var e,t,n=this,i=n.options,a=i.dieOnError,l=i.cls,s=i.checked;n._original=e=v(n.element),f(e)===Ne&&"checkbox"===e.attr("type")?(n._eventNS=".shieldSwitch"+n.getInstanceId(),n.element=t=e.wrap('<div class="sui-switch sui-unselectable'+(l?" "+l:"")+'" />').parent(),l=v('<div class="sui-switch-inner sui-unselectable" />').appendTo(t),n._text=v('<span class="sui-switch-text sui-unselectable" />').appendTo(l),n._handle=l=v('<div class="sui-switch-handle sui-unselectable" />').appendTo(t),l.height(t.height()),e.hide(),l=e.attr(le),t.attr(le,k(l)?l:"0"),t.on(ue+n._eventNS,M(n._click,n)).on(ce+n._eventNS,M(n._keydown,n)),s=k(s)?!!s:!!e.attr(ne),t.attr(R,"switch"),n.checked(s,!1),n.enabled(i.enabled)):g("shieldSwitch: Underlying element must ne an input of type checkbox.",a)},refresh:function(e){this.refreshWithElement(this._original,e)},_keydown:function(e){e.keyCode===r.SPACE&&(this._click(e),e.preventDefault())},_click:function(e){this._enabled&&(this.checked(!this._checked),this.trigger(ue,e),e.preventDefault(),e.stopPropagation())},checked:function(){var e=this,t=e.options,n=t.onText,i=t.offText,a=v(e.element),l=v(e._handle),s=v(e._text),o=e._original,r=[].slice.call(arguments),u=100;if(!(0<r.length))return e._checked;t=!!r[0],k(r[1])&&!r[1]&&(u=0),t?(o.attr(ne,ne),l.animate({left:a.width()-l.width()-2},u,function(){a.addClass("sui-switch-checked").attr(q,P),k(n)&&(s.html(n),a.attr(Q,c(n)))})):(o.removeAttr(ne),l.animate({left:-2},u,function(){a.removeClass("sui-switch-checked").attr(q,W),k(i)&&(s.html(i),a.attr(Q,c(i)))})),e._checked=t},enabled:function(){var e=v(this.element),t=this._original,n=[].slice.call(arguments);if(!(0<n.length))return this._enabled;(n=!!n[0])?(e.removeAttr(te).removeClass("sui-switch-disabled"),t.removeAttr(te)):(e.attr(te,te).addClass("sui-switch-disabled"),t.attr(te,te)),this._enabled=n},destroy:function(){var e=this;v(e.element).off(e._eventNS),v(e._inner).remove(),v(e._handle).remove(),e._original.unwrap().show(),e._original=e._inner=e._handle=null,b.fn.destroy.call(e)}})).defaults=Be,l.ui.plugin("Switch",e)}(jQuery,shield,this);
!function(A,O,o){function n(e){var t=!1,a="Webkit Moz ms O".split(" "),i=d.createElement("div");if(e=e.toLowerCase(),!1===(t=i.style[e]?!0:t))for(var n=e.charAt(0).toUpperCase()+e.substr(1),l=0;l<a.length;l++)if(void 0!==i.style[a[l]+n]){t=!0;break}return t}var a,r=O.ui.Widget,e=O.Class,z=O.format,l=O.parseDate,d=document,U=O.is.func,s=O.is,u=A.proxy,t=navigator.userAgent,i=o.opera,c=/msie/i.test(t)&&!i,p=c&&8===d.documentMode,_=A.extend,h=s[void 0],m=s.string,g="month",D="year",w="decade",x="century",v="click",f="mousedown",b="focus",T="selectstart",y="change",P="viewChange",M="depthChange",C="close",I="blur",k="display",B="none",t={enabled:!0,readOnly:!1,hover:!0,footer:{enabled:!0,footerTemlpate:"Today"},min:new Date(1900,0,1),max:new Date(2099,11,31),value:void 0,focused:new Date,labels:{previous:"Previous",next:"Next"},view:{depth:g,start:g,minDepth:x},dayTemplate:"{day}",otherMonthDayTemplate:"{day}",outOfRangeDayTemplate:"&nbsp;",dateTooltipTemplate:"{date:MM/dd/yyyy}",events:{}},F=e.extend({init:function(e){var t=e.listbox,a=e.min,i=e.max,n=e.interval,l=e.parent,e=e.textTemplate;O.ui.ListBox&&(s.object(t)&&t instanceof O.ui.ListBox?l.listBox=t:(l._listBoxWrapper=A("<div style='display: none;' />").appendTo(d.body),n=this._populateDataSource(a,i,n),l.listBox=new O.ui.ListBox(l._listBoxWrapper,_({},t,{dataSource:{data:n},multiple:!1,textTemplate:e,width:l._wrapper.innerWidth(),maxHeight:200})),l._wrapper.parent().hasClass("sui-rtl")?l.listBox.element.parent().addClass("sui-rtl"):l.listBox.element.parent().css(k,B)),l._shouldShowPopup=!0)},_populateDataSource:function(e,t,a){var i,n,l=[];for((t<=e||(t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())).getTime()==e.getTime())&&(t=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,t.getHours(),t.getMinutes(),t.getSeconds())),i=e.getTime(),n=t.getTime();i<n;)l.push(new Date(i)),i+=60*a*1e3;return l},destroy:function(){this.listBox;this.listBox&&(this.listBox.destroy(),this.listBox=null)}}),i=r.extend({init:function(){r.fn.init.apply(this,arguments);var e=this,t=A(e.element),a=e.options,i=a.cls,n=a.value;t.addClass("sui-calendar"+(i?" "+i:"")),e._focusedDate=a.focused,e._view=a.view.start,e._enabled=a.enabled,n&&(m(n)&&(n=new Date(n)),e._focusedDate=e._selectedDate=new Date(n.getFullYear(),n.getMonth(),n.getDate())),e._initializeHeader(),e._render(),a.footer.enabled&&e._initializeFooter(),!a.readOnly&&a.enabled?(t.find(".sui-prev").on(v,e._movePrev=u(e._movePrevHandler,e)),t.find(".sui-next").on(v,e._moveNext=u(e._moveNextHandler,e)),t.find(".sui-text").on(v,e._changeViewDepth=u(e._changeViewDepthHandler,e)),t.find(".sui-footer").on(v,e._selectToday=u(e._selectTodayHandler,e))):a.readOnly?t.addClass("sui-read-only"):t.addClass("sui-calendar-disabled"),c&&t.on(T,e._selectStart=function(){return!1})},_calendarSelectionHandler:function(e){var t,a=this,i=A(e.target).closest("td"),n=a._focusedDate,l=a.options.view.depth;if(i.length&&!i.hasClass("sui-out-of-range")&&!i.hasClass("sui-no-hover")&&a._enabled)switch(A(a._calendarTable).find(".sui-focused").removeClass("sui-focused"),a._view){case g:var s=new Date(i.attr("data-value")),r=a._shouldChangeView(s),o=!1;s.getTime()>a._focusedDate&&(o=!0),a._focusedDate=s,a._selectedDate=s,r&&(a._animationBegins(o),a._renderView(),a._animationEnds(o),a.trigger(P)),a._selectDateCell(s),a.trigger(y);break;case D:o=parseInt(i.attr("data-value"),10);(s=new Date(n.getFullYear(),o,n.getDate())).getDate()!=n.getDate()&&(s=new Date(n.getFullYear(),o+1,0)),a._focusedDate=s,l==D?(a._selectedDate=s,a._selectDateCell(s),a.trigger(y)):(a._view=g,a._viewDepthAnimationBegins(),a._renderView(),a._viewDepthAnimationEnds(),a.trigger(M));break;case w:t=parseInt(i.attr("data-value"),10),(s=new Date(t,n.getMonth(),n.getDate())).getDate()!=n.getDate()&&(s=new Date(t,n.getMonth()+1,0)),a._focusedDate=s,l==w?(a._selectedDate=s,a._selectDateCell(s),a.trigger(y)):(a._view=D,a._viewDepthAnimationBegins(),a._renderView(),a._viewDepthAnimationEnds(),a.trigger(M));break;case x:t=parseInt(i.attr("data-value"),10),(s=new Date(t,n.getMonth(),n.getDate())).getDate()!=n.getDate()&&(s=new Date(t,n.getMonth()+1,0)),a._focusedDate=s,l==x?(a._selectedDate=s,a._selectDateCell(s),a.trigger(y)):(a._view=w,a._viewDepthAnimationBegins(),a._renderView(),a._viewDepthAnimationEnds(),a.trigger(M))}},_shouldChangeView:function(e){var t,a,i=this._focusedDate,n=!1,l=i.getFullYear(),s=e.getFullYear();switch(this._view){case g:s==l&&e.getMonth()==i.getMonth()||(n=!0);break;case D:s!=l&&(n=!0);break;case w:a=(t=l-l%10)+10,(s<t||a<s)&&(n=!0);break;case x:a=(t=l-l%100)+100,(s<t||a<s)&&(n=!0)}return n},_selectTodayHandler:function(){var e=this,t=new Date,a=e._shouldChangeView(t),i=!1,n=e.options.view.depth;e._enabled&&((t=new Date(t.getFullYear(),t.getMonth(),t.getDate())).getTime()>e._focusedDate&&(i=!0),e._selectedDate=e._focusedDate=t,e._view!=n?(e._view=n,e._viewDepthAnimationBegins(),e._renderView(),e._viewDepthAnimationEnds(),e.trigger(M)):a?(e._animationBegins(i),e._renderView(),e._animationEnds(i),e.trigger(P)):e._selectDateCell(e._focusedDate),e.trigger(y))},_selectDateCell:function(t){var e=this,a=null;switch(e._view){case g:a=e._calendarTable.find(".sui-date:not('.sui-other-month')").filter(function(){var e=A(this).attr("data-value"),e=new Date(e);return e.getDate()==t.getDate()&&e.getMonth()==t.getMonth()&&e.getFullYear()==t.getFullYear()});break;case D:a=e._calendarTable.find(".sui-month").filter(function(){return A(this).attr("data-value")==t.getMonth()});break;case w:a=e._calendarTable.find(".sui-year").filter(function(){return A(this).attr("data-value")==t.getFullYear()});break;case x:a=e._calendarTable.find(".sui-years").filter(function(){var e=parseInt(A(this).attr("data-value"),10);return t.getFullYear()>=e&&t.getFullYear()<e+10})}e._calendarTable.find(".sui-selected").removeClass("sui-selected"),a.addClass("sui-selected")},_viewDepthAnimationBegins:function(){var t,a,i=this;n("transition")?(i._enabled=!1,t=i._calendarTable,a=!1,t.bind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(e){a=i._removeOldTable(t,i)}),setTimeout(function(){a||i._removeOldTable(t,i)},1e3),t.addClass("sui-fade-in"),i._renderTable()):i._calendarTable.empty()},_removeOldTable:function(e,t){return e.unbind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"),e.remove(),t._enabled=!0},_viewDepthAnimationEnds:function(){n("transition")&&this._calendarTable.addClass("sui-scaling")},_changeViewDepthHandler:function(e){var t=this,a=[g,D,w,x],i=A.inArray(t._view,a),n=A.inArray(t.options.view.minDepth,a);t._enabled&&i<n&&(t._view=a[i+1],t._viewDepthAnimationBegins(),t._renderView(),t._viewDepthAnimationEnds())},_movePrevMonth:function(){var e=this._focusedDate,t=(this._view,new Date(e.getFullYear(),e.getMonth()-1,e.getDate()));t.getDate()!=e.getDate()&&(t=new Date(e.getFullYear(),e.getMonth(),0)),this._focusedDate=t},_moveNextMonth:function(){var e=this._focusedDate,t=(this._view,new Date(e.getFullYear(),e.getMonth()+1,e.getDate()));t.getDate()!=e.getDate()&&(t=new Date(e.getFullYear(),e.getMonth()+2,0)),this._focusedDate=t},_movePrevYears:function(e){var t=this._focusedDate,a=(this._view,new Date(t.getFullYear()-e,t.getMonth(),t.getDate()));a.getMonth()!=t.getMonth()&&(a=new Date(t.getFullYear()-e,t.getMonth()+1,0)),this._focusedDate=a,this._calendarTable.empty()},_moveNextYears:function(e){var t=this._focusedDate,a=(this._view,new Date(t.getFullYear()+e,t.getMonth(),t.getDate()));a.getMonth()!=t.getMonth()&&(a=new Date(t.getFullYear()+e,t.getMonth()+1,0)),this._focusedDate=a,this._calendarTable.empty()},_animationBegins:function(e){var t,a=this,i="-";n("transition")?(a._calendarTable.removeClass("sui-scaling"),a._tableWrapper=A("<div>").insertAfter(a.element.find(".sui-header")),a._tableWrapper.width(2*a.element.width()),a.element.find(".sui-calendar-view").appendTo(a._tableWrapper),a.element.parent().hasClass("sui-rtl")&&(e=!e,i="+"),a._renderTable(e),e||(a._tableWrapper.css("position","relative"),a._tableWrapper.css("left",i+a.element.width()+"px")),a._tableWrapper.addClass("sui-calendar-animation"),t=a._enabled=!1,a._tableWrapper.bind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(e){t=a._removeTempTables(a)}),setTimeout(function(){t||a._removeTempTables(a)},1e3)):a._calendarTable.empty()},_removeTempTables:function(e){return e._tempTable.remove(),e._calendarTable.insertAfter(e.element.find(".sui-header")),e._tableWrapper.unbind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"),e._tableWrapper.remove(),e._tableWrapper=null,e._enabled=!0},_animationEnds:function(e){var t;n("transition")&&(t=this.element.width(),e&&(t*=-1),this._tableWrapper.css("transform","translateX("+t+"px)"))},_moveView:function(e){var t=this;switch(t._animationBegins(e),t._view){case g:e?t._moveNextMonth():t._movePrevMonth(),t._createMonthView();break;case D:e?t._moveNextYears(1):t._movePrevYears(1),t._createYearsView();break;case w:e?t._moveNextYears(10):t._movePrevYears(10),t._createDecadeView();break;case x:e?t._moveNextYears(100):t._movePrevYears(100),t._createcenturyView()}t._animationEnds(e),t.trigger(P)},_disablePrev:function(e){var t=this.element.find(".sui-prev");e?(this.preventPrevNavigation=!0,t.addClass("sui-calendar-disabled")):(this.preventPrevNavigation=!1,t.removeClass("sui-calendar-disabled"))},_disableNext:function(e){var t=this.element.find(".sui-next");e?(this.preventNextNavigation=!0,t.addClass("sui-calendar-disabled")):(this.preventNextNavigation=!1,t.removeClass("sui-calendar-disabled"))},_movePrevHandler:function(){!this.preventPrevNavigation&&this._enabled&&this._moveView(!1)},_moveNextHandler:function(){!this.preventNextNavigation&&this._enabled&&this._moveView(!0)},_initializeHeader:function(){var e=this.options.labels;this._header=A('<div class="sui-header"><span unselectable="on"  title="'+e.previous+'" class="sui-prev"><span unselectable="on" class="sui-left-arrow"></span></span><span class="sui-text"></span><span unselectable="on" title="'+e.next+'" class="sui-next"><span unselectable="on" class="sui-right-arrow"></span></span></div>').appendTo(this.element)},_renderTable:function(e){var t=this,a=t.options,i="sui-calendar-view";a.hover&&a.enabled&&(i+=" sui-hoverable"),t._calendarTable?(t.element.find(".sui-calendar-view").off(v,t._calendarSelection),t._calendarSelection=null,e?(t._tempTable=t.element.find(".sui-calendar-view"),t._calendarTable=A("<table />").width(t.element.width()).addClass(i).insertAfter(t._tempTable)):(t._tempTable=t.element.find(".sui-calendar-view"),t._calendarTable=A("<table />").width(t.element.width()).addClass(i).insertBefore(t._tempTable))):t._calendarTable=A("<table />").width(t.element.width()).addClass(i).insertAfter(t.element.find(".sui-header")),!a.readOnly&&a.enabled&&t.element.find(".sui-calendar-view").on(v,t._calendarSelection=u(t._calendarSelectionHandler,t))},_render:function(){this._renderTable(),this._renderView()},_renderView:function(){var e=this;switch(e._view){case g:e._createMonthView();break;case D:e._createYearsView();break;case w:e._createDecadeView();break;case x:e._createcenturyView();break;default:e._createMonthView()}},_initializeFooter:function(){var t=this.options.footer.footerTemlpate,e=U(t)?t:function(e){return z(t,e)};A('<div class="sui-footer"><span class="sui-footer-text">'+e.call(this,new Date)+"</span></div>").appendTo(this.element)},_createMonthView:function(){for(var e=this,t=e.options,a=e._focusedDate,i=e._calendarTable,n=O.getCalendarInfo(),l=n.days,s=n.firstDay,n=n.months,r=l.namesShort,o=[],d=l.namesAbbr,u=l.names,c=t.min,p=t.max,_=t.dayTemplate,h=t.otherMonthDayTemplate,m=t.dateTooltipTemplate,g=t.outOfRangeDayTemplate,v=U(_)?_:function(e){return z(_,e)},f=U(h)?h:function(e){return z(h,e)},b=U(m)?m:function(e){return z(m,e)},D=U(g)?g:function(e){return z(g,e)},l=A("<thead/>").appendTo(i),t=A("<tr/>").addClass("sui-week-header").appendTo(l),w="",T=0,T=s;T<r.length;T++)o.push(r[T]);for(var x=0;x<s;x++)o.push(r[x]);for(var y=0;y<o.length;y++){o[y];w+="<th scope='col' abbr='"+d[y]+"' title='"+u[y]+"'>"+o[y]+"</th>"}t.html(w);var P=A('<tbody class="sui-days"/>').appendTo(i),M=a.getFullYear(),C=a.getMonth(),l=new Date(M,C,1).getDay()-s,t=new Date(M,C+1,0).getDay()-s,I=new Date(M,C+1,0).getDate(),i=7;e._header.find(".sui-text").text(n.names[C]+" "+M),l<=0&&(l=7-(0===l?0:s),i=0);var l=-1*l+1,k=6-t+I+i,B=0,F="";for(42<k-l&&(k-=7),k-l<35&&(k+=7),T=l;T<=k;T++){var Y=new Date(M,C,T,0,0,0,0),V="sui-date",W=Y.getTime()<c.getTime()||Y.getTime()>p.getTime()?" sui-out-of-range":"",H=T<1||I<T?" sui-other-month":"",S=6==Y.getDay()||0===Y.getDay()?" sui-weekend":"",E=W||a.getDate()!=T||H?"":" sui-focused",N=e._selectedDate&&Y.getTime()==e._selectedDate.getTime()&&!H?" sui-selected":"",L=null;W?(L=D.call(e,{date:Y,day:Y.getDate()}),V=N=E=S=H=""):H?""===(L=f.call(e,{date:Y,day:Y.getDate()}))&&(H+=" sui-no-hover"):L=v.call(e,{date:Y,day:Y.getDate()}),F+='<td title="'+b.call(e,{date:Y,day:Y.getDate()})+'" data-value="'+Y.getFullYear()+"/"+(Y.getMonth()+1)+"/"+Y.getDate()+'" class="'+V+H+S+E+N+W+'">'+L+"</td>",7==++B&&(A('<tr role="row"/>').appendTo(P).html(F),B=0,F="")}i=new Date(M,C,1,0,0,0,0),l=new Date(M,C+1,0);i.getTime()<=c.getTime()?e._disablePrev(!0):e.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&e._disablePrev(!1),l.getTime()>=p.getTime()?e._disableNext(!0):e.element.find(".sui-next").hasClass("sui-calendar-disabled")&&e._disableNext(!1)},_createYearsView:function(){var e=this,t=e.options,a=e._calendarTable,i=e._focusedDate,n=O.getCalendarInfo().months,l=n.names,s=n.namesAbbr,r=A('<tbody class="sui-months"/>').appendTo(a),o="",d=t.min,u=t.max,c="",p=0;e._header.find(".sui-text").text(i.getFullYear());for(var _=0;_<s.length;_++){var h=new Date(i.getFullYear(),_,i.getDate(),0,0,0,0),m=i.getMonth()==_?" sui-focused":"";t.view.depth==D&&(c=e._selectedDate&&h.getTime()==e._selectedDate.getTime()?" sui-selected":"");var g="",v=l[_],f=s[_],b="sui-month";(g=h.getFullYear()<=d.getFullYear()&&h.getMonth()<d.getMonth()||h.getFullYear()>=u.getFullYear()&&h.getMonth()>u.getMonth()?" sui-out-of-range":g)&&(v=f="&nbsp;",b=c=m=""),o+="<td data-value='"+_+"' class='"+b+m+c+g+"' title='"+v+"'>"+f+"</td>",4==++p&&(A("<tr/>").appendTo(r).html(o),p=0,o="")}i.getFullYear()<=d.getFullYear()?e._disablePrev(!0):e.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&e._disablePrev(!1),i.getFullYear()>=u.getFullYear()?e._disableNext(!0):e.element.find(".sui-next").hasClass("sui-calendar-disabled")&&e._disableNext(!1)},_createDecadeView:function(){var e=this,t=e.options,a=e._calendarTable,i=e._focusedDate,n=i.getFullYear(),l=n%10,s=A('<tbody class="sui-decade"/>').appendTo(a),r="",o=0,d=t.min,u=t.max,c=n-l-1,p="",_=n+(10-l);e._header.find(".sui-text").text(1+c+"-"+(_-1));for(var h=c;h<=_;h++){var m=new Date(h,i.getMonth(),i.getDate(),0,0,0,0),g=h==c||h==_?" sui-other-year":"",v=n==h?" sui-focused":"",f="",b=h,D="sui-year";(m.getFullYear()<d.getFullYear()||m.getFullYear()>u.getFullYear())&&(f=" sui-out-of-range"),t.view.depth==w&&(p=e._selectedDate&&m.getTime()==e._selectedDate.getTime()?" sui-selected":""),f&&(D=p=v=g="",b="&nbsp;"),r+="<td data-value='"+b+"' class='"+D+g+v+p+f+"' title='"+b+"'>"+b+"</td>",4==++o&&(A("<tr />").appendTo(s).html(r),o=0,r="")}c<d.getFullYear()?e._disablePrev(!0):e.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&e._disablePrev(!1),_>u.getFullYear()?e._disableNext(!0):e.element.find(".sui-next").hasClass("sui-calendar-disabled")&&e._disableNext(!1)},_createcenturyView:function(){var e=this,t=e.options,a=e._calendarTable,i=e._focusedDate,n=i.getFullYear(),l=n%100,s=A('<tbody class="sui-decade"/>').appendTo(a),r="",o="",d=t.min,u=t.max,c=0,p=n-l-10,_=99+p+10+2;e._header.find(".sui-text").text(10+p+"-"+(_-2));for(var h=p;h<_;h+=10){var m=h==p||h==_-1?" sui-other-years":"",g=new Date(h,i.getMonth(),i.getDate(),0,0,0,0),v=new Date(h+10,i.getMonth(),i.getDate(),0,0,0,0),f="",b=h<=n&&n<h+10?" sui-focused":"",D="sui-years",w=h+" - "+(h+9),T=h;(g.getFullYear()<d.getFullYear()&&v.getFullYear()<=d.getFullYear()||g.getFullYear()>u.getFullYear())&&(f=" sui-out-of-range"),t.view.depth==x&&(o=e._selectedDate&&e._selectedDate.getFullYear()>=g.getFullYear()&&e._selectedDate.getFullYear()<g.getFullYear()+10?" sui-selected":""),f&&(D=o=b=m="",T=w="&nbsp;"),r+="<td data-value='"+T+"' class='"+D+m+b+o+f+"' title='"+w+"'>"+w+"</td>",4==++c&&(A("<tr />").appendTo(s).html(r),c=0,r="")}p<d.getFullYear()?e._disablePrev(!0):e.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&e._disablePrev(!1),_>u.getFullYear()?e._disableNext(!0):e.element.find(".sui-next").hasClass("sui-calendar-disabled")&&e._disableNext(!1)},value:function(){var e=this,t=e.options,a=t.min,i=t.max,n=[].slice.call(arguments);if(!(0<n.length))return e._selectedDate;n=n[0];if(null==n||""===n||h(n))e._selectedDate=null,e._focusedDate=t.focused;else{if(n.getTime()<a.getTime()||n.getTime()>i.getTime())return;e._focusedDate=e._selectedDate=new Date(n.getFullYear(),n.getMonth(),n.getDate())}e._calendarTable.empty(),e._renderView()},enabled:function(){var e=this,t=e.options,a=[].slice.call(arguments);if(!(0<a.length))return e._enabled;a=a[0];a?(t.hover&&e._calendarTable.addClass("sui-hoverable"),e.element.removeClass("sui-calendar-disabled")):(e._calendarTable.removeClass("sui-hoverable"),e.element.addClass("sui-calendar-disabled")),e._enabled=a},previous:function(){this.preventPrevNavigation||this._moveView(!1)},next:function(){this.preventNextNavigation||this._moveView(!0)},view:function(){var e=this,t=[].slice.call(arguments);if(!(0<t.length))return e._view;t=t[0];t!=e._view&&(e._view=t,e._calendarTable.empty(),e._renderView())},focused:function(){var e=this,t=[].slice.call(arguments);if(!(0<t.length))return e._focusedDate;e._focusedDate=t[0];1<t.length&&e._view!=t[1]&&(e._view=t[1]),e._calendarTable.empty(),e._renderView()},visible:function(){var e=this,t=(e.options,[].slice.call(arguments));if(!(0<t.length))return!e.element.hasClass("sui-hidden")&&"none"!=e.element.css("display");t[0]?e.element.removeClass("sui-hidden"):e.element.addClass("sui-hidden")},destroy:function(){var e=this,t=e.options.cls,a=A(e.element);a.removeClass("sui-calendar sui-read-only sui-calendar-disabled"+(t?" "+t:"")),e._focusedDate=null,e._header=null,e._calendarTable=null,e._view=null,e._enabled=null,e._selectedDate=null,e._tempTable=null,e._tableWrapper=null,a.find(".sui-prev").off(v,e._movePrev),e._movePrev=null,a.find(".sui-next").off(v,e._moveNext),e._moveNext=null,a.find(".sui-text").off(v,e._changeViewDepth),e._changeViewDepth=null,a.find(".sui-footer").off(v,e._selectToday),e._selectToday=null,a.find(".sui-calendar-view").off(v,e._calendarSelection),e._calendarSelection=null,a.off(T,e._selectStart),e._selectStart=null,a.empty(),r.fn.destroy.call(e)}});i.defaults=t,O.ui.plugin("Calendar",i),e={calendar:null,format:"{0:MM/dd/yyyy}",textTemplate:"{0:MM/dd/yyyy}",value:null,parseFormats:["MM/dd/yyyy"],openOnFocus:!1,showButton:!0,editable:!0,enabled:!0,messages:{calendarIconTooltip:"",buttonText:"select"},min:new Date(1900,0,1),max:new Date(2099,11,31),events:{}},(a=r.extend({init:function(e,t){r.fn.init.apply(this,arguments);var a=this,i=a.options,n=i.value,l=i.showButton?"":" sui-no-button";p&&(l+=" sui-ie8");var s=i.isMonthYearPicker?A("<span class='sui-monthyearpicker"+l+"' />"):i.isTimePicker?A("<span class='sui-timepicker"+l+"' />"):i.isDateTimePicker?A("<span class='sui-datetimepicker"+l+"' />"):A("<span class='sui-datepicker"+l+"' />");a._selectedDate=null,A(e).after(s),a._wrapper=s,a._visibleInput=A("<input class='sui-picker-input' type='text' />").appendTo(s),i.showButton&&(l=i.messages.calendarIconTooltip,i.isTimePicker&&(l=i.messages.timeIconTooltip),a._iconWrapper=A("<span class='sui-icon-wrapper' unselectable='on' title='"+l+"' />").appendTo(s),A('<span class="sui-sprite sui-calendar-icon" unselectable="on">'+i.messages.buttonText+"</span>").appendTo(a._iconWrapper),i.isDateTimePicker&&(a._timeIconWrapper=A("<span class='sui-time-icon-wrapper' unselectable='on' title='"+i.messages.timeIconTooltip+"' />").appendTo(s),A('<span class="sui-sprite sui-time-icon" unselectable="on">'+i.messages.buttonText+"</span>").appendTo(a._timeIconWrapper))),A(e).css(k,B).appendTo(s),a._enabled=i.enabled,i.enabled||(s.addClass("sui-disabled"),a._visibleInput.on(b,a._visibleInputFocused=u(a._visibleInputFocusedHandler,a))),a._attachEvents(),n||(s=a._value())&&(n=s),n&&(m(n)&&(n=new Date(n)),i.isMonthYearPicker?a._selectedDate=new Date(n.getFullYear(),n.getMonth(),1):a._selectedDate=n,a._changeInputsValues(n))},_changeInputsValues:function(e){var t=this,a=t.options,i=a.format,n=a.textTemplate,l=U(i)?i:function(e){return z(i,e.date)};t._value(l.call(t,{date:e}));l=U(n)?n:function(e){return z(n,e.date)};t._visibleInput.get(0).value=l.call(t,{date:e}),a.isMonthYearPicker?t._selectedDate=new Date(e.getFullYear(),e.getMonth(),1):t._selectedDate=e},_attachEvents:function(){var e=this,t=e.options;t.showButton&&(t.isTimePicker?e._iconWrapper.on(v,e._toggleListBoxVisibility=u(e._toggleListBoxVisibilityHandler,e)):(t.isDateTimePicker&&e._timeIconWrapper.on(v,e._toggleListBoxVisibility=u(e._toggleListBoxVisibilityHandler,e)),e._iconWrapper.on(v,e._toggleCalendarVisibility=u(e._toggleCalendarVisibilityHandler,e)))),e._visibleInput.on("keypress",e._visibleInputKeyPress=u(e._visibleInputKeyPressHandler,e)),A(d).on(f+".shieldDatePicker"+e.getInstanceId(),u(e._hidePopupHandler,e)),e._visibleInput.on(b,e._visibleInputFocused=u(e._visibleInputFocusedHandler,e)),e._visibleInput.on(I,e._visibleInputBlured=u(e._visibleInputBluredHandler,e)),e._visibleInput.on(y,e._visibleInputChanged=u(e._visibleInputChangedHandler,e))},_visibleInputChangedHandler:function(){var e=this,t=e.options,a=t.format,i=t.min,n=t.max;e._enabled&&(e._selectedDate=l(e._visibleInput.get(0).value,t.parseFormats),e._selectedDate&&(e._selectedDate.getTime()>n||e._selectedDate.getTime()<i)&&(t.isTimePicker?e._selectedDate=new Date(i.getFullYear(),i.getMonth(),i.getDate(),e._selectedDate.getHours(),e._selectedDate.getMinutes(),e._selectedDate.getSeconds()):e._selectedDate=null),null!=e._selectedDate&&(e._selectedDate&&e.calendar&&e.calendar.value(e._selectedDate),e._selectedDate&&e.listBox&&e._selectValueInListBox(e._selectedDate)),i=U(a)?a:function(e){return z(a,e.date)},e.element.get(0).value=i.call(e,{date:e._selectedDate}),e.trigger(y))},_visibleInputFocusedHandler:function(e){var t=this,a=t.options;t._enabled?(a.isMonthYearPicker?t._wrapper.addClass("sui-monthyearpicker-focus"):a.isTimePicker?t._wrapper.addClass("sui-timepicker-focus"):a.isDateTimePicker?t._wrapper.addClass("sui-datetimepicker-focus"):t._wrapper.addClass("sui-datepicker-focus"),a.openOnFocus&&(!t._shouldShowPopup&&t.calendar||(t._toggleCalendarVisibilityHandler(),t._shouldShowPopup=!1))):e.target.blur()},_visibleInputBluredHandler:function(){var e=this.options,t=this._wrapper;e.isMonthYearPicker?t.removeClass("sui-monthyearpicker-focus"):e.isTimePicker?t.removeClass("sui-timepicker-focus"):e.isDateTimePicker?t.removeClass("sui-datetimepicker-focus"):t.removeClass("sui-datepicker-focus")},_visibleInputKeyPressHandler:function(e){var t=this,a=t.options;if(t._enabled){if(!1===a.editable)return e.preventDefault(),void e.stopPropagation();e=e.keyCode||e.charCode;13!=e&&9!=e&&27!=e||(t._shouldShowPopup=!0,t.calendar&&t.calendar.element.css(k)!=B&&(t.calendar.element.css(k,B),t.trigger(C)))}},_hidePopupHandler:function(e){var t,a=this;if(a.listBox){if(a._visibleInput.get(0)==e.target||a._iconWrapper&&a._iconWrapper.get(0)==e.target||a._iconWrapper&&a._iconWrapper.children(0).get(0)==e.target||a._timeIconWrapper&&a._timeIconWrapper.get(0)==e.target||a._timeIconWrapper&&a._timeIconWrapper.children(0).get(0)==e.target)return;a._popupIsOver?(t=a.listBox.element.parent().height(),a.listBox.element.parent().animate({height:0,top:a._visibleInput.offset().top},150,function(){A(this).css(k,B),A(this).css("height",t)})):a.listBox.element.parent().slideUp(150,function(){}),a._shouldShowPopup=!0}a.calendar&&(a._visibleInput.get(0)==e.target||a._iconWrapper&&a._iconWrapper.get(0)==e.target||a._iconWrapper&&a._iconWrapper.children(0).get(0)==e.target||(a._popupIsOver?(t=a.calendar.element.height(),a.calendar.element.animate({height:0,top:a._visibleInput.offset().top},150,function(){A(this).css(k,B),A(this).css("height",t)})):a.calendar.element.slideUp(150,function(){}),a._shouldShowPopup=!0))},_toggleListBoxVisibilityHandler:function(){var e=this,t=e.options,a=t.listBox;e._enabled&&(e.listBox||(new F({listbox:a,parent:e,min:t.min,max:t.max,interval:t.interval,textTemplate:t.isDateTimePicker?t.timeFormat:t.textTemplate}),e.listBox.on("select",e._listBoxChange=u(e._listBoxChangeHandler,e)),e.listBox.element.on(f,e._popupMouseDown=u(e._popupMouseDownHandler,e)),e._selectedDate&&e._selectValueInListBox(e._selectedDate)),t.isDateTimePicker&&(e.calendar&&e.calendar.element.css(k)!=B&&(e.calendar.element.slideUp(150,function(){}),e._shouldShowPopup=!0),e._toggleTimePopup=!0),e._shouldShowPopup?e._showPopup():e._hidePopup(),e._shouldShowPopup?e._shouldShowPopup=!1:e._shouldShowPopup=!0)},_listBoxChangeHandler:function(e){var t,a,i=this;i.options.isDateTimePicker?(a=i._selectedDate,t=e.item,a=a||new Date,i._selectedDate=new Date(a.getFullYear(),a.getMonth(),a.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())):i._selectedDate=e.item;for(var e=i.options,n=e.isDateTimePicker?O.format(e.timeFormat,i._selectedDate):O.format(e.textTemplate,i._selectedDate),l=i.listBox.element.find(".sui-listbox-item"),s=0;s<l.length;s++)if(l[s].innerHTML==n){i._selectedElement=A(l[s]);break}i._changeInputsValues(i._selectedDate),i._hidePopup(),i._shouldShowPopup=!0,i.trigger(y)},_toggleCalendarVisibilityHandler:function(){var e=this,t=e.options,a=t.calendar;e._enabled&&(e.calendar||(O.ui.Calendar&&(s.object(a)&&a instanceof O.ui.Calendar?e.calendar=a:(e._wrapper.parent().hasClass("sui-rtl")?(e._calendarWrapper=A("<div style='display: none;' />").appendTo(d.body),e._calendarWrapper.wrap("<span class='sui-rtl'></span>")):e._calendarWrapper=A("<div style='display: none;' />").appendTo(d.body),e.calendar=new O.ui.Calendar(e._calendarWrapper,_({},a,{min:t.min,max:t.max}))),e._shouldShowPopup=!0),e.calendar.on(y,e._calendarChange=u(e._calendarChangeHandler,e)),e.calendar.element.on(f,e._popupMouseDown=u(e._popupMouseDownHandler,e)),e._selectedDate&&e.calendar.value(e._selectedDate)),t.isDateTimePicker&&(e.listBox&&e.listBox.element.parent().css(k)!=B&&(e.listBox.element.parent().slideUp(150,function(){}),e._shouldShowPopup=!0),e._toggleTimePopup=!1),e._shouldShowPopup?e._showPopup():e._hidePopup(),e._shouldShowPopup?e._shouldShowPopup=!1:e._shouldShowPopup=!0)},_calendarChangeHandler:function(){var e,t=this,a=t.options;a.isMonthYearPicker?(e=t.calendar.value(),t._selectedDate=new Date(e.getFullYear(),e.getMonth(),1)):a.isDateTimePicker?(e=t.calendar.value(),t._selectedDate?t._selectedDate=new Date(e.getFullYear(),e.getMonth(),e.getDate(),t._selectedDate.getHours(),t._selectedDate.getMinutes(),t._selectedDate.getSeconds()):t._selectedDate=t.calendar.value()):t._selectedDate=t.calendar.value(),t._changeInputsValues(t._selectedDate),t._hidePopup(),t._shouldShowPopup=!0,t.trigger(y)},_calculateLeftOffsetWhenRtl:function(){var e,t=this,a=t.options,i=(t._wrapper.offset(),0);return a.isTimePicker||a.isDateTimePicker&&t._toggleTimePopup?0<(e=t._visibleInput.offset().left-(t.listBox.element.parent().width()-t._visibleInput.width()))&&(i=e):0<(e=t._visibleInput.offset().left-(t.calendar.element.width()-t._visibleInput.width()))&&(i=e),i},_showPopup:function(){var a=this,e=a.options,t=a._wrapper.offset(),i=t.top-A(d).scrollTop(),n=a._wrapper.height(),l=A(o).height(),s=t.top+n,r=t.left;a._wrapper.parent().hasClass("sui-rtl")&&(r=a._calculateLeftOffsetWhenRtl()),l<(l=(e.isTimePicker||e.isDateTimePicker&&a._toggleTimePopup?a.listBox.element.parent():a.calendar.element).height())+i+n?s=t.top-l-1:s++,(s<0||A(d).scrollTop()>s)&&(s=t.top+n+1),a._visibleInput.offset().top>s?a._popupIsOver=!0:a._popupIsOver=!1,e.isTimePicker||e.isDateTimePicker&&a._toggleTimePopup?a._popupIsOver?(a.listBox.element.parent().css({position:"absolute",zIndex:10002,top:s+l,left:r,height:0,display:""}),a.listBox.element.parent().animate({height:l,top:s+2},150)):(a.listBox.element.parent().css({position:"absolute",top:s,left:r,zIndex:10002}),a.listBox.element.parent().slideDown(150,function(){var e,t;a._selectedElement&&(e=Math.abs(a._selectedElement.get(0).offsetTop),t=a._selectedElement.parent().scrollTop(),e>a._selectedElement.parent().get(0).scrollTopMax&&(e=a._selectedElement.parent().get(0).scrollTopMax),t+a.listBox.element.height()>e&&t<e||a.listBox.element.scrollTop(e))})):a._popupIsOver?(a.calendar.element.css({position:"absolute",zIndex:10002,top:s+l,left:r,height:0,display:""}),a.calendar.element.animate({height:l,top:s},150)):(a.calendar.element.css({position:"absolute",zIndex:10002,top:s,left:r}),a.calendar.element.slideDown(150,function(){})),a.trigger("open")},_hidePopup:function(){var e,t=this,a=t.options;a.isTimePicker||a.isDateTimePicker&&t._toggleTimePopup?t.listBox&&t.listBox.element.parent().css(k)!=B&&(t._popupIsOver?(e=t.listBox.element.parent().height(),t.listBox.element.parent().animate({height:0,top:t._visibleInput.offset().top},150,function(){A(this).css(k,B),A(this).css("height",e)})):t.listBox.element.parent().slideUp(150,function(){})):t.calendar&&t.calendar.element.css(k)!=B&&(t._popupIsOver?(e=t.calendar.element.height(),t.calendar.element.animate({height:0,top:t._visibleInput.offset().top},150,function(){A(this).css(k,B),A(this).css("height",e)})):t.calendar.element.slideUp(150,function(){})),t.trigger(C)},_popupMouseDownHandler:function(e){e.preventDefault(),e.stopPropagation()},_selectValueInListBox:function(e){var t=this;if(t.listBox){for(var a=t.options,i=a.isDateTimePicker?O.format(a.timeFormat,e):O.format(a.textTemplate,e),n=t.listBox.element.find(".sui-listbox-item"),l=0;l<n.length;l++)if(n[l].innerHTML==i){t._selectedElement=A(n[l]);break}t.listBox.selected(l,!0)}},enabled:function(){var e=this,t=(e.options,[].slice.call(arguments));if(!(0<t.length))return e._enabled;t=t[0];(e._enabled=t)?(e._visibleInputFocused&&(e._visibleInput.off(b,e._visibleInputFocused),e._visibleInputFocused=null),e._wrapper.removeClass("sui-disabled")):(e._wrapper.addClass("sui-disabled"),e._visibleInput.on(b,e._visibleInputFocused=u(e._visibleInputFocusedHandler,e)))},visible:function(){var e=this,t=(e.options,[].slice.call(arguments));if(!(0<t.length))return!e._wrapper.hasClass("sui-hidden")&&"none"!=e._wrapper.css("display");t[0]?e._wrapper.removeClass("sui-hidden"):e._wrapper.addClass("sui-hidden")},focus:function(){A(this._visibleInput).focus()},_value:function(){return this.element.attr.apply(this.element,["value"].concat([].slice.call(arguments)))},value:function(){var e=this,t=e.options,a=t.min,i=t.max,n=[].slice.call(arguments);if(!(0<n.length))return e._selectedDate;n=n[0];if(null==n||""===n||h(n))return e._visibleInput.get(0).value="",e._selectedDate=null,e.calendar&&e.calendar.value(null),void((t.isTimePicker||t.isDateTimePicker)&&e.listBox&&e.listBox.clearSelection());!t.isTimePicker&&(n.getTime()<a.getTime()||n.getTime()>i.getTime())||(e._changeInputsValues(n),e.calendar&&e.calendar.value(n),e._selectedDate=n,(t.isTimePicker||t.isDateTimePicker)&&e._selectValueInListBox(n))},close:function(){var e=this,t=[].slice.call(arguments);e.options.isDateTimePicker?0<t.length&&("calendar"==t[0]&&(e._shouldShowPopup=!1,e._toggleCalendarVisibilityHandler()),"timeview"==t[0]&&(e._shouldShowPopup=!1,e._toggleListBoxVisibilityHandler())):(e._shouldShowPopup=!1,e._toggleCalendarVisibilityHandler())},open:function(){var e=this,t=[].slice.call(arguments);e.options.isDateTimePicker?0<t.length&&("calendar"==t[0]&&(e._shouldShowPopup=!0,e._toggleCalendarVisibilityHandler()),"timeview"==t[0]&&(e._shouldShowPopup=!0,e._toggleListBoxVisibilityHandler())):(e._shouldShowPopup=!0,e._toggleCalendarVisibilityHandler())},destroy:function(){var e=this;e.options.isTimePicker?(e._iconWrapper.off(v,e._toggleListBoxVisibility),e._toggleListBoxVisibility=null):(e.options.isDateTimePicker&&(e._iconWrapper.off(v,e._toggleListBoxVisibility),e._toggleListBoxVisibility=null,e._timeIconWrapper=null),e._iconWrapper.off(v,e._toggleCalendarVisibility),e._toggleCalendarVisibility=null),e._iconWrapper=null,e._popupIsOver=null,A(d).off(f+".shieldDatePicker"+e.getInstanceId()),A(e.element).css(k,"").insertAfter(e._wrapper),e._wrapper.remove(),e._wrapper=null,e._destroyCalendar(),e._destroyListBox(),e._shouldShowPopup=null,e._visibleInput.off(b,e._visibleInputFocused),e._visibleInput.off(y,e._visibleInputChanged),e._visibleInput.off(I,e._visibleInputBlured),e._visibleInputFocused=null,e._visibleInputChanged=null,e._visibleInputBlured=null,e._visibleInput=null,e._selectedDate=null,e._enabled=null,r.fn.destroy.call(e)},_destroyCalendar:function(){var e=this;e.calendar&&(e.calendar.off(y,e._calendarChange),e._calendarChange=null,e.calendar.element.off(f,e._popupMouseDown),e._popupMouseDown=null,e.calendar.destroy(),e.calendar=null,e._calendarWrapper&&e._calendarWrapper.remove())},_destroyListBox:function(){var e=this;e.listBox&&(e._selectedElement=null,e.listBox.off(y,e._listBoxChange),e._listBoxChange=null,e.listBox.destroy(),e.listBox=null,e._listBoxWrapper&&(e._listBoxWrapper.remove(),e._listBoxWrapper=null))}})).defaults=e,O.ui.plugin("DatePicker",a),t=_({},e,{isMonthYearPicker:!0,calendar:{view:{depth:D,start:D}},format:"{0:MMMM yyyy}",textTemplate:"{0:MMMM yyyy}",parseFormats:["MMMM yyyy"]}),(i=a.extend({init:function(e,t){t&&(t.isMonthYearPicker=!0),a.prototype.init.call(this,e,t)}})).defaults=t,O.ui.plugin("MonthYearPicker",i),t=_({},e,{isTimePicker:!0,listBox:null,format:"{0:h:mm tt}",textTemplate:"{0:h:mm tt}",parseFormats:["h:mm tt"],interval:30,min:new Date(1900,0,1,0,0,0),max:new Date(1900,0,1,0,0,0),messages:{timeIconTooltip:"",buttonText:"select"}}),(i=a.extend({init:function(e,t){t&&(t.isTimePicker=!0),a.prototype.init.call(this,e,t)}})).defaults=t,O.ui.plugin("TimePicker",i),i=_({},e,{isDateTimePicker:!0,listBox:null,format:"{0:MM/dd/yyyy h:mm tt}",textTemplate:"{0:MM/dd/yyyy h:mm tt}",parseFormats:["MM/dd/yyyy h:mm tt"],interval:30,min:new Date(1900,0,1,0,0,0),max:new Date(2099,11,31,0,0,0),messages:{calendarIconTooltip:"",timeIconTooltip:"",buttonText:"select"},timeFormat:"{0:h:mm tt}"}),(e=a.extend({init:function(e,t){t&&(t.isDateTimePicker=!0),a.prototype.init.call(this,e,t)}})).defaults=i,O.ui.plugin("DateTimePicker",e)}(jQuery,shield,this);
!function(c,i,a,e){var s=i.ui.Widget,t=i.Class,u=document,p=i.is,d=(i.get,i.format,i.to.int),h=(Math.abs,c.each,c.proxy),g=(c.extend,c.map,p[void 0]),o=a.opera,r=navigator.userAgent,l=(/msie/i.test(r)&&!o&&u.documentMode,"keydown"),v="click",f="mousedown",_="change",C="select",b="cancel",y="display",I="none",o={cls:e,palette:"basic",basicPalette:{columns:10,tileSize:{width:16,height:16},tileBorderWidth:0,palette:["#FFFFFF","#FFCCCC","#FFCC99","#FFFF99","#FFFFCC","#99FF99","#99FFFF","#CCFFFF","#CCCCFF","#FFCCFF","#CCCCCC","#FF6666","#FF9966","#FFFF66","#FFFF33","#66FF99","#33FFFF","#66FFFF","#9999FF","#FF99FF","#BBBBBB","#FF0000","#FF9900","#FFCC66","#FFFF00","#33FF33","#66CCCC","#33CCFF","#6666CC","#CC66CC","#999999","#CC0000","#FF6600","#FFCC33","#FFCC00","#33CC00","#00CCCC","#3366FF","#6633FF","#CC33CC","#666666","#990000","#CC6600","#CC9933","#999900","#009900","#339999","#3333FF","#6600CC","#993399","#333333","#660000","#993300","#996633","#666600","#006600","#336666","#000099","#333399","#663366","#000000","#330000","#663300","#663333","#333300","#003300","#003333","#000066","#330099","#330033"]},advancedPalette:{type:"hex",buttons:!0,messages:{apply:"Apply",cancel:"Cancel"}},displayInline:!1,showLetter:!1,value:e,valueTemplate:function(e){return e?(e.hex?e:e.toRGB()).hex():null}},e=s.extend({init:function(e,t){s.fn.init.apply(this,arguments);var o=this,r=o.options,n=r.tooltip||c(o.element).attr("title")||"",i=r.cls,l=p.defined(r.value)?r.value:o._value();1<arguments.length&&(t=arguments[1]).basicPalette&&t.basicPalette.palette&&(r.basicPalette.palette=t.basicPalette.palette),o.element.css(y,I),o._enabled=!0,o.currentColor=new k({color:l}),r.displayInline?(o._buildPalette(),i&&o._picker.addClass(i)):(o._picker=l=c('<span class="sui-color-picker-dropdown" tabindex="0"><span class="sui-color-cell sui-unselectable" unselectable="on">&nbsp;</span><span class="sui-caret-container sui-unselectable" unselectable="on"><span class="sui-caret" unselectable="on"></span></span></span>').insertAfter(o.element),i&&o._picker.addClass(i),r.showLetter?(r=l.find(".sui-color-cell"),c('<span class="sui-tool-letter">A<span class="sui-selected-color"></span></span>').appendTo(r),l.find(".sui-selected-color").css("background-color",o.currentColor.color.cssa())):l.find(".sui-color-cell").css("background-color",o.currentColor.color.cssa()),l.on(v,o._pickerClicked=h(o._pickerClickedHandler,o)),c(u).on(f+".shieldColorPicker"+o.getInstanceId(),h(o._hidePopup,o))),o.currentColor.color.cssa?o._oldColor=o.currentColor.color.cssa():o._oldColor=o.currentColor.color.toRGB().cssa(),n&&p.string(n)&&o._picker.attr("title",n),o._changed()},hidePalette:function(){this._hidePopup({})},hide:function(){var e=this;e.options.displayInline?c(e.wrapperDiv).hide():(c(e._picker).hide(),e._hidePopup({}))},show:function(){var e=this;e.options.displayInline?c(e.wrapperDiv).hide():c(e._picker).show()},isVisible:function(){var e=this;return(e.options.displayInline?c(e.wrapperDiv):c(e._picker)).is(":visible")},_changed:function(){var e=this;e._value(i.format.call(e,e.options.valueTemplate,e.currentColor.color))},_value:function(){return this.element.attr.apply(this.element,["value"].concat([].slice.call(arguments)))},_buildPalette:function(){var e=this;"basic"==e.options.palette?e._buildBasicPalette():(e._buildAdvancedPalette(),e._changeAdvancedPaletteColor())},_changeAdvancedPaletteColor:function(){var e=this,t=e.currentColor.color.toHSV();e.wrapperDiv&&(e._hue=t.hue,e._isHsl?(t=e.currentColor.color.toHSL(),e._XY(e,{pointer:e.wrapperDiv.find(".sui-color-palette .pointer").get(0),x:t.hue,y:1-t.saturation}),e._Z(e,1-t.lightness,e.wrapperDiv.find(".sui-color-scale .pointer").get(0))):(e._XY(e,{pointer:e.wrapperDiv.find(".sui-color-palette .pointer").get(0),x:t.saturation,y:1-t.value}),e._Z(e,t.hue,e.wrapperDiv.find(".sui-color-scale .pointer").get(0))))},_pickerClickedHandler:function(){var e=this;e.wrapperDiv||e._buildPalette(),e._showPopup()},_showPopup:function(){var e,t,o=this,r=o._picker.offset(),n=r.top-c(u).scrollTop(),i=o._picker.height(),l=c(a).height();"advanced"===o.options.palette&&(o.currentColor.color.cssa?o._oldColor=o.currentColor.color.cssa():o._oldColor=o.currentColor.color.toRGB().cssa()),o.wrapperDiv&&o.wrapperDiv.css(y)!=I||(o._popupIsOver=!1,e=r.top+i+1,t=r.left,l<(l=o.wrapperDiv.height())+n+i?e=r.top-l-1:e++,(e<0||c(u).scrollTop()>e)&&(e=r.top+i+1),r.top>e?o._popupIsOver=!0:o._popupIsOver=!1,o.wrapperDiv||this._buildPalette(),o._popupIsOver?(o.wrapperDiv.css({position:"absolute",zIndex:10002,top:e+l,left:t,height:0,display:""}),o.wrapperDiv.animate({height:l,top:e},150)):(o.wrapperDiv.css({position:"absolute",zIndex:10002,top:e-1,left:t}),o.wrapperDiv.slideDown(150,function(){})))},_hidePopup:function(e){var t,o,r=this,n=r.options,e=c(e.target);"basic"!=n.palette&&(e.hasClass("sui-colorpicker")||0<e.parents(".sui-colorpicker").length)||r.wrapperDiv&&r.wrapperDiv.css(y)!=I&&("basic"===n.palette&&(o=0===(o=r._picker.find(".sui-tool-letter > .sui-selected-color")).length?r._picker.find(".sui-color-cell"):o).css("background-color",r.currentColor.color.css()),r._popupIsOver?(t=r.wrapperDiv.height(),r.wrapperDiv.animate({height:0,top:r._picker.offset().top},150,function(){c(this).css(y,I).css("height",t)})):r.wrapperDiv.slideUp(150,function(){}),o=(r.currentColor.color.cssa?r.currentColor.color:r.currentColor.color.toRGB()).cssa(),"basic"!=n.palette&&(n.advancedPalette.buttons?o!==r._oldColor?(r.currentColor=new k({color:r._oldColor}),setTimeout(function(){r._update(),r.trigger(b)},200)):r._changed():(r._changeSelectedColorCell(),r._changed(),r.trigger(_))))},_buildBasicPalette:function(){for(var e,t=this,o=t.options,r=o.basicPalette,n=r.palette,i=r.tileSize,l=c("<div class='sui-colorpicker sui-colorpicker-basic-palette'/>"),a=o.displayInline?l.insertAfter(t.element):l.appendTo(u.body).css(y,I),s=0;s<n.length;s++)c("<div class='sui-palette-tile'/>").css({backgroundColor:n[s],width:i.width,height:i.height,borderWidth:r.tileBorderWidth,margin:"0 "+r.tileBorderWidth+"px "+r.tileBorderWidth+"px 0"}).on(f,t._tileClicked=h(t._tileClickedHandler,t)).appendTo(a).addClass(t.currentColor.color.hex().toUpperCase()==n[s].toUpperCase()?"sui-palette-tile-selected":"");e=r.columns*d(i.width)+r.columns*r.tileBorderWidth,a.css("width",e+"px"),t.wrapperDiv=a},_tileClickedHandler:function(e){var t=this;t._enabled&&(t.wrapperDiv.find(".sui-palette-tile-selected").removeClass("sui-palette-tile-selected"),c(e.target).addClass("sui-palette-tile-selected"),e=c(e.target).css("background-color"),t.currentColor=new k({color:e}),t.trigger(C),t._changed())},_buildAdvancedPalette:function(){var e=this,t=e.options,o=t.displayInline?c("<div/>").insertAfter(e.element).addClass("sui-colorpicker"):c("<div/>").appendTo(u.body).addClass("sui-colorpicker").css(y,I);e.wrapperDiv=o,r=c("<div class='sui-hex-wrapper'/>").appendTo(o),e.colorDiv=c("<div class='sui-color-div'/>").appendTo(r),"hsl"==t.advancedPalette.type?e.colorInput=c("<input class='sui-alpha-input'/>").appendTo(r):e.colorInput=c("<input class='sui-hex-input'/>").appendTo(r),e.colorInput.on(l,e._colorInputKeyDown=h(e._colorInputKeyDownHandler,e));c("<div class='sui-color-palette'><div class='pointer'><div class='shape shape1'></div><div class='shape shape2'></div></div><div class='bg bg1'></div><div class='bg bg2'></div></div><div class='sui-color-scale'><div class='pointer'><div class='shape'></div></div><div class='bg'></div></div>").appendTo(o);var r=new w({twod:o.find(".sui-color-palette").get(0),pointer:o.find(".sui-color-palette .pointer").get(0),oned:o.find(".sui-color-scale").get(0),isXYslider:!0,cbs:{begin:e._changeXY,change:e._changeXY,end:e._done}},e);e.xy=r;var n,r=new w({twod:o.find(".sui-color-palette").get(0),pointer:o.find(".sui-color-scale .pointer").get(0),oned:o.find(".sui-color-scale").get(0),isXYslider:!1,cbs:{begin:e._changeZ,change:e._changeZ,end:e._done}},e);e.z=r,"rgb"==t.advancedPalette.type&&(r=c(n="<div class='extras'/>").appendTo(o),c("<span class='sui-r-text'>R:</span>").appendTo(r),e.rInput=c("<input class='sui-r-input'/>").appendTo(r),e._rInputKeyDown=h(e._rInputKeyDownHandler,e),c("<span class='sui-g-text'>G:</span>").appendTo(r),e.gInput=c("<input class='sui-g-input'/>").appendTo(r),e._gInputKeyDown=h(e._gInputKeyDownHandler,e),c("<span class='sui-b-text'>B:</span>").appendTo(r),e.bInput=c("<input class='sui-b-input'/>").appendTo(r),e._bInputKeyDown=h(e._bInputKeyDownHandler,e),i.ui.NumericTextBox&&(e.rInput=new i.ui.NumericTextBox(e.rInput,{min:0,max:255,step:.01,spinners:!1,cls:"rgbInputs",events:{change:e._rInputKeyDown}}),e.gInput=new i.ui.NumericTextBox(e.gInput,{min:0,max:255,step:.01,spinners:!1,cls:"rgbInputs",events:{change:e._gInputKeyDown}}),e.bInput=new i.ui.NumericTextBox(e.bInput,{min:0,max:255,step:.01,spinners:!1,cls:"rgbInputs",events:{change:e._bInputKeyDown}}))),"hsl"==t.advancedPalette.type&&(e._isHsl=!0,n="<div class='sui-transparent-slider'><div class='sui-color-scale alpha'><div class='pointer' style='top: 0%;'><div class='shape'></div></div><div class='bg'></div></div></div>",o.addClass("sui-hsl"),c(n).appendTo(o),o=new w({twod:o.find(".alpha").get(0),pointer:o.find(".alpha .pointer").get(0),oned:o.find(".alpha").get(0),isXYslider:!1,cbs:{begin:e._changeA,change:e._changeA,end:e._done}},e),e.a=o),t.advancedPalette.buttons&&e._buildButtons()},_buildButtons:function(){var e,t=this.options.advancedPalette.messages,o=c("<div class='sui-buttons-wrapper'/>").appendTo(this.wrapperDiv);i.ui.Button&&(e=c("<button type='button'>"+t.apply+"</button>").appendTo(o),e=new i.ui.Button(e,{cls:"sui-apply",events:{click:h(this._applyHandler,this)}}),this._applyButton=e,o=c("<button type='button'>"+t.cancel+"</button>").appendTo(o),o=new i.ui.Button(o,{cls:"sui-cancel",events:{click:h(this._cancelHandler,this)}}),this._cancelButton=o)},_applyHandler:function(e){var t=this;t.currentColor.color.cssa?t._oldColor=t.currentColor.color.cssa():t._oldColor=t.currentColor.color.toRGB().cssa(),t._changeSelectedColorCell(),t.options.displayInline||t._hidePopup(e),t._changed(),t.trigger(_)},_changeSelectedColorCell:function(){var e=this,t=e.options,o=e._picker,e=(e.currentColor.color.cssa?e.currentColor.color:e.currentColor.color.toRGB()).cssa();t.displayInline||(t.showLetter?o.find(".sui-selected-color"):o.find(".sui-color-cell")).css("background-color",e)},_cancelHandler:function(e){var t=this;t.options.displayInline?(t.currentColor=new k({color:t._oldColor}),setTimeout(function(){t._update(),t.trigger(b)},200)):t._hidePopup(e)},_update:function(){var e,t=this,o=t._shouldUpdateMainInput,r=t._shouldUpdateRgbInputs;t._isHsl?(e=t.currentColor.color.toHSL(),t._XY(t,{pointer:t.wrapperDiv.find(".sui-color-palette .pointer").get(0),x:e.hue,y:1-e.saturation}),t._shouldUpdateMainInput=o,t._Z(t,1-e.lightness,t.wrapperDiv.find(".sui-color-scale .pointer").get(0)),t.Y(t.wrapperDiv.find(".alpha .pointer").get(0),(1-e.alpha).toFixed(2))):(e=t.currentColor.color.toHSV(),t._XY(t,{pointer:t.wrapperDiv.find(".sui-color-palette .pointer").get(0),x:e.saturation,y:1-e.value}),t._shouldUpdateMainInput=o,t._shouldUpdateRgbInputs=r,t._Z(t,e.hue,t.wrapperDiv.find(".sui-color-scale .pointer").get(0)))},_rInputKeyDownHandler:function(t){var o=this;setTimeout(function(){var e=t.value;o.currentColor.color.red=parseFloat(e)/255,o._shouldUpdateRgbInputs=!1,o._update(),o.trigger(C)},1)},_gInputKeyDownHandler:function(t){var o=this;setTimeout(function(){var e=t.value;o.currentColor.color.green=parseFloat(e)/255,o._shouldUpdateRgbInputs=!1,o._update(),o.trigger(C)},1)},_bInputKeyDownHandler:function(t){var o=this;setTimeout(function(){var e=t.value;o.currentColor.color.blue=parseFloat(e)/255,o._shouldUpdateRgbInputs=!1,o._update(),o.trigger(C)},1)},_colorInputKeyDownHandler:function(o){var r=this;o.ctrlKey||setTimeout(function(){var e=o.currentTarget.value,t=r.currentColor;r.currentColor=new k({color:e}),p.object(r.currentColor.color)?(r._shouldUpdateRgbInputs=!0,r._shouldUpdateMainInput=!1,r._update()):r.currentColor=t,r.trigger(C)},1)},_changeA:function(e,t){e.colorPicker._enabled&&(e.colorPicker.colorInput.val("rgba(0,0,0,1)"),e.colorPicker._A(e.colorPicker,e.colorPicker.clamp(t.y,0,1),e.colorPicker.a.pointer))},_changeZ:function(e,t){e.colorPicker._enabled&&(e.colorPicker._isHsl?e.colorPicker.colorInput.val("rgba(0,0,0,1)"):e.colorPicker.colorInput.val("#000000"),e.colorPicker._Z(e.colorPicker,e.colorPicker.clamp(t.y,0,1),e.colorPicker.z.pointer),e.colorPicker.trigger(C))},_changeXY:function(e,t){e.colorPicker._enabled&&(e.colorPicker._isHsl?e.colorPicker.colorInput.val("rgba(0,0,0,1)"):e.colorPicker.colorInput.val("#000000"),e.colorPicker._XY(e.colorPicker,{x:e.colorPicker.clamp(t.x,0,1),y:e.colorPicker.clamp(t.y,0,1),pointer:t.pointer},e.colorPicker.xy),e.colorPicker.X(t.pointer,t.x),e.colorPicker.Y(t.pointer,t.y),e.colorPicker.trigger(C))},_XY:function(e,t){var o,r,n=this;e._enabled&&(e.X(t.pointer,t.x),e.Y(t.pointer,t.y),n._isHsl?((r=e.currentColor.color.toHSL?e.currentColor.color.toHSL():e.currentColor.color).hue=t.x,r.saturation=1-t.y,o=r.lightness,r.lightness=.5,n.wrapperDiv.find(".sui-color-scale").css("background-color",r.toRGB().cssa()),r.lightness=o):(r=e.currentColor.color.toHSV(),1<t.x&&(t.x=1),t.x<0&&(t.x=0),t.y<0&&(t.y=0),1<t.y&&(t.y=1),r.saturation=t.x,r.value=1-t.y,0===r.hue&&(r.hue=n._hue)),t=r.toRGB(),(r=e.colorInput.val())!=t.hex()&&(n._shouldUpdateMainInput?(4<r.length||0===r.length)&&(n._isHsl?e.colorInput.val(t.cssa()):e.colorInput.val(t.hex())):n._shouldUpdateMainInput=!0),e.rInput&&(n._shouldUpdateRgbInputs?(e.rInput.value((255*t.red).toFixed(2)),e.gInput.value((255*t.green).toFixed(2)),e.bInput.value((255*t.blue).toFixed(2))):n._shouldUpdateRgbInputs=!0),e.colorDiv.get(0).style.background=t.cssa(),e.currentColor.color=t)},_Z:function(e,t,o){var r,n=this,i=e.colorInput.val();n._isHsl?(r=e.currentColor.color.toHSL?e.currentColor.color.toHSL():e.currentColor.color,e.Y(o,t),r.lightness=1-t,e.colorDiv.get(0).style.background=r.toRGB().cssa(),i!=(e.currentColor.color=r).toRGB().hex()&&(n._shouldUpdateMainInput?(4<i.length||0===i.length)&&(n._isHsl?e.colorInput.val(r.toRGB().cssa()):e.colorInput.val(r.toRGB().hex())):n._shouldUpdateMainInput=!0)):(r=e.currentColor.color.toHSV(),e.Y(o,t),e._rgbBg(e,e.wrapperDiv.find(".sui-color-palette").get(0),t),n._hue=r.hue=t,i!=(r=r.toRGB()).hex()&&(4<i.length||0===i.length)&&(n._isHsl?e.colorInput.val(r.cssa()):e.colorInput.val(r.hex())),e.rInput&&(n._shouldUpdateRgbInputs?(e.rInput.value((255*r.red).toFixed(2)),e.gInput.value((255*r.green).toFixed(2)),e.bInput.value((255*r.blue).toFixed(2))):n._shouldUpdateRgbInputs=!0),e.colorDiv.get(0).style.background=r.cssa(),e.currentColor.color=r)},_A:function(e,t,o){var r=e.colorInput.val(),n=e.currentColor.color.toHSL?e.currentColor.color.toHSL():e.currentColor.color;e.Y(o,t),n.alpha=(1-t).toFixed(2),e.colorDiv.get(0).style.background=n.toRGB().cssa(),r!=(e.currentColor.color=n).toRGB().hex()&&(this._shouldUpdateMainInput?(4<r.length||0===r.length)&&(e.colorInput.val(n.toRGB().cssa()),this.trigger(C)):this._shouldUpdateMainInput=!0)},_rgbBg:function(e,t,o){o=new k({}).HSV(o,1,1).toRGB().cssa();e.BG(t,o)},clamp:function(e,t,o){return Math.min(Math.max(e,t),o)},X:function(e,t){e.style.left=this.clamp(100*t,0,100)+"%"},Y:function(e,t){e.style.top=this.clamp(100*t,0,100)+"%"},BG:function(e,t){e.style.background=t},_done:function(){},enabled:function(){var e=this,t=(e.options,[].slice.call(arguments));if(!(0<t.length))return e._enabled;(t=t[0])?(e._picker&&e._picker.removeClass("sui-colorpicker-disabled"),e.wrapperDiv&&e.wrapperDiv.removeClass("sui-colorpicker-disabled")):(e._picker&&e._picker.addClass("sui-colorpicker-disabled"),e.wrapperDiv&&e.wrapperDiv.addClass("sui-colorpicker-disabled")),e._applyButton&&e._applyButton.enabled(t),e._cancelButton&&e._cancelButton.enabled(t),t?(e.colorInput&&e.colorInput.removeAttr("readonly"),e.rInput&&(e.rInput.enable(!0),e.gInput.enable(!0),e.bInput.enable(!0))):(e.colorInput&&e.colorInput.attr("readonly","readonly"),e.rInput&&(e.rInput.enable(!1),e.gInput.enable(!1),e.bInput.enable(!1))),e._enabled=t},value:function(){var e,t=this,o=t.options,r=[].slice.call(arguments);if(!(0<r.length))return e=!(e=t.currentColor.color).css?e.toRGB():e;if(e=r[0],t.currentColor=new k({color:e}),"basic"==o.palette){var n=t.currentColor.color.css();if(t.wrapperDiv)for(var i=t.wrapperDiv.find(".sui-palette-tile"),l=0;l<i.length;l++)i[l].style.backgroundColor.replace(/\s+/g,"")===n.replace(/\s+/g,"")&&(i.removeClass("sui-palette-tile-selected"),c(i[l]).addClass("sui-palette-tile-selected"))}else t._changeAdvancedPaletteColor();o.displayInline||(o.showLetter?(t._picker.find(".sui-color-cell"),t._picker.find(".sui-selected-color").css("background-color",t.currentColor.color.cssa())):t._picker.find(".sui-color-cell").css("background-color",t.currentColor.color.cssa())),t._changed()},destroy:function(){var e=this;e.element.show(),e.wrapperDiv.remove(),e.colorInput&&e.colorInput.off(l,e._colorInputKeyDown),e.rInput&&(e.rInput.destroy(),e.gInput.destroy(),e.bInput.destroy()),e.options.displayInline&&"basic"==e.options.palette&&(e.wrapperDiv.find(".sui-palette-tile").off(v,e._tileClicked),e.wrapperDiv.remove()),e._applyButton&&e._applyButton.destroy(),e._cancelButton&&e._cancelButton.destroy(),c(u).off(f+".shieldColorPicker"+e.getInstanceId()),e._tileClicked=e._rInputKeyDown=e._gInputKeyDown=e._bInputKeyDown=e._hidePopupDelegate=e._picker=e._applyButton=e._cancelButton=e._isHsl=e.currentColor=e.wrapperDiv=e.colorInput=e.colorDiv=e.rInput=e.gInput=e._enabled=e._popupIsOver=e.bInput=null,s.fn.destroy.call(e)}}),w=t.extend({init:function(e,t){var o=this,r=e.isXYslider,n=e.cbs,i=e.twod,l=e.pointer,e=e.oned;return o.colorPicker=t,r?(o.drag(i,o.attachPointer(o,n,l)),{background:i,pointer:l}):(o.drag(e,o.attachPointer(o,n,l)),{background:e,pointer:l})},drag:function(e,t){e?this.isTouch()?this.dragTemplate(e,t,"touchstart","touchmove","touchend"):this.dragTemplate(e,t,"mousedown","mousemove","mouseup"):console.warn("drag is missing elem!")},attachPointer:function(e,t,r){var o,n={};for(o in t)t.hasOwnProperty(o)&&(n[o]=function(o){return function(e,t){t.pointer=r,o(e,t)}}(t[o]));return n},isTouch:function(){return void 0!==a.ontouchstart},dragTemplate:function(r,e,t,n,i){var l=this,a=(e=l.getCbs(e)).begin,s=e.change,c=e.end;l.on(r,t,function(t){0;var o=l.partial(l,l.callCb,s,r);l.on(u,n,o),l.on(u,i,function e(){l.off(u,n,o),l.off(u,i,e),l.callCb(c,r,t)}),l.callCb(a,r,t)})},on:function(e,t,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent&&e.attachEvent("on"+t,o)},off:function(e,t,o){e.removeEventListener?e.removeEventListener(t,o,!1):e.detachEvent&&e.detachEvent("on"+t,o)},getCbs:function(e){return e?{begin:e.begin||function(){},change:e.change||function(){},end:e.end||function(){}}:{begin:function(e){t={x:e.elem.offsetLeft,y:e.elem.offsetTop},o=e.cursor},change:function(e){e.elem.style.left=t.x+e.cursor.x-o.x+"px",e.elem.style.top=t.y+e.cursor.y-o.y+"px"},end:function(){}};var t,o},callCb:function(e,t,o){o.preventDefault();var r=c(t).offset(),n=t.clientWidth,i=t.clientHeight,l={x:this.cursorX(t,o),y:this.cursorY(t,o)},n=(l.x-r.left)/n,i=(l.y-r.top)/i;e(this,{x:isNaN(n)?0:n,y:isNaN(i)?0:i,cursor:l,elem:t,e:o})},partial:function(e,t){var o=Array.prototype.slice,r=o.apply(arguments,[2]),n=this;return function(){return t.apply(n,r.concat(o.apply(arguments)))}},cursorX:function(e,t){if(this.isFixed(e)){e=parseInt(this.getStyle(u.body,"marginLeft"),10)-this.calc(e,"scrollLeft")+a.pageXOffset+e.style.marginLeft;return t.clientX-e}return t.pageX||(t.clientX?t.clientX+u.body.scrollLeft:void 0)},cursorY:function(e,t){if(this.isFixed(e)){e=parseInt(this.getStyle(u.body,"marginTop"),10)-this.calc(e,"scrollTop")+a.pageYOffset+e.style.marginTop;return t.clientY-e}return t.pageY||(t.clientY?t.clientY+u.body.scrollTop:void 0)},calc:function(e,t){for(var o=0;"HTML"!=e.nodeName;)o+=e[t],e=e.parentNode;return o},isFixed:function(e){for(;"HTML"!=e.nodeName&&"fixed"!=this.usedStyle(e,"position");)e=e.parentNode;return"HTML"!=e.nodeName},getStyle:function(e,t){return(e.currentStyle||(u.defaultView&&u.defaultView.getComputedStyle?u.defaultView.getComputedStyle(e,""):e.style))[t]},usedStyle:function(e,t){e=a.getComputedStyle?a.getComputedStyle(e,null):e.currentStyle;return e[t]}}),k=t.extend({init:function(e){var t,o=this,e=e.color;g(e)||null===e||""===(t=e,p.string(t)?t.replace(/^\s+/,"").replace(/\s+$/,""):t)?o.color=o.getColor("#000"):p.integer(e)?o.color=o.getColor("rgb("+(t=[(16711680&(t=e+0))>>16,(65280&t)>>8,255&t])[2]+","+t[1]+","+t[0]+")"):o.color=o.getColor(e)},getColor:function(e){var t,o=/\s*(\.\d+|\d+(?:\.\d+)?)(%)?\s*/,r=new RegExp("^(rgb|hsl|hsv)a?\\("+o.source+","+o.source+","+o.source+"(?:,"+/\s*(\.\d+|\d+(?:\.\d+)?)\s*/.source+")?\\)$","i");if(t=(e="transparent"===e.toLowerCase()?"rgba(0,0,0,0)":e).match(r)){var n=t[1].toUpperCase(),i=g(t[8])?t[8]:parseFloat(t[8]),l="H"===n[0],o=t[3]?100:l?360:255,r=t[5]||l?100:255,l=t[7]||l?100:255;return this[n](parseFloat(t[2])/o,parseFloat(t[4])/r,parseFloat(t[6])/l,i)}return(i=(e=e.length<6?e.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i,"$1$1$2$2$3$3"):e).match(/^#?([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])$/i))?this.RGB(parseInt(i[1],16)/255,parseInt(i[2],16)/255,parseInt(i[3],16)/255):e},RGB:function(e,t,o,s){var c=this;return{red:e,green:t,blue:o,alpha:g(s)?1:s,hex:function(){var e=(65536*Math.round(255*this.red)+256*Math.round(255*this.green)+Math.round(255*this.blue)).toString(16);return"#"+"00000".substr(0,6-e.length)+e},hexa:function(){var e=Math.round(255*this.alpha).toString(16);return"#"+"00".substr(0,2-e.length)+e+this.hex().substr(1,6)},css:function(){return"rgb("+Math.round(255*this.red)+","+Math.round(255*this.green)+","+Math.round(255*this.blue)+")"},cssa:function(){return"rgba("+Math.round(255*this.red)+","+Math.round(255*this.green)+","+Math.round(255*this.blue)+","+this.alpha+")"},toHSV:function(){var e,t=this.red,o=this.green,r=this.blue,n=Math.max(t,o,r),i=n-Math.min(t,o,r),l=0===n?0:i/n,a=n;if(0==i)e=0;else switch(n){case t:e=(o-r)/i/6+(o<r?1:0);break;case o:e=(r-t)/i/6+1/3;break;case r:e=(t-o)/i/6+2/3}return c.HSV(e,l,a,s)},toHSL:function(){var e=this.toHSV();return c.HSV(e.hue,e.saturation,e.value,e.alpha).toHSL()},toCMYK:function(){var e=this.red,t=this.green,o=this.blue,r=1-e,n=1-t,i=1-o,l=1;return e||t||o?(r=(r-(l=Math.min(r,Math.min(n,i))))/(1-l),n=(n-l)/(1-l),i=(i-l)/(1-l)):l=1,c.CMYK(r,n,i,l,s)}}},HSV:function(e,t,o,u){var p=this;return{hue:e,saturation:t,value:o,alpha:g(u)?1:u,toRGB:function(){var e,t,o,r=this.hue,n=this.saturation,i=this.value,l=Math.min(5,Math.floor(6*r)),r=6*r-l,a=i*(1-n),s=i*(1-r*n),c=i*(1-(1-r)*n);switch(l){case 0:e=i,t=c,o=a;break;case 1:e=s,t=i,o=a;break;case 2:e=a,t=i,o=c;break;case 3:e=a,t=s,o=i;break;case 4:e=c,t=a,o=i;break;case 5:e=i,t=a,o=s}return p.RGB(e,t,o,u)},toHSL:function(){var e=(2-this.saturation)*this.value,t=this.saturation*this.value,o=e<=1?e:2-e,o=o<1e-9?0:t/o;return p.HSL(this.hue,o,e/2,this.alpha)}}},HSL:function(e,t,o,r){var n=this;return{hue:e,saturation:t,lightness:o,alpha:g(r)?1:r,toHSV:function(){var e=2*this.lightness,t=this.saturation*(e<=1?e:2-e),o=e+t<1e-9?0:2*t/(e+t);return n.HSV(this.hue,o,(e+t)/2,this.alpha)},toRGB:function(){return this.toHSV().toRGB()}}},CMYK:function(e,t,o,r,n){var i=this;return{cyan:e,magenta:t,yellow:o,black:r,alpha:g(n)?1:n,toRGB:function(){return i.RGB(1-this.cyan*(1-this.black)-this.black,1-this.magenta*(1-this.black)-this.black,1-this.yellow*(1-this.black)-this.black,this.alpha)}}},destroy:function(){this.color=null}});e.defaults=o,i.ui.plugin("ColorPicker",e),i.ui.ColorPicker=e}(jQuery,shield,this);
!function(x,_,s,C){var e=_.ui.Widget,a=_.Class,T=_.DataSource,w=_.format,g=_.support,y=_.exp,S=_.get,r=_.iid,h=(_.strid,_.Constants.KeyCode),n=_.is,k=n.func,I=n.string,o=n.object,l=n.boolean,B=n.defined,t=n.number,N=n[void 0],R=n.null,m=_.to.int,v=document,d=Math.abs,b=Math.min,E=Math.max,c=x.each,W=x.proxy,P=x.extend,z=x.map,u=x.grep,p=x.inArray,i=navigator.userAgent,f=s.opera,F=/msie/i.test(i)&&!f,H=F&&7===v.documentMode,D=F&&8===v.documentMode,A=(F&&v.documentMode,v.documentMode,/AppleWebKit/.test(i)),V=(/Firefox/.test(i),"role"),G="aria-sort",M="aria-readonly",q="tabindex",O="true",L="height",U="sui-selected",X="command",j="selectionChanged",Y="dataBound",K="virtualRowsLoaded",Q="keydown",$="mousedown",J="mousemove",Z="mouseup",ee="click",te="detailCreated",ie="columnReorder",ne="columnResize",re="groupsReorder",oe="ungroup",le="editorCreating",ae="filterWidgetCreating",se="cancel",de="edit",ce="save",ue="error",pe="collapse",he="display",fe="none",ge="@@custom",_e="row",me="sui-viewindex",ve="sui-fieldname";function be(e){var t,i=" ";if(e){if(I(e))return e;for(t in e)e.hasOwnProperty(t)&&(i+=t+'="'+e[t]+'"')}return i}function Ce(e,t){t=x(e).attr(t);return B(t)&&!1!==t}function xe(){for(var e,t,i,n=[].slice.call(arguments),r=n.shift(),o=0;o<n.length&&!(e=x(r.target).closest(".sui-cell",n[o])).length;o++);return e.length?(t=e[0].parentNode,i=e[0],null==t||null==i?null:{row:t,cell:i}):null}function Te(e){return e&&(x(e.row).hasClass(U)||x(e.cell).hasClass(U))}function we(e,t){return 0<x(e.target).closest(".sui-cell",t).length}function ye(e){e=x(e).find('.sui-checkbox:not(.sui-checkbox-disabled), .sui-radiobutton:not(.sui-radiobutton-disabled), .sui-input:not(.sui-input-disabled), .sui-combobox:not(.sui-combobox-disabled), .sui-dropdown:not(.sui-dropdown-disabled), .sui-listbox:not(.sui-listbox-disabled), .sui-switch:not(.sui-switch-disabled), a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex]:not([tabindex="-1"]), *[contenteditable]').filter(":visible").first();0<x(e).length&&x(e).focus()}var f={columns:[],rowHover:!0,scrolling:!1,paging:!1,columnReorder:!1,showHeader:!0,grouping:{showGroupHeader:!1,allowDragToGroup:!1,message:"Drag a column header here to group by a column"}},Se=a.extend({init:function(e,t){var i,n,r,o;for(this._grid=t,o=0;o<e.length;o++)r=(i=e[o]).position||"top",n=x('<div class="sui-toolbar"/>'),"top"===r?0<(r=t.element.find(".sui-toolbar")).length?x(r[0]).after(n):t.element.prepend(n):(n.addClass("sui-toolbar-bottom"),n.appendTo(t.element)),i.template?this._initializeTemplate(i,n):0<i.buttons.length&&this._buildButtons(n,i)},_buildButtons:function(e,t){for(var i=t.buttons,n=0;n<i.length;n++)this._buildButton(i[n],e)},_buildButton:function(e,t){var i=this,n=e.commandName,r=e.click;_.ui.Button&&(t=x('<button type="button">'+e.caption+"</button>").appendTo(t),"insert"==n?r=i._insertButtonClicked:"save"==n?r=i._saveButtonClicked:"cancel"==n?r=i._cancelButtonClicked:"excel"==n?r=i._excelButtonClicked:"pdf"==n?r=i._pdfButtonClicked:"csv"==n&&(r=i._csvButtonClicked),new _.ui.Button(t,{cls:e.cls,events:{click:W(r,i._grid)}}))},_excelButtonClicked:function(){this._doExcelExport()},_pdfButtonClicked:function(){this._doPdfExport()},_csvButtonClicked:function(){this._doCsvExport()},_insertButtonClicked:function(e,t){var i,n,r,o=this,l=o.options,a=l.editing.insertNewRowAt,s=o.dataSource,d=!1;if(t||!o.trigger(X,{commandName:"insert",cancel:!1}).cancel){if(s.sort&&0<s.sort.length)return s.sort=[],o._sortingInProgress=!0,o.pager&&(s.skip=0,s.take=o.pager.pageSize(),o.pager.refresh(!0)),void s.read().always(W(o._toolbar._insertButtonClicked,o,e,!0));for(r in o._editingInProcess=!0,"pagebottom"===a?(n=E(0,o.contentTable.find(">tbody > tr").length-1),l.paging&&(!o.pager||o.pager.hasNext())||(n+=1,d=!0)):n=0,(i=d?s.add({}):s.insertView(n,{})).fields)i.fields.hasOwnProperty(r)&&(i.data[r]=null);o._editing._insertedItems.push(i),n=o.contentTable.find(">tbody > tr").eq(n),"popup"!=o.options.editing.mode?o._editing._putRowInEditMode(n,0):o._initializePopupForm(0,!0),o.trigger("insert")}},_saveButtonClicked:function(e){var t=this,i=t.contentTable.find(">tbody > tr > .sui-editable-cell");0<i.length&&(i=i.get(0).parentNode.rowIndex,t._updateItem(i,null),t._errorDuringEdit)?t._errorDuringEdit=!1:t.trigger(X,{commandName:ce,cancel:!1}).cancel||(t.dataSource.save(),t.trigger(ce))},_cancelButtonClicked:function(e){this.trigger(X,{commandName:se,cancel:!1}).cancel||(this.dataSource.cancel(),this.trigger(se))},_initializeTemplate:function(e,t){var i=e.template;k(i)?(e=i.call(this._grid,t),B(e)&&!R(e)&&""!==e&&t.html(e)):t.html(i)},destroy:function(){}}),ke=a.extend({init:function(e,t){var i=this;i._grid=t,i.options=e,i._eventNS=".shieldGridEditing"+r(),i._editors={},i._insertedItems=[],e.enabled&&i._initEditing(),i._grid.dataSource.on(ue+i._eventNS,W(i._dsError,i))},_dsError:function(e){var t=this._editors[e.path];this._grid.trigger(ue,{type:e.type,path:e.path,value:e.value,editor:t,reason:e.reason}),this._errorDuringEdit=!0},_initEditing:function(){var e=this,t=e.options.event,i=e._eventNS;N(t)||(t===ee?e._grid.element.on(ee+i,".sui-cell",W(e._editingTriggered,e)):"doubleclick"===t&&e._grid.element.on("dblclick"+i,".sui-cell",W(e._editingTriggered,e)),x(v).on(ee+i,W(e._documentClicked,e)))},_editingTriggered:function(e){var t,i,n=this,r=n._grid,o=e.target,l=x(o).parent(),a=l.get(0).rowIndex,s=r._getRowIndex(l),d=n.options,c=d.mode,u=d.type,p=r.dataSource,h=d.batch,f=!1;if(!r.trigger(X,{commandName:de,cancel:!1,row:l,cell:o,index:s}).cancel){if(h){if(0<(t=r.contentTable.find(">tbody > tr > .sui-editable-cell")).length){if(a=t.get(0).parentNode.rowIndex,"TR"!==l.get(0).nodeName.toUpperCase()||l.get(0).rowIndex==a&&u==_e)return;h=r._updateItem(a,o);if(n._errorDuringEdit)return n._errorDuringEdit=!1,void(h=null);i=l.get(0).rowIndex,r._putRowInViewMode(a,null),!r._populateInsertedItem&&h&&0<h.length&&r._renderUpdateMarkers(h,a),r._populateInsertedItem=!1,i===a&&(o=r.contentTable.find(">tbody > tr").eq(a).get(0).cells[o.cellIndex]),a=i}N(u)||"cell"===u?(n._putCellInEditMode(o),f=!0):u===_e?(n._putRowInEditMode(l,o.cellIndex),f=!0):_.error("Invalid editing.type declaration. The editing.type must be 'row' or 'cell'.",d.dieOnError)}else if(p.tracker&&p.tracker.changes&&p.tracker.changes.added&&0<p.tracker.changes.added.length)"TR"!==l.get(0).nodeName.toUpperCase()||l.get(0).rowIndex==a&&u==_e||p.cancel();else if(N(c)||"inline"===c){if(0<(t=r.contentTable.find(">tbody > tr > .sui-editable-cell")).length){if(a=t.get(0).parentNode.rowIndex,"TR"!==l.get(0).nodeName.toUpperCase()||l.get(0).rowIndex==a&&u==_e)return;if(r._updateItem(a,o),n._errorDuringEdit)return void(n._errorDuringEdit=!1);i=l.get(0).rowIndex,r._closeAllEditedRows(),i===a&&(o=r.contentTable.find(">tbody > tr").eq(a).get(0).cells[o.cellIndex]),a=i}N(u)||"cell"==u?(n._putCellInEditMode(o),f=!0):u==_e?(n._putRowInEditMode(l,o.cellIndex),f=!0):_.error("Invalid editing.type declaration. The editing.type must be 'row' or 'cell'.",d.dieOnError)}f&&(e.preventDefault(),e.stopPropagation(),r.trigger(de,{row:l,cell:o,index:s}))}},_documentClicked:function(e){var t,i=this,n=i.options,r=n.batch,o=(n.type,n.event),n=x(e.target);i._grid._editingInProcess||i._grid._preventClosingEditors?i._grid._editingInProcess=!1:(!n.hasClass("sui-cell")&&!n.parents().hasClass("sui-cell")&&!n.parents().hasClass("sui-calendar")&&!n.parents().hasClass("sui-listbox")||"doubleclick"===o&&e.type===ee&&n.closest(".sui-editable-cell").length<=0)&&0<(t=i._grid.contentTable.find(">tbody > tr > .sui-editable-cell")).length&&(n=t.get(0).parentNode.rowIndex,t=i._grid._updateItem(n,null),i._errorDuringEdit?i._errorDuringEdit=!1:(i._grid._putRowInViewMode(n,null),r&&!i._grid._populateInsertedItem&&t&&0<t.length&&i._grid._renderUpdateMarkers(t,n),i._grid._populateInsertedItem=!1))},_getColumnIndex:function(e){return e.cellIndex-x(e.parentNode).find(".sui-indent-cell, .sui-expand-cell, .sui-expand-cell-disabled, .sui-collapse-cell").length},_putCellInEditMode:function(e){var t=this,i=t._getColumnIndex(e),n=t._grid,r=n.dataSource,o=n._getRowIndex(x(e).parent()),l=n.columns[i],a=!1;if(l&&l.field&&!1!==l.editable)if(n=r.editView(o).data,1<arguments.length&&arguments[1]!=i||(a=!0),l.editor)t._instantiateCustomEditor(l,e,n,o,a);else{var r=B(r.schema.options.fields)?r.schema.options.fields[l.field].type:String,s=S(n,l.field);switch(r){case Number:t._instantiateNumeric(e,s,a);break;case Date:t._instantiateDatePicker(e,s,a);break;case String:t._instantiateTextBox(e,s,a);break;case Boolean:t._instantiateCheckBox(e,s,a)}}},_prepareCell:function(e){x(e).empty().addClass("sui-editable-cell")},_instantiateCustomEditor:function(e,t,i,n,r,o){var l,a=this;o?l=o:(o=a._getColumnIndex(t),l=a._grid.columns[o].field,a._prepareCell(t)),r=e.editor.call(a._grid,t,i,n,r),x(t).html(r),a._editors[l]="custom"},_instantiateNumeric:function(e,t,i,n){var r,o,l=this;n?o=n:(r=l._getColumnIndex(e),o=l._grid.columns[r].field,l._prepareCell(e)),(r=x('<input name="'+o+'"/>')).appendTo(e);var e=l._grid.trigger(le,{field:o,options:{}}),t=P({},e.options,{value:t});_.ui.NumericTextBox&&(t=new _.ui.NumericTextBox(r,t),i&&t.focus(),l._editors[o]=t)},_instantiateDatePicker:function(e,t,i,n){var r,o,l=this;n?o=n:(r=l._getColumnIndex(e),o=l._grid.columns[r].field,l._prepareCell(e)),(r=x('<input name="'+o+'"/>')).appendTo(e);var e=l._grid.trigger(le,{field:o,options:{}}),t=P({},e.options,{value:t});_.ui.DatePicker&&(t=new _.ui.DatePicker(r,t),i&&t.focus(),l._editors[o]=t)},_instantiateTextBox:function(e,t,i,n){var r,o,l=this;n?o=n:(r=l._getColumnIndex(e),o=l._grid.columns[r].field,l._prepareCell(e)),(r=x('<input type="text" name="'+o+'"/>')).appendTo(e);var e=l._grid.trigger(le,{field:o,options:{}}),t=P({},e.options,{value:t,cls:"sui-input-textbox"});_.ui.TextBox&&(t=new _.ui.TextBox(r,t),i&&t.focus(),l._editors[o]=t)},_instantiateCheckBox:function(e,t,i,n){var r,o,l=this;n?o=n:(r=l._getColumnIndex(e),o=l._grid.columns[r].field,l._prepareCell(e)),(r=x('<input type="checkbox" name="'+o+'"/>')).appendTo(e);var e=l._grid.trigger(le,{field:o,options:{}}),e=P({},e.options,{value:t});_.ui.CheckBox&&(e=new _.ui.CheckBox(r,e),i&&e.focus(),e.checked(t),l._editors[o]=e)},_putRowInEditMode:function(e,t){for(var i=e.find(".sui-cell"),n=0;n<i.length;n++)this._putCellInEditMode(i[n],t-e.find(".sui-indent-cell, .sui-expand-cell, .sui-expand-cell-disabled, .sui-collapse-cell").length);0<e.find(".sui-edit").length&&this._grid._changeEditColumnButtons(e.get(0).rowIndex,x(e.children(".sui-button-cell")[0]))},_destroyRow:function(e){for(var t,i=this._grid,e=i.contentTable.find(">tbody > tr").eq(e),n=i.columns,r=0;r<n.length;r++)(t=this._editors[n[r].field])&&(k(t.destroy)&&this._editors[n[r].field].destroy(),delete this._editors[n[r].field]);e.remove()},destroy:function(){var e,t,i=this,n=i._eventNS;if(i._grid.dataSource.off(ue+n),i._grid.element.off(n,".sui-cell"),x(v).off(ee+n),i._editors)for(e=0;e<i._editors.length;e++)t=i._editors[e].editor.element(),i._editors[e].editor.destroy(),t.remove();i._errorDuringEdit=i.options=null}}),Ie=a.extend({init:function(e){var t=this;I(e)?(t.field=e,t.title=t.field,t.groupTitle=t.title,t.groupHeaderTitle=t.title,t.resizable=!0,t.sortable=!0,t.filterable=!0,t.editable=!0,t.visible=!0,t.locked=!1):o(e)&&(t.field=e.field,t.title=e.title,t.groupTitle=B(e.groupTitle)?e.groupTitle:t.title,t.groupHeaderTitle=B(e.groupHeaderTitle)?e.groupHeaderTitle:t.title,t.format=e.format,t.width=e.width,t.minWidth=e.minWidth,t.maxWidth=e.maxWidth,t.resizable=!B(e.resizable)||!!e.resizable,t.attributes=e.attributes,t.headerAttributes=e.headerAttributes,t.headerTemplate=e.headerTemplate,t.columnTemplate=e.columnTemplate,t.footerTemplate=e.footerTemplate,t.groupFooterTemplate=e.groupFooterTemplate,t.buttons=e.buttons,t.editor=e.editor,t.customFilter=e.customFilter,t.sortable=!B(e.sortable)||!!e.sortable,t.filterable=!B(e.filterable)||!!e.filterable,t.editable=!B(e.editable)||!!e.editable,t.visible=!B(e.visible)||!!e.visible,t.locked=!!t.visible&&!!e.locked)},destroy:function(){var e=this;e.field=e.buttons=e.title=e.editor=e.editable=e.format=e.width=e.minWidth=e.maxWidth=e.resizable=e.attributes=e.headerAttributes=e.headerTemplate=e.buttons=e.customFilter=e.footerTemplate=e.groupFooterTemplate=e.sortable=e.filterable=e.visible=e.locked=e.columnTemplate=null}}),Be=a.extend({options:{ns:".shieldGridColumnResizing",width:12,offset:6,min:12},init:function(e){var t=this;t.grid=e,t.options=P(!0,{},Be.fn.options),t._eventNS=t.options.ns+r(),e.headerTable.on(J+t._eventNS,".sui-headercell",W(t._showHandle,t))},_showHandle:function(e){var t,i,n,r,o;this.resizing||(i=(t=this).options,t.grid,n=t.handle,e=(r=e.pageX)>=(o=t.params=t._params(x(e.currentTarget))).offset.left&&r<=o.offset.left+i.offset&&0<o.headerIndex,(o=(e=o.isRtl?r>=o.offset.left+o.width-i.offset&&r<=o.offset.left+o.width&&0<o.headerIndex:e)?t.params=t._params(o.header.prev()):o).column&&o.column.resizable&&!o.column.locked&&(r>=o.threshold&&r<=o.edge+i.offset?(n=n||(t.handle=x('<div class="sui-resizable-handle"/>').on($+t._eventNS,W(t._down,t)).appendTo(o.header.parents(".sui-headercontent")))).css({top:o.position.top,left:n.parent()[0].scrollLeft+o.handleLeft,width:i.width,height:o.height}).show():n&&n.hide()))},_params:function(e){var t=this.options,i=e.offset(),n=e.position(),r=g.isRtl(this.grid.element),o=e.outerWidth(),l=i.left+(r?t.width:o),a=e.index(),s=this.grid._getColumnByField(e.attr("data-field")),d=s?0<=s.minWidth?+s.minWidth:t.min:null;return{header:e,headerIndex:a,column:s,min:d,max:s&&s.maxWidth>=d?+s.maxWidth:null,offset:i,isRtl:r,width:o,current:o,height:e.outerHeight(),edge:l,threshold:l-t.width+(r?-1:1)*t.offset,position:n,handleLeft:n.left+(r?t.width:o)-t.width+(r?-1:1)*t.offset}},_down:function(e){var t,i=this,n=i.grid,r=i.params;if(!(1<e.button)&&r)return t="> colgroup col:nth-child("+(r.headerIndex+1)+")",r.origin=e.pageX,r.cols=x().add(n.headerTable.find(t)).add(n.contentTable.find(t)),i.resizing=!0,i._cancelled=null,i.handle.hide(),x(v).on(J+i._eventNS,W(i._move,i)).on(Z+i._eventNS,W(i._up,i)),_.selection(!1),!1},_move:function(e){var t,i=this,n=i.params;i.resizing&&(t=(n.isRtl?-1:1)*(e.pageX-n.origin),e=E(n.width+t,n.min),n.max&&(e=b(e,n.max)),(t=i.grid.trigger(X,{commandName:ne,cancel:!1,field:n.column.field,width:e}))&&t.cancel?i._cancelled=!0:e!==n.current&&(n.cols.width(n.current=e),i.grid._fixHeaderPadding(),i.grid._adjustHeightsLocked(!0)))},_up:function(){var e=this,t=e.grid,i=e.params,n=i.current,r=i.column||{},i=(t.options.columns||[])[x(t.columns).index(r)]||{};e.resizing=!1,e.params=null,r.width=i.width=n+"px",x(v).off(e._eventNS),_.selection(!0),!0!==e._cancelled&&t.trigger(ne,{field:r.field,width:n}),e._cancelled=null},destroy:function(){var e=this;e.grid.headerTable.off(e._eventNS),e._cancelled=null,e.handle&&(e.handle.off(e._eventNS).remove(),e.handle=null)}}),Ne=a.extend({init:function(e){this.grid=e,this._filters={},this._eventNS=".shieldGridFiltering"+r(),this._createFilterRow()},_createFilterRow:function(){var e,t,i,n,r,o=this,l=o.grid,a=l.headerTable.find(">thead"),s=a.find(".sui-indent-cell").length,d=l.dataSource.schema,c=l.columns;for(o._tr=e=x('<tr class="sui-filter-row"/>'),r=0;r<s;r++)x('<th class="sui-indent-cell"/>').appendTo(e);for(d&&d.options.fields&&(n=d.options.fields),r=0;r<c.length;r++)t=n&&n[c[r].field]?n[c[r].field].type:null,p=c[r].field?c[r].field.replace(/[\"\']/g,"@"):"",i=x('<th class="sui-filter-cell" data-field="'+p+'" role="gridcell" tabindex="-1"/>').appendTo(e),!1!==c[r].filterable&&0<p.length&&(o._initializeEditor(i,t,c[r].field,c[r]),o._appendFilterButton(i));for(e.appendTo(a),x(v).on(ee+o._eventNS,W(o._documentClicked,o)),r=0;r<c.length;r++){var u,p=c[r].field?c[r].field.replace(/[\"\']/g,"@"):"";!1!==c[r].filterable&&0<p.length&&((u=o._getFilter(c[r].field))&&(o._setEditorValue(c[r].field,c[r],u.value),o._addRemoveFilterButton(c[r].field)))}},_documentClicked:function(e){var t,i;!this.listBox||x(e.target).hasClass("sui-filter-button")||x(e.target).hasClass("sui-filter-button-content")||(i=this.listBox.element.parent()).css(he)!=fe&&(this._filterByField=null,t=i.height(),e=i.offset().top,this._slideUp?i.animate({height:0,top:e+t},150,function(){i.css({display:fe,height:t})}):i.animate({height:0},150,function(){i.css({display:fe,height:t})}))},_appendFilterButton:function(e){_.ui.Button&&(e=x('<button type="button"><span class="sui-sprite sui-filter-button-content"/></button>').appendTo(e),new _.ui.Button(e,{cls:"sui-filter-button",events:{click:W(this._filterButtonClicked,this)}}))},_filterButtonClicked:function(e){var t=this,i=t.grid,n=i.dataSource.schema,r=i.options.filtering,o=r.stringFunc||[{func:"eq",name:"Equal to"},{func:"neq",name:"Not equal to"},{func:"con",name:"Contains"},{func:"notcon",name:"Not contains"},{func:"starts",name:"Starts with"},{func:"ends",name:"Ends with"},{func:"gt",name:"Greater than"},{func:"lt",name:"Less than"},{func:"gte",name:"Greater than or equal"},{func:"lte",name:"Less than or equal"},{func:"isnull",name:"Is null"},{func:"notnull",name:"Is not null"}],i=r.nonStingFunc||[{func:"eq",name:"Equal to"},{func:"neq",name:"Not equal to"},{func:"gt",name:"Greater than"},{func:"lt",name:"Less than"},{func:"gte",name:"Greater than or equal"},{func:"lte",name:"Less than or equal"},{func:"isnull",name:"Is null"},{func:"notnull",name:"Is not null"}],r=e.target.element.parent().attr("data-field").replace(/[@]/g,"'");t._filterByField=r,o=!n||!n.options.fields||(n=n.options.fields)&&n[r]&&n[r].type===String?o:i,_.ui.ListBox&&(t.listBox||(t._menuWrapper=x('<div style="display:none;"/>').appendTo(v.body),t.listBox=new _.ui.ListBox(t._menuWrapper,P({},{},{dataSource:{data:o},textTemplate:"{name}",valueTemplate:"{func}",multiple:!1,width:150,maxHeight:300,events:{select:W(t._selectFilterFunction,t)}})),t.grid.element.parent().hasClass("sui-rtl")?t.listBox.element.parent().addClass("sui-rtl"):t.listBox.element.parent().css(he,fe)),i=t.listBox.element.parent().height(),t._positionListBox(e),t._slideUp?(o=e.target.element.offset().top-i,t.listBox.element.parent().css({top:e.target.element.offset().top}),t.listBox.element.parent().animate({height:i,top:o-t.listBox.element.parent().innerHeight()},150)):t.listBox.element.parent().animate({height:i},150)),t._selectFilterMenuValue(r)},_getFilter:function(e){var t,i,n,r=this.grid.dataSource.filter;if(r&&r.and&&0<r.and.length)for(t=r.and,n=0;n<t.length;n++)t[n].path===e&&(i=t[n]);return i},_selectFilterMenuValue:function(e){e=this._getFilter(e),e=e?e.filter:C;e?this.listBox.values(e):this.listBox.clearSelection()},_selectFilterFunction:function(e){var t=this,i=!0,n=t._filters[t._filterByField]==ge?ge:t._filters[t._filterByField].value(),e=e.item.func,r={path:t._filterByField,filter:e,value:n};if(n==ge&&(n=t.grid.trigger("getCustomFilterValue",{field:t._filterByField,value:null}).value,r={path:t._filterByField,filter:e,value:n}),""!==n&&null!==n||"notnull"==e||"isnull"==e){if(t.grid.dataSource.filter&&t.grid.dataSource.filter.and){for(var o=t.grid.dataSource.filter.and,l=0;l<o.length;l++)o[l].path===t._filterByField&&(o[l]=r,i=!1);i&&o.push(r)}else t.grid.dataSource.filter={and:[r]};t.grid.dataSource.read(),t._addRemoveFilterButton(t._filterByField)}},_addRemoveFilterButton:function(e){var t,i;if(_.ui.Button){for(var n,r=x(this._tr).children("th"),o=0;o<r.length;o++)if((t=x(r[o])).attr("data-field")&&t.attr("data-field").replace(/[@]/g,"'")==e){i=r[o];break}t&&0===t.find(".sui-clear-filter-button").length&&(n=x('<button type="button"><span class="sui-sprite sui-clear-filter-button-content"></span></button>').appendTo(i),new _.ui.Button(n,{cls:"sui-clear-filter-button",events:{click:W(this._clearFilterButtonClicked,this)}}))}},_clearFilterButtonClicked:function(e){for(var t,i=this,n=e.target.element.parent().attr("data-field").replace(/[@]/g,"'"),r=i.grid.dataSource.filter.and,o=0;o<r.length;o++)r[o].path==n&&r.splice(o,1);t=e.target.element,e.target.destroy(),t.remove(),i._filters[n]!=ge?i._filters[n].value(null):i.grid.trigger("clearFilter",{field:n,value:null}),i.grid.dataSource.read()},_positionListBox:function(e){var t=this,i=e.target.element,n=i.offset(),r=n.top,o=n.left,l=t.listBox.element.parent().innerWidth(),a=t.listBox.element.parent().innerHeight(),e=(i.innerWidth(),i.innerHeight());(o=o<0?1:o)+l>s.innerWidth&&(o=s.innerWidth-l-20),t._slideUp=!1,r+a>s.innerHeight&&(r-=a,t._slideUp=!(e=0)),r<0&&(r=n.top,e=i.innerHeight(),t._slideUp=!1),t.listBox.element.parent().css({position:"absolute",zIndex:10002,top:r+e,left:o,height:0,display:""})},_setEditorValue:function(e,t,i){t.customFilter||(e=this._filters[e])&&e.value(i)},_initializeEditor:function(e,t,i,n){var r=this;if(n.customFilter)r._filters[i]=ge,n.customFilter.call(r.grid,e);else switch(t){case Number:r._instantiateNumeric(e,i);break;case Date:r._instantiateDatePicker(e,i);break;default:String;r._instantiateTextBox(e,i)}},_instantiateNumeric:function(e,t){var i=x("<input/>").appendTo(e),e=this.grid.trigger(ae,{field:t,options:{}}),e=P({},e.options);_.ui.NumericTextBox&&(e=new _.ui.NumericTextBox(i,e),this._filters[t]=e)},_instantiateDatePicker:function(e,t){var i=x("<input/>").appendTo(e),e=this.grid.trigger(ae,{field:t,options:{}}),e=P({},e.options);_.ui.DatePicker&&(e=new _.ui.DatePicker(i,e),this._filters[t]=e)},_instantiateTextBox:function(e,t){var i=x('<input type="text"/>').appendTo(e),e=this.grid.trigger(ae,{field:t,options:{}}),e=P({},e.options);_.ui.TextBox&&(e=new _.ui.TextBox(i,e),this._filters[t]=e)},destroy:function(){var e,t=this;for(e in t._filters)t._filters.hasOwnProperty(e)&&(t._filters[e]!=ge&&t._filters[e].destroy(),t._filters[e]=null);t.listBox&&(t.listBox.destroy(),t.listBox=null),x(t._menuWrapper).remove(),x(t._tr).remove(),x(v).off(ee+t._eventNS),t._filterByField=t._filters=t._slideUp=t._menuWrapper=t._tr=null}}),Re=a.extend({init:function(e,t){var i=this;i.grid=t,i.sortExpressions=[],i._eventNS=".shieldGridSorting"+r(),l(e)?(i.allowUnsort=!0,i.multiple=!1,i.firstAscending=!0,i.ascText="&#9650;",i.descText="&#9660;"):o(e)&&(i.allowUnsort=!!N(e.allowUnsort)||e.allowUnsort,i.multiple=e.multiple,i.firstAscending=!!N(e.firstAscending)||e.firstAscending,i.ascText=N(e.ascText)?"&#9650;":e.ascText,i.descText=N(e.descText)?"&#9660;":e.descText),i._initialize()},destroy:function(){var e=this,t=e.grid.headerTable;e.allowUnsort=e.multiple=e.sortExpressions=null,e.length=0,t.find(".sui-headercell .sui-link").each(function(){x(this).parent().html(x(this).html())}),t.off(e._eventNS),t.find('.sui-headercell span[class^="sui-"]').remove()},_initialize:function(){var e,t,i,n,r,o,l,a,s=this,d=s.grid,c=d.dataSource.sort,u=d.columns,p={};if(d.headerTable.find(".sui-headercell").each(function(){var e=x(this),t=e.attr("data-field"),i=d._getColumnByField(t);p[t]=e,i&&!1!==i.sortable&&(i=e.html(),e.empty(),e.removeAttr(G),x('<a href="#" class="sui-link sui-unselectable" unselectable="on" tabindex="-1"/>').appendTo(e).html(i))}),d.headerTable.on(ee+s._eventNS,".sui-link",W(s._clickHandler,s)),c)for(e=0;e<c.length;e++)for(i=c[e],t=0;t<u.length;t++)!1!==u[t].sortable&&i.path==u[t].field&&(r=(n=x(p[u[t].field])).find(".sui-link"),o="ascending",l="sui-asc",a=s.ascText,i.desc&&(o="descending",a=s.descText,l="sui-desc"),x(n).attr(G,o),r.addClass(l),x('<span class="sui-'+o+'">'+a+"</span>").appendTo(r))},_clickHandler:function(e){var t=this,i=x(e.target).closest(".sui-link"),e=t.grid._getColumnByField(i.parent().attr("data-field"));return i.hasClass("sui-desc")?t.allowUnsort&&t.firstAscending?t._sortInternal(e,!0,!0):t._sortInternal(e,!1,!1):i.hasClass("sui-asc")?t.allowUnsort&&!t.firstAscending?t._sortInternal(e,!1,!0):t._sortInternal(e,!0,!1):t.firstAscending?t._sortInternal(e,!1,!1):t._sortInternal(e,!0,!1),!1},_sortInternal:function(t,i,n){var e,r=this.grid,o=r.dataSource,l=o.sort;r.trigger(X,{commandName:"sort",cancel:!1,column:t,desc:i,unsort:n}).cancel||(l?(!this.multiple&&l?l.length=0:0<(e=u(l,function(e){return e.path===t.field&&e.desc===(n?i:!i)})).length&&(e=p(e[0],l),l.splice(e,1)),n||l.push({path:t.field,desc:i})):n||(l=o.sort=[{path:t.field,desc:i}]),r._refreshOnSort(),r.trigger("sort",{column:t,desc:i,unsort:n}))},_sort:function(t,i,e){var n,r,o,l,a=this.grid,s=a.dataSource,d=s.sort;!(n=d?u(d,function(e){return e.path===t&&e.desc===i}):n)||n.length<=0?(!this.multiple&&d&&(d.length=0),d?(o=!1,(l=u(d,function(e){return e.path===t&&e.desc!=i}))&&0<l.length&&(r=p(l[0],d),d.splice(r,1),o=!0),e||(d.push({path:t,desc:i}),o=!0),o&&a._refreshOnSort()):e||(s.sort=[{path:t,desc:i}],a._refreshOnSort())):e&&(r=p(n[0],d),d.splice(r,1),a._refreshOnSort())}}),Ee=a.extend({init:function(e,t){var i=this,n=i._eventNS=".shieldGridSelection"+r();l(e)?(i.type=_e,i.multiple=!1,i.toggle=!1,i.spreadsheet=!0,i.drawArea=!1,i.disableTextSelection=!1,i._selectOnMouseDown=!1):o(e)&&(i.type=e.type||_e,i.multiple=!!e.multiple,i.toggle=!!B(e.toggle)&&e.toggle,i.spreadsheet=!B(e.spreadsheet)||e.spreadsheet,i.drawArea=B(e.drawArea)?e.drawArea:e.multiple,i.disableTextSelection=!!B(e.disableTextSelection)&&e.disableTextSelection,i._selectOnMouseDown=!i.drawArea&&e.selectEvent==$),i.grid=t,i.lastSelected=null,x(t.headerTable).add(t.frozenHeaderTable).addClass("sui-non-selectable"),x(t.contentTable).add(t.frozenContentTable).addClass("sui-selectable"),x(t.contentTable).add(t.frozenContentTable).on($+n,W(i._mouseDownHandler,i)).on(J+n,W(i._mouseMoveHandler,i)),x(v).on(Z+n,W(i._mouseUpHandler,i)),F&&x(t.contentTable).add(t.frozenContentTable).on("selectstart"+n,function(){return!1}),i.multiple&&i.drawArea&&(i.area=x(v.createElement("span")).addClass("sui-area sui-area-color"))},destroy:function(){var e=this,t=e._eventNS,i=e.grid;x(i.contentTable).add(i.frozenContentTable).off(t),x(v).off(t),e.area&&e.area.remove(),e.type=e.multiple=e.lastSelected=e.toggle=e.spreadsheet=e.area=e.x=e.y=e.elements=null},select:function(e){var t,i,n,r;if(!e)return this.grid.contentTable.find("."+U);if(0<(i=(t=x(e)).length))for(r=0;r<i;r++)n=x(t.get(r)),this._selectElement(n),r==i-1&&(this.lastSelected=n)},clear:function(){this.type==_e?this._clearSelectedRows():this._clearSelectedCells()},_getParentTable:function(e){if(e)return"TABLE"==e[0].nodeName.toUpperCase()?e[0]:e.parent()?this._getParentTable(e.parent()):void 0},_mouseDownHandler:function(e){var t=this,i=t.grid,n=e.pageX,r=e.pageY,o=x(e.target),l=t._getParentTable(o);t.x=n,t.y=r,"TD"==o[0].nodeName.toUpperCase()&&l!=x(i.contentTable)[0]&&l!=x(i.frozenContentTable)[0]||!(o.hasClass("sui-cell")||o.hasClass("sui-row")||o.hasClass("sui-alt-row")||we(e,i.contentTable)||we(e,i.frozenContentTable))||o.hasClass("sui-detail-cell")||o.hasClass("sui-detail-row")||o.hasClass("sui-collapse-cell")||o.hasClass("sui-expand-cell")||o.hasClass("sui-expand-cell-disabled")||o.hasClass("sui-indent-cell")||(t.multiple&&t.drawArea&&t.area.appendTo(v.body).css({left:n+1,top:r+1,width:0,height:0}),x(v).on(J+t._eventNS,W(t._mouseMoveHandler,t)),(t.drawArea||t.disableTextSelection)&&_.selection(!1),t.elements=xe(e,i.contentTable,i.frozenContentTable),t.elements&&t._selectOnMouseDown&&!Te(t.elements)&&t._performAndProcessSelection(e))},_mouseMoveHandler:function(e){var t=this,i=e.pageX,n=e.pageY,r=t.x,e=t.y,n={left:i<r?i:r,top:n<e?n:e,width:d(i-t.x),height:d(n-t.y)};t.multiple&&t.drawArea&&t.area.css(n)},_mouseUpHandler:function(e){var t=this,i=t.area;x(v).off(J+t._eventNS),(t.drawArea||t.disableTextSelection)&&_.selection(!0),!t.elements||t._selectOnMouseDown&&!Te(t.elements)||t._performAndProcessSelection(e),i&&i.remove()},_performAndProcessSelection:function(e){var t,i,n=this,r=n.grid,o=n.area,l=n.elements,a=e.ctrlKey,s=[],d=[],c=[],u=r.trigger(X,{commandName:"selectionChanging",cancel:!1});if(u.cancel)n.elements=null;else{for(n.elementsToBeSelected=[],n.type==_e?n._performRowSelection(o,a,l,e):n._performCellSelection(o,a,l,e),i=0;i<n.elementsToBeSelected.length;i++)!((t=n.elementsToBeSelected[i]).hasClass("sui-cell")||t.hasClass("sui-row")||t.hasClass("sui-alt-row"))||t.hasClass("sui-detail-cell")||t.hasClass("sui-detail-row")||t.hasClass("sui-collapse-cell")||t.hasClass("sui-expand-cell")||t.hasClass("sui-expand-cell-disabled")||t.hasClass("sui-indent-cell")||(s.push(t),t=r._getRowIndex(n.type==_e?t:x(t).parent()),d.push(t),c.push(0<=t?r.dataSource.getDataIndex(t):t));if(!r.trigger(X,{commandName:j,cancel:!1,toBeSelected:s,viewIndices:d,indices:c}).cancel){for(i=0;i<s.length;i++)n._selectElement(s[i]);r.trigger(j,{selected:s,viewIndices:d,indices:c}),n.elements=null}}},_performRowSelection:function(e,t,i,n){var r,o=this;x(n.target).hasClass("sui-expand-cell")||x(n.target).hasClass("sui-expand-cell-disabled")||x(n.target).hasClass("sui-collapse-cell")||x(n.target)&&x(n.target).parent()&&(x(n.target).parent().hasClass("sui-expand-cell")||x(n.target).parent().hasClass("sui-expand-cell-disabled")||x(n.target).parent().hasClass("sui-collapse-cell"))||(!o.drawArea||n.type===Q||e&&0===e.height()&&0===e.width()?o.multiple?o._processMultiRowSelection(n,i):o._processSingleRowSelection(n,i):o.multiple?(e=o.grid.contentTable.find(">tbody > tr"),r=null,c(e,function(e,t){x(t).offset().top<n.pageY&&(r=t.rowIndex)}),t||o._clearSelectedRows(),o._selectRowRange(i.row.rowIndex,r,t)):o._processSingleRowSelection(n,i))},_performCellSelection:function(e,t,i,p){var h=this;if(!(x(p.target).hasClass("sui-expand-cell")||x(p.target).hasClass("sui-expand-cell-disabled")||x(p.target).hasClass("sui-collapse-cell")||x(p.target)&&x(p.target).parent()&&(x(p.target).parent().hasClass("sui-expand-cell")||x(p.target).parent().hasClass("sui-expand-cell-disabled")||x(p.target).parent().hasClass("sui-collapse-cell"))))if(!h.drawArea||p.type===Q||e&&0===e.height()&&0===e.width())h.multiple?h._processMultiCellSelection(p,i):h._processSingleCellSelection(p,i);else if(h.multiple){var n,e=h.grid.contentTable.find(">tbody > tr > td"),f=[];for(c(e,function(e,t){var i=x(t),n=i.get(0).clientWidth,r=i.get(0).clientHeight,o=i.offset().top,l=i.offset().left,a=o+r,s=l+n,d=b(p.pageX,h.x),c=E(p.pageX,h.x),u=b(p.pageY,h.y),i=E(p.pageY,h.y),r=!1,n=!1;o<u?u<a&&(r=!0):o<i&&(r=!0),l<d?d<s&&(n=!0):l<c&&(n=!0),r&&n&&f.push(t)}),t||h._clearSelectedCells(),n=0;n<f.length;n++)x(f[n]).hasClass(U)?h._deselectElement(x(f[n])):h.elementsToBeSelected.push(x(f[n]))}else h._processSingleCellSelection(p,i)},_selectRowRange:function(e,t,i){for(var n,r=b(e,t),o=E(e,t),l=this.grid.contentTable.find(">tbody > tr"),a=r;a<=o;a++)n=x(l[a]),i&&n.hasClass(U)?this._deselectElement(n):this.elementsToBeSelected.push(n)},_clearSelectedRows:function(){var e=this,t=e.grid;x(t.frozenContentTable).find("> tbody > tr."+U).each(function(){e._deselectElement(x(this))}),x(t.contentTable).find("> tbody > tr."+U).each(function(){e._deselectElement(x(this))})},_clearSelectedCells:function(){var e=this,t=e.grid;x(t.frozenContentTable).find(">tbody > tr > td."+U).each(function(){e._deselectElement(x(this))}),x(t.contentTable).find(">tbody > tr > td."+U).each(function(){e._deselectElement(x(this))})},_processSingleRowSelection:function(e,t){var i=this,n=i.toggle,r=i.multiple,o=x(t.row),t=o.hasClass(U);r||i._clearSelectedRows(),n?t?i._deselectElement(o):i.elementsToBeSelected.push(o):(i._clearSelectedRows(),i.elementsToBeSelected.push(o)),i.lastSelected=o},_processMultiRowSelection:function(e,t){var i=this,n=i.grid,r=e.ctrlKey,o=e.shiftKey,l=x(t.row);if(r)l.hasClass(U)?i._deselectElement(l):i.elementsToBeSelected.push(l),i.lastSelected=l;else if(o){n.contentTable.find(">tbody > tr."+U);if(i.lastSelected){var a=i.lastSelected.get(0).rowIndex,s=n.contentTable.find(">tbody > tr"),o=l.get(0).rowIndex,n=b(o,a),d=E(o,a);i._clearSelectedRows();for(var c,u=n;u<=d;u++)u!==a&&(c=x(s[u]),i.elementsToBeSelected.push(c));i.elementsToBeSelected.push(x(s[a]))}else i.elementsToBeSelected.push(l),i.lastSelected=l}else i._processSingleRowSelection(e,t)},_processSingleCellSelection:function(e,t){var i=this,n=i.toggle,r=i.multiple,o=x(t.cell),t=o.hasClass(U);i.lastSelected;r||i._clearSelectedCells(),n?t?i._deselectElement(o):i.elementsToBeSelected.push(o):(i._clearSelectedCells(),i.elementsToBeSelected.push(o)),i.lastSelected=o},_processMultiCellSelection:function(e,t){var i=this,n=i.grid,r=e.ctrlKey,o=e.shiftKey,l=x(t.cell);if(r)l.hasClass(U)?i._deselectElement(l):i.elementsToBeSelected.push(l),i.lastSelected=l;else if(o)if(i.lastSelected){var a,s=i.lastSelected,d=n.contentTable.get(0),r=d.rows[0].cells.length,o=s.parent().get(0).rowIndex,c=o*r+s.get(0).cellIndex,u=n.contentTable.find(">tbody > tr > td"),n=l.parent().get(0).rowIndex,r=n*r+l.get(0).cellIndex,p=b(r,c),h=E(r,c);if(i._clearSelectedCells(),i.spreadsheet)for(var r=s[0].cellIndex,s=l[0].cellIndex,p=b(r,s),h=E(r,s),s=b(o,n),f=E(o,n),g=s;g<=f;g++)for(var _=d.rows[g],m=p;m<=h;m++)i.elementsToBeSelected.push(x(_.cells[m]));else for(g=p;g<=h;g++)g!==c&&(a=x(u[g]),i.elementsToBeSelected.push(a));i.elementsToBeSelected.push(x(u[c]))}else i.elementsToBeSelected.push(l),i.lastSelected=l;else i._processSingleCellSelection(e,t)},_selectElement:function(e){x(e).add(this.type==_e?this.grid._getOtherRow(e):null).addClass(U)},_deselectElement:function(e){x(e).add(this.type==_e?this.grid._getOtherRow(e):null).removeClass(U)}}),We=a.extend({options:{ns:".shieldGridGroupReorder",returnDuration:50,returnEasing:"ease-out",dragTreshold:20,draggedTemplate:"<div style='border-color:transparent;' class='sui-grid sui-grid-core'><div class='sui-group-panel-indicator'><span class='sui-group-title'>{0}</span><span class='sui-group-close-button'></span></div></div>"},init:function(e){var t=this;t.grid=e,t.options=P(!0,{},We.fn.options),t._eventNS=t.options.ns+r(),t._events(!0)},_events:function(e){var t=this,i=t.grid.element;e?(t._downProxy=W(t._down,t),i.on($+t._eventNS,".sui-group-panel-indicator",t._downProxy)):(i.off($+t._eventNS,".sui-group-panel-indicator",t._downProxy),t._downProxy=null)},_down:function(e){var t=this,i=x(e.target).closest(".sui-group-panel-indicator"),n=i.offset(),r=t.grid.element,o=r.offset(),l=e.pageX,a=e.pageY;if(t.dataField=i.attr("data-field"),!(1<e.button))return t._moveProxy=W(t._move,t),t._upProxy=W(t._up,t),x(v).on(J+t._eventNS,t._moveProxy).on(Z+t._eventNS,t._upProxy),t.start={left:l-n.left,top:a-n.top,x:l,y:a,target:i,index:i.parent().find(".sui-group-panel-indicator").index(i),positions:t._positions(i),gridPosition:{left:o.left,top:o.top,width:r.outerWidth(),height:r.outerHeight()},isRtl:g.isRtl(r)},_.selection(!1),!1},_move:function(e){var t=this,i=t.options,n=t.dragged,r=t.start,o=e.pageX,l=e.pageY,e=i.dragTreshold;n?(n.css({left:o-r.left,top:l-r.top}),t.hovered=t._index(o,l),t._indicator()):(d(r.x-o)>e||d(r.y-l)>e)&&(t.dragged=x(w(i.draggedTemplate,r.target.html())).css({position:"absolute",left:o-r.left,top:l-r.top,zIndex:999}).find("table").css("width","auto").end().find("th").attr("style",r.target[0].style.cssText).css({width:r.target.width(),height:r.target.height()}).end().appendTo(v.body))},_positions:function(e){for(var t,i,n=e.parent().children(".sui-group-panel-indicator"),r=0,o=[];r<n.length;r++)i=(t=n.eq(r)).offset(),o.push({left:i.left,top:i.top,width:t.outerWidth(),height:t.outerHeight()});return o},_index:function(e,t){for(var i,n,r=this.start,o=r.gridPosition,l=0;l<r.positions.length;l++)if(i=(n=r.positions[l]).left<=e&&e<=n.left+n.width&&n.top<=t&&t<=n.top+n.height,n=o.left<=e&&e<=o.left+o.width&&o.top<=t&&t<=o.top+o.height,i&&n)return l;return-1},_indicator:function(){var e=this.start,t=this.hovered,i=e.positions[t],n=this.reorderIndicator,r=e.gridPosition.left,o=e.gridPosition.left+e.gridPosition.width,l=e.target.parent().children(".sui-group-panel-indicator"),a=e.isRtl?e.index<t:e.index>t;l.removeClass("sui-reorder-target"),n&&n.hide(),null!=t&&-1<t&&(l.eq(t).addClass("sui-reorder-target"),n=n||(this.reorderIndicator=x("<div class='sui-grid-reorder-indicator'><span class='sui-grid-indicator-top' /><span class='sui-grid-indicator-bottom' /></div>").appendTo(v.body)),t!==e.index&&(a=i.left+(a?0:i.width),n.css({left:b(E(r,a),o),top:i.top,height:i.height}).show()))},_up:function(e){var t,i=this,n=i.options,r=i.grid,o=i.dragged,l=i.start,a=i.hovered,s=i.dataField;if(i._detachDocumentEvents(),o)if(null!=a&&-1<a){if(o.remove(),!(t=r.trigger(X,{commandName:re,cancel:!1,index:l.index,newIndex:a})).cancel)for(var d=r.dataSource.group,c=0;c<d.length;c++)if(d[c].field==s){var u=d[c];d[c]=d[a],d[a]=u;break}}else setTimeout(function(){o.remove()},g.transitions?n.returnDuration:0),i.grid.dataSource.group&&((t=r.trigger(X,{commandName:oe,cancel:!1,field:s})).cancel||(i.grid.ungroup(s),r.trigger(oe,t)));i.dragged=i.dataField=i.hovered=a=null,i._indicator(),i.reorderIndicator&&(i.reorderIndicator.remove(),i.reorderIndicator=null),i.start=null,x(v).off(i._eventNS),_.selection(!0),t&&!t.cancel&&(delete t.cancel,delete t.commandName,r.dataSource.read(),r.trigger(re,t))},_detachDocumentEvents:function(){this._moveProxy=this._upProxy=null,x(v).off(this._eventNS)},destroy:function(){this.dataField=null,this._detachDocumentEvents(),this._events(!1)}}),Pe=a.extend({options:{ns:".shieldGridColumnGroupReorder",returnDuration:150,returnEasing:"ease-out",dragTreshold:20,draggedTemplate:"<div class='sui-grid sui-grid-core'><div class='sui-gridheader'><table class='sui-table'><thead><tr class='sui-columnheader'><th class='sui-headercell'>{0}</th></tr></thead></table></div></div>"},init:function(e){var t=this;t.grid=e,t.options=P(!0,{},ze.fn.options),t._eventNS=t.options.ns+r(),t._events(!0),e.headerTable.addClass("sui-reorderable")},_events:function(e){var t=this,i=t.grid.element;e?(t._downProxy=W(t._down,t),i.on($+t._eventNS,".sui-headercell",t._downProxy)):(i.off($+t._eventNS,".sui-headercell",t._downProxy),t._downProxy=null)},_down:function(e){var t=this,i=x(e.target).closest(".sui-headercell"),n=i.offset(),r=t.grid.element,o=r.offset(),l=e.pageX,a=e.pageY;if(!(1<e.button)){var s=i.attr("data-field"),d=t.grid.dataSource.group;if(d)for(var c=0;c<d.length;c++)if(s===d[c].field)return;return x(v).on(J+t._eventNS,W(t._move,t)).on(Z+t._eventNS,W(t._up,t)),t.start={left:l-n.left,top:a-n.top,x:l,y:a,target:i,index:1e3,positions:t._positions(i),gridPosition:{left:o.left,top:o.top,width:r.outerWidth(),height:r.outerHeight()},isRtl:g.isRtl(r)},_.selection(!1),!1}},_move:function(e){var t=this,i=t.options,n=t.dragged,r=t.start,o=e.pageX,l=e.pageY,e=i.dragTreshold;n?(n.css({left:o-r.left,top:l-r.top}),t.hovered=t._index(o,l),t._indicator()):(d(r.x-o)>e||d(r.y-l)>e)&&(t.dragged=x(w(i.draggedTemplate,r.target.html())).css({position:"absolute",left:o-r.left,top:l-r.top,zIndex:999}).find("table").css("width","auto").end().find("th").attr("style",r.target[0].style.cssText).css({width:r.target.width(),height:r.target.height()}).end().appendTo(v.body))},_positions:function(e){for(var t,i,n=this.grid.element.find(".sui-group-panel-indicator"),r=0,o=[];r<n.length;r++)i=(t=n.eq(r)).offset(),o.push({left:i.left,top:i.top,width:t.outerWidth(),height:t.outerHeight()}),r==n.length-1&&o.push({left:i.left,top:i.top,width:t.outerWidth(),height:t.outerHeight()});return o},_index:function(e,t){var i,n,r,o,l=this.start,a=l.gridPosition,s=this.grid.element.find(".sui-group-panel");if(0<l.positions.length){for(i=0;i<l.positions.length;i++)if(n=(o=l.positions[i]).left<=e&&e<=o.left+o.width&&o.top<=t&&t<=o.top+o.height,o=a.left<=e&&e<=a.left+a.width&&a.top<=t&&t<=a.top+a.height,r=s.offset().left<=e&&e<=s.offset().left+s.width()&&s.offset().top<=t&&t<=s.offset().top+s.height(),n&&o)return i}else r=s.offset().left<=e&&e<=s.offset().left+s.width()&&s.offset().top<=t&&t<=s.offset().top+s.height();return r?(this.isOnGroupPanel=!0,this.grid.element.find(".sui-group-panel-indicator").length):-1},_indicator:function(){var e,t=this,i=t.start,n=t.hovered,r=i.positions[n],o=t.reorderIndicator,l=i.gridPosition.left,a=i.gridPosition.left+i.gridPosition.width,s=i.target.parent().children(".sui-group-panel-indicator"),d=i.isRtl?i.index<n:i.index>n;s.removeClass("sui-reorder-target"),o&&o.hide(),null!=n&&-1<n&&(s.eq(n).addClass("sui-reorder-target"),o=o||(t.reorderIndicator=x("<div class='sui-grid-reorder-indicator'><span class='sui-grid-indicator-top' /><span class='sui-grid-indicator-bottom' /></div>").appendTo(v.body)),this.isOnGroupPanel&&(d=!1),r?(e=r.left+(d?0:r.width),this.isOnGroupPanel=null,o.css({left:b(E(l,e),a),top:r.top,height:r.height}).show()):(e=l+(d?i.gridPosition.width:0),this.isOnGroupPanel=null,o.css({left:e,top:i.gridPosition.top,height:t.grid.element.find(".sui-group-panel-empty").outerHeight()}).show()))},_up:function(e){var t,i=this,n=i.options,r=i.grid,o=i.dragged,l=i.start,a=i.hovered;o&&(o.css({left:l.x-l.left,top:l.y-l.top,transition:w("left {0} {1}ms, top {0} {1}ms",n.returnEasing,n.returnDuration)}),null!=a&&-1<a?(o.remove(),l=l.target.attr("data-field"),(t=r.trigger(X,{commandName:"group",cancel:!1,field:l,index:a})).cancel||r.group(l,a,"asc")):setTimeout(function(){o.remove()},g.transitions?n.returnDuration:0)),i.dragged=i.hovered=a=null,i._indicator(),i.reorderIndicator&&(i.reorderIndicator.remove(),i.reorderIndicator=null),i.start=null,x(v).off(i._eventNS),_.selection(!0),t&&!t.cancel&&(delete t.cancel,delete t.commandName,r.dataSource.read(),r.trigger("group",t))},destroy:function(){this._events(!1),this.grid.headerTable.removeClass("sui-reorderable")}}),ze=a.extend({options:{ns:".shieldGridColumnReorder",returnDuration:150,returnEasing:"ease-out",dragTreshold:20,draggedTemplate:"<div class='sui-grid sui-grid-core'><div class='sui-gridheader'><table class='sui-table'><thead><tr class='sui-columnheader'><th class='sui-headercell'>{0}</th></tr></thead></table></div></div>"},init:function(e){var t=this;t.grid=e,t.options=P(!0,{},ze.fn.options),t._eventNS=t.options.ns+r(),t._events(!0),e.headerTable.addClass("sui-reorderable")},_events:function(e){var t=this,i=t.grid.element;e?(t._downProxy=W(t._down,t),i.on($+t._eventNS,".sui-headercell",t._downProxy)):(i.off($+t._eventNS,".sui-headercell",t._downProxy),t._downProxy=null)},_down:function(e){var t=this,i=x(e.target).closest(".sui-headercell"),n=i.offset(),r=t.grid.element,o=r.offset(),l=e.pageX,a=e.pageY;if(!(1<e.button))return x(v).on(J+t._eventNS,W(t._move,t)).on(Z+t._eventNS,W(t._up,t)),t.start={left:l-n.left,top:a-n.top,x:l,y:a,target:i,index:i.parent().find(".sui-headercell").index(i),positions:t._positions(i),gridPosition:{left:o.left,top:o.top,width:r.outerWidth(),height:r.outerHeight()},isRtl:g.isRtl(r)},_.selection(!1),!1},_move:function(e){var t=this,i=t.options,n=t.dragged,r=t.start,o=e.pageX,l=e.pageY,e=i.dragTreshold;n?(n.css({left:o-r.left,top:l-r.top}),t.hovered=t._index(o,l),t._indicator()):(d(r.x-o)>e||d(r.y-l)>e)&&(t.dragged=x(w(i.draggedTemplate,r.target.html())).css({position:"absolute",left:o-r.left,top:l-r.top,zIndex:999}).find("table").css("width","auto").end().find("th").attr("style",r.target[0].style.cssText).css({width:r.target.width(),height:r.target.height()}).end().appendTo(v.body))},_positions:function(e){for(var t,i,n=e.parent().children(".sui-headercell"),r=0,o=[];r<n.length;r++)i=(t=n.eq(r)).offset(),o.push({left:i.left,top:i.top,width:t.outerWidth(),height:t.outerHeight()});return o},_index:function(e,t){for(var i,n,r=this.start,o=r.gridPosition,l=0;l<r.positions.length;l++)if(i=(n=r.positions[l]).left<=e&&e<=n.left+n.width&&n.top<=t&&t<=n.top+n.height,n=o.left<=e&&e<=o.left+o.width&&o.top<=t&&t<=o.top+o.height,i&&n)return l;return-1},_indicator:function(){var e=this.start,t=this.hovered,i=e.positions[t],n=this.reorderIndicator,r=e.gridPosition.left,o=e.gridPosition.left+e.gridPosition.width,l=e.target.parent().children(".sui-headercell"),a=e.isRtl?e.index<t:e.index>t;l.removeClass("sui-reorder-target"),n&&n.hide(),null!=t&&-1<t&&(l.eq(t).addClass("sui-reorder-target"),n=n||(this.reorderIndicator=x("<div class='sui-grid-reorder-indicator'><span class='sui-grid-indicator-top' /><span class='sui-grid-indicator-bottom' /></div>").appendTo(v.body)),t!==e.index&&(a=i.left+(a?0:i.width),n.css({left:b(E(r,a),o),top:i.top,height:i.height}).show()))},_up:function(e){var t,i=this,n=i.options,r=i.grid,o=i.dragged,l=i.start,a=i.hovered;o&&(o.css({left:l.x-l.left,top:l.y-l.top,transition:w("left {0} {1}ms, top {0} {1}ms",n.returnEasing,n.returnDuration)}),null!=a&&-1<a?(o.remove(),(t=r.trigger(X,{commandName:ie,cancel:!1,index:l.index,newIndex:a})).cancel||r.reorderColumn(l.index,a)):setTimeout(function(){o.remove()},g.transitions?n.returnDuration:0)),i.dragged=i.hovered=a=null,i._indicator(),i.reorderIndicator&&(i.reorderIndicator.remove(),i.reorderIndicator=null),i.start=null,x(v).off(i._eventNS),_.selection(!0),t&&!t.cancel&&(delete t.cancel,delete t.commandName,r.trigger(ie,t))},destroy:function(){this._events(!1),this.grid.headerTable.removeClass("sui-reorderable")}}),i=e.extend({init:function(){e.fn.init.apply(this,arguments);this._eventNS=".shieldGrid"+this.getInstanceId(),this.refresh(),this._dM()},destroy:function(){this._destroyInternal(),e.fn.destroy.call(this)},_destroyInternal:function(){var e,t,i,n=this,r=n.options,o=n._eventNS;if(n.contentWrapper){if(n._markedCells){for(t in n._markedCells)n._markedCells.hasOwnProperty(t)&&(n._markedCells[t].length=0);n._markedCells=null}if(x(s).off(o),n._destroyFrozenContainers(),n.sorting&&(n.sorting.destroy(),n.sorting=null),n.virtualizedContainer&&(n.virtualizedContainer.destroy(),n.virtualizedContainer=null),n.columns)for(e=0;e<n.columns.length;e++)n.columns[e].destroy();if(n.contentWrapper&&n.contentWrapper.off("scroll"),n.scrollableWrapper=null,n._selectable&&(n._selectable.destroy(),n._selectable=null),r.scrolling?(n.contentWrapper.parent().remove(),n.headerWrapper.parent().remove()):(n.contentWrapper.remove(),n.headerWrapper.remove()),n._hasDetailTemplate()&&n.contentTable.off(o),n.popupWindow&&n.popupWindow.destroy(),n._footer&&(x(n._footer).remove(),n._footer=null),n.columns=n._gridColumns=n._windowEditingIndex=n.contentWrapper=n.headerWrapper=n.contentTable=n.hederTable=null,n._buttons){for(e=0;e<n._buttons.length;e++)i=n._buttons[e].button.element,n._buttons[e].button.destroy(),i.remove();n._buttons.length=0}n.pager&&(n.pager.destroy(),n.pager=null,n.pagerWrapper&&(n.pagerWrapper.parent().remove(),n.pagerWrapper=null)),n.loadingPanel&&(n.loadingPanel=null,clearTimeout(n.loadingPanelTimeout),n.loadingPanelTimeout=null),n._columnResizing&&(n._columnResizing.destroy(),n._columnResizing=null),n._toolbar&&(n._toolbar.destroy(),n._toolbar=null),n._editing&&(n._editing.destroy(),n._editing=null),n._columnReorder&&(n._columnReorder.destroy(),n._columnReorder=null),n._sortingInProgress=n._loadingVirtualRows=n._scrollLeft=n._scrollTop=n._populateInsertedItem=n._preventClosingEditors=n._editingInProcess=null,n._filter&&(n._filter.destroy(),n._filter=null),n._groupReorder&&(n._groupReorder.destroy(),n._groupReorder=null),n._columnGroupReorder&&(n._columnGroupReorder.destroy(),n._columnGroupReorder=null),n.dataSource.off(o),n.element.off(o).removeClass("sui-grid sui-grid-core").css(L,"").empty()}},_dM:function(){var e=v.createTextNode(x("<div/>").html("&#68;&#101;&#109;&#111;&#32;&#86;&#101;&#114;&#115;&#105;&#111;&#110;").text());x(e).insertAfter(x(this.element))},_resizeHandler:function(){this._adjustWidthsLocked(),this._adjustHeightsLocked()},_hasDetailTemplate:function(){var e=this.options;return e.detailTemplate||e.events&&e.events.detailCreated},_hasVirtualScrolling:function(){var e=this.options;return e.scrolling&&e.scrolling.virtual&&!e.paging&&!this._hasDetailTemplate()},_canExpandCollapse:function(){return!1!==this.options.detailExpandCollapse},_resolveColumns:function(e){var t,i=this;if(i.columns=[],n.array(e))for(t=0;t<e.length;t++)i.columns.push(new Ie(e[t]));else _.error("Invalid columns declaration. The columns have to be array.",i.options.dieOnError);for(i._gridColumns={},t=0;t<i.columns.length;t++)i._gridColumns[i.columns[t].field]={index:t}},_createWrappers:function(){var e,t=this,i=t.element;t._wrapper(),(e=x("<div/>").prependTo(i)).addClass("sui-gridcontent"),(i=x("<div/>").prependTo(i)).addClass("sui-gridheader"),t.options.showHeader||(i.css(he,fe),e.addClass("sui-no-header")),t.headerWrapper=i,t.contentWrapper=e},_wrapper:function(){var e=this.options.height,t=this.element;(t=!t.is("div")?t.wrap("<div/>").parent():t).addClass("sui-grid sui-grid-core"),t&&t.css(L,e)},_createGroupPanel:function(){var e,t,i,n=this,r=n.options.grouping,o=!1,l=n.dataSource,a=n.element.find(".sui-group-panel");if(0<a.length&&a.remove(),r.showGroupHeader)if(l.group&&0!==l.group.length){for(e=x('<div class="sui-group-panel"/>'),x(n.element).prepend(e),i=0;i<l.group.length;i++)t=l.group[i],n._createGroupHeaderIndicator(t,e),o=!0;o&&r.allowDragToGroup&&(n._groupReorder&&n._groupReorder.destroy(),n._groupReorder=new We(n),n._columnGroupReorder&&n._columnGroupReorder.destroy(),n._columnGroupReorder=new Pe(n))}else x(n.element).prepend(x('<div class="sui-group-panel sui-group-panel-empty">'+r.message+"</div>"))},_createGroupHeaderIndicator:function(e,t){var i=this,n=i._getColumnByField(e.field),n=n?n.groupTitle:e.field,t=x('<div class="sui-group-panel-indicator" data-field="'+e.field+'"/>').appendTo(t),e=("desc"==e.order?x('<span class="sui-descending">&#9660;</span>'):x('<span class="sui-ascending">&#9650;</span>')).appendTo(t);e.on(ee,W(i._sortButtonClickedHandler,i)),x('<span class="sui-group-title">'+n+"</span>").appendTo(t),i.options.grouping.allowDragToGroup&&x('<span class="sui-group-close-button">&#10006;</span>').on(ee,W(i._closeButtonClickedHandler,i)).appendTo(t)},_sortButtonClickedHandler:function(e){for(var t=x(e.currentTarget),i=t.parent().attr("data-field"),n=this.dataSource.group,r=0;r<n.length;r++)n[r].field==i&&(t.hasClass("sui-descending")?n[r].order="asc":n[r].order="desc",this.dataSource.read())},_closeButtonClickedHandler:function(e){var t=x(e.currentTarget).parent().attr("data-field");this.dataSource.group&&((e=this.trigger(X,{commandName:oe,cancel:!1,field:t})).cancel||(this.ungroup(t),this.trigger(oe,e)))},_createHeaderTable:function(){var e=this,t=e.headerWrapper,i=e.element;i.is("table")||(i=t.children("table")).length||(i=x("<table/>").appendTo(t)),H&&i.attr("cellspacing",0),i.addClass("sui-table"),e.headerTable=i,e._createTbody(i,!0),e._createThead(i),e._createFakeRow(i,e.columns.length)},_createContentTable:function(){var e=this,t=e.options,i=e.contentWrapper,n=e.element;n.is("table")||(n=i.children("table")).length||(n=x("<table/>").appendTo(i)),H&&n.attr("cellspacing",0),n.addClass("sui-table"),t.rowHover&&n.addClass("sui-hover"),e._hasDetailTemplate()&&(e._canExpandCollapse()&&n.addClass("sui-expandable"),n.on(ee+e._eventNS,"> tbody > tr > .sui-expand-cell, > tbody > tr > .sui-collapse-cell",W(e._expandCollapseDetailTemplate,e))),e.contentTable=n,e._createTbody(e.contentTable,!1)},_createTbody:function(e,t){var i=e.find("> tbody");i.length||(i=x("<tbody/>").appendTo(e)),t&&i.addClass("sui-hide"),e.tbody=i},_createThead:function(e){this.options;var t,i,n,r,o,l,a,s=this.columns,d="",c=e.find(">thead");for(c.length||(c=x("<thead/>").insertBefore(e.tbody)),(n=!(n=e.find("tr:has(th):first")).length&&!(n=c.children().first()).length?x("<tr/>").appendTo(c):n).attr(V,_e),n.empty(),t=0,i=s.length;t<i;t++)o=(r=s[t]).headerTemplate||r.title||r.field||r,l=!!s[t].sortable,d+="<th "+be(r.headerAttributes)+' data-field="'+s[t].field+'" role="columnheader"'+(l?' tabindex="-1"':"")+">"+o+"</th>";n.html(d),n.addClass("sui-columnheader"),n.find("th").addClass("sui-headercell"),s.length&&this._hasDetailTemplate()&&this._canExpandCollapse()&&(a=x('<th class="sui-indent-cell"/>'),H&&a.html("&nbsp;"),a.prependTo(n)),e.thead=c},_createFakeRow:function(e,t){var i,n,e=e.find(">tbody");if(e.length){for(i=x("<tr/>"),n=0;n<t;n++)x("<td/>").appendTo(i);i.appendTo(e)}},_createColgroup:function(e){var t,i,n,r=this.options,o=this.columns,l=e.find(">colgroup");for((l=!l.length?x("<colgroup/>").prependTo(e):l).html(""),r.columns.length&&this._hasDetailTemplate()&&this._canExpandCollapse()&&x('<col class="sui-indent-col"/>').appendTo(l),t=0,i=o.length;t<i;t++)n=o[t].width,x(n&&0!==parseInt(n,10)?w('<col style="width:{0}"/>',I(n)?n:n+"px"):"<col/>").data(ve,o[t].field).appendTo(l)},scrollTop:function(e){var t=this,i=t.options.scrolling,n=t._hasVirtualScrolling(),r=t.contentWrapper;if(i){if(!B(e))return n?t.virtualizedContainer?t.virtualizedContainer.scrollTop():void 0:x(r).scrollTop();n?t.virtualizedContainer&&t.virtualizedContainer.scrollTop(e):x(r).scrollTop(e)}},_scrolling:function(){var e=this,t=e.options,i=x(e.element),n=(g.isRtl(i),e.dataSource),r=e._hasVirtualScrolling(),o=e.headerWrapper,l=e.contentWrapper,a=o.outerHeight(),s=!(r||"auto"!==t.height&&B(t.height)),d=!r&&B(t.maxHeight)?parseInt(t.maxHeight,10):C,c=0,u=0,t=0;if(o.parent().hasClass("sui-gridheader sui-scrolldiv")?a=o.parent().outerHeight():(o.addClass("sui-headercontent").removeClass("sui-gridheader"),o.wrap('<div class="sui-gridheader sui-scrolldiv"/>'),l.addClass("sui-content").removeClass("sui-gridcontent"),l.wrap('<div class="sui-gridcontent sui-scroller"/>'),H&&(e.headerTable.addClass("sui-table-ie7").removeClass("sui-table"),e.contentTable.addClass("sui-table-ie7").removeClass("sui-table")),(e.scrollableWrapper=r?l.parent():l).on("scroll",W(e._onscroll,e))),e.pagerWrapper&&(c=e.pagerWrapper.outerHeight()),e._toolbar){for(var p=i.find(".sui-toolbar"),h=0,f=0;f<p.length;f++)h+=x(p[0]).outerHeight();u+=h+1}var o=i.find(".sui-group-panel");0<o.length&&(t+=o.outerHeight()),o=s?"auto":i.innerHeight()-a-c-u-t,x(l).add(l.parent()).css(L,o),d&&d<i.innerHeight()&&(o=d-a-c-u-t,x(l).add(l.parent()).css(L,o)),r?(e._ensureVirtualizedContainer(),e.virtualizedContainer.options.total=n.total,e.virtualizedContainer.render(),e._fixHeaderPadding(e.virtualizedContainer.wrapper.parent())):(e._fixHeaderPadding(l),s||!F||H||D||g.hasScrollbarX(l)||l.css(L,o+1))},_fixHeaderPadding:function(e){var t=g.isRtl(this.element),i=this.headerWrapper,e=x(e).get(0);e&&(1<e.scrollHeight-e.clientHeight?(i.parent().css(t?"padding-left":"padding-right",g.scrollbar()-1),i.removeClass("sui-no-y-scroll")):(i.parent().css(t?"padding-left":"padding-right",0),i.addClass("sui-no-y-scroll")))},_ensureVirtualizedContainer:function(){var e,t,i=this;i.virtualizedContainer||(t=(e=i._renderRow(0,i.contentTable.tbody,{})).outerHeight(),e.remove(),i.virtualizedContainer=new _.ui.VirtualizedContainer(i.scrollableWrapper,{itemHeight:t,total:i.dataSource.total,createContainer:function(e){return e.addClass("sui-content").append(i.contentTable).find("tbody").empty()},getItems:W(i._loadVirtualRows,i),skipRender:!0}),i.contentWrapper=i.virtualizedContainer.element.children().eq(0))},_loadVirtualRows:function(e,t,i){var n,r,o,l=this,a=l.dataSource,s=null!=a.skip?a.skip:0,d=null!=a.take?a.take:a.view.length,c=l.virtualizedContainer.container;if(e<t)if(!l._sortingInProgress&&a.remote&&(e<s||s+d<=t))clearTimeout(l._loadWaitTimeout),l._loadWaitTimeout=setTimeout((n=e,r=t,o=i,function(){l._loadWaitTimeout=null,a.skip=n,a.take=r-n,l._loadingVirtualRows=!0,a.one("change.shieldGrid"+l.getInstanceId(),function(){l._loadWaitTimeout||(l._loadingVirtualRows=!1)}),a.read().then(function(){if(!l._loadWaitTimeout){c.empty();for(var e=n;e<r&&e<a.total;e++)l._renderRow(e-n,c,a.view[e-n]);l.loading(!1),o([],!1),l.trigger(K),l.trigger(Y)}})}),100);else{c.empty();for(var u=e;u<t&&u<a.total;u++)l._renderRow(u,c,a.view[u]);i([],!1),l.trigger(K),l.trigger(Y)}else l._renderNoRecords();l._checkIfVerticalScroll(),l._initSelection()},_checkIfVerticalScroll:function(){var e=this,t=e.element.find(".sui-virtualized").get(0),i=e.element.get(0);t.scrollHeight>i.scrollHeight?(e.headerWrapper.parent().css("padding-right","16px"),e.headerWrapper.removeClass("sui-grid-no-gap")):(e.headerWrapper.parent().css("padding-right","0px"),e.headerWrapper.addClass("sui-grid-no-gap"))},_onscroll:function(e){var t,i=this,n=i.scrollableWrapper,r=n.get(0),o=i.headerWrapper,l=n.scrollLeft(),a=o.scrollLeft();g.isRtl(i.element)&&A&&r.clientHeight<r.scrollHeight&&(l+=r.offsetWidth-r.clientWidth),l!=a&&(o.scrollLeft(l),i._footer&&0<(t=x(i._footer).find(".sui-footer-content")).length&&t.scrollLeft(l)),!i.frozenHeaderWrapper||(n=n.scrollTop())!=i.frozenContentWrapper.scrollTop()&&i.frozenContentWrapper.scrollTop(n)},_sorting:function(){var e=this,t=e.options.sorting;e.element;t&&e.columns.length&&(e.sorting&&e.sorting.destroy(),e.sorting=new Re(t,e))},_renderData:function(){var i,e,t=this,n=t.dataSource.view,r=t.options;r.scrolling,N(r.altRows)||r.altRows,r.rowTemplate,r.altRowTemplate,t.contentTable;t._loadingVirtualRows||t.trigger(X,{commandName:Y,cancel:!1}).cancel||(t._sortingInProgress=!1,t.columns.length||(i=[],n.length&&c(n[0],function(e,t){i.push(e)}),r.columns=i,t._resolveColumns(i)),t._filtering(),t._destroyFrozenContainers(),t._createThead(t.headerTable),t._createColgroup(t.headerTable),t._createColgroup(t.contentTable),t.contentTable.tbody.empty(),t._sorting(),t._renderRows(),t._renderFooter(),r=(e=function(e){return x("<div/>").html(e).text()})("&#83;&#104;&#105;&#101;&#108;&#100;&#85;&#73;"),t._refreshColVisibility(),n&&0<n.length&&t._initFrozenCols(),t._initSelection(),t.loading(!1),e=e("&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#119;&#119;&#119;&#46;&#115;&#104;&#105;&#101;&#108;&#100;&#117;&#105;&#46;&#99;&#111;&#109;"),t.trigger(Y),t.dmL||(t.dmL=x('<a href="'+e+'" target="_blank"> by '+r+"</a>"),x(t.dmL).css({color:"grey","text-decoration":"none"}).insertAfter(x(this.element))))},_renderRows:function(){var e,t=this,i=t.dataSource,n=i.view;if(t._markedCells){for(e in t._markedCells)t._markedCells.hasOwnProperty(e)&&(t._markedCells[e].length=0);t._markedCells=null}if(!n||!n.length)return t._renderNoRecords(),t._createGroupPanel(),t._addGroupIndentCells(),void t._initScrolling();t._hasVirtualScrolling()&&!t._sortingInProgress||((i=i.group)&&0<i.length?(t._renderGroupedData(n,0,0),t._addGroupIndentCells(),t._addGroupDataIndentCells(),t.contentTable.addClass("sui-grouped-table")):t._renderRowsAndDetails(n)),t._createGroupPanel(),t._initScrolling()},_addGroupIndentCells:function(){var e,t,i,n,r,o=this,l=o.dataSource.group,a=o.options,a=a.filtering&&a.filtering.enabled;if(l&&0<l.length)for(e=o.headerTable.find(">colgroup").first(),t=o.contentTable.find(">colgroup").first(),i=o.headerTable.thead.find(".sui-columnheader").first(),a&&(n=o.headerTable.find(".sui-filter-row").first()),e.find(".sui-indent-col").remove(),i.find(".sui-columnheader > .sui-indent-cell").remove(),n&&0<n.length&&n.find(".sui-indent-cell").remove(),r=0;r<l.length;r++)x('<col class="sui-indent-col"/>').prependTo(e),x('<th class="sui-indent-cell"/>').prependTo(i),n&&0<n.length&&x('<th class="sui-indent-cell"/>').prependTo(n),x('<col class="sui-indent-col"/>').prependTo(t)},_getVisibleColumnCount:function(){for(var e=this.columns||[],t=e.length,i=0,n=0;n<t;n++)e[n].visible&&i++;return i},_renderNoRecords:function(){var e=this.options,t=this.contentTable;(N(e.noRecordsTemplate)?x('<tr><td class="sui-grid-norecords-cell" colspan="'+this._getVisibleColumnCount()+'" role="gridcell">'+(e.noRecordsText||"No records to display")+"</td></tr>"):x('<td class="sui-grid-norecords-cell" colspan="'+this._getVisibleColumnCount()+'" role="gridcell"/>').append(e.noRecordsTemplate).wrap("<tr/>").parent()).appendTo(t.tbody)},_initScrolling:function(){this.options.scrolling&&!this._sortingInProgress&&this._scrolling()},_initSelection:function(){this._selection()},_addGroupDataIndentCells:function(){for(var e,t,i,n=this.contentTable.get(0).rows,r=0;r<n.length;r++)if(t=x(n[r]),i=parseInt(t.attr("data-group-level"),10),t.hasClass("sui-group-header")){if(1<i)for(e=0;e<i-1;e++)x('<td class="sui-indent-cell"/>').prependTo(t)}else for(e=0;e<i;e++)x('<td class="sui-indent-cell sui-group-intend-cell"/>').prependTo(t)},_renderGroupedData:function(e,t,i){var n,r,o=this;for(o.options.detailExpandCollapse=!1,n=0;n<e.length;n++)(r=e[n]).hasOwnProperty("field")&&r.hasOwnProperty("items")&&r.hasOwnProperty("value")?(o._renderGroupHeader(r,++i),o._renderGroupedData(r.items,t,i),o._renderGroupAggregates(r),i--):(o._renderDataItem(r,t,i),t++)},_renderGroupAggregates:function(e){if(e.aggregate){var t,i,n,r=this,o=r.columns,l={},a=e.aggregate;for(p=0;p<o.length;p++)if(i=o[p].groupFooterTemplate){t=x("<tr class='sui-group-footer' />").appendTo(r.contentTable.tbody);break}if(t){for(p=0;p<o.length;p++)if(n=x("<td class='sui-group-footer-cell' />").appendTo(t),i=o[p].groupFooterTemplate){for(var s,d=o[p].field,c=0;c<a.length;c++)a[c].field==d&&(k(a[c].aggregate)?l.custom=a[c].value:l[a[c].aggregate]=a[c].value);k(i)?(s=i.call(r,n,l),B(s)&&!R(s)&&""!==s&&n.html(s)):n.html(w.call(r,i,l))}for(var u=r.dataSource.group.length,p=0;p<u;p++)t.prepend(x("<td class='sui-indent-cell' />"))}}},_renderGroupHeader:function(e,t){var i=this,n=i.contentTable,r=i._getVisibleColumnCount()+i.dataSource.group.length-t+1,t=x('<tr class="sui-group-header" data-group-level="'+t+'"/>').appendTo(n),n=x('<td class="sui-group-header-cell" colspan="'+r+'"/>').appendTo(t),r=x('<span class="sui-collapse">&#9662;</span>').appendTo(n),t=i._getColumnByField(e.field),t=t?t.groupHeaderTitle:e.field;x('<span class="sui-group-header-text">'+t+": "+e.value+"</span>").appendTo(n),r.on(ee,W(i._expandCollapseHandler,i))},_expandCollapseHandler:function(e){var t=this,i=x(e.currentTarget),e=i.parent().parent();i.hasClass("sui-collapse")?t.trigger(X,{commandName:pe,cancel:!1,row:e}).cancel||(t.collapseGroup(e),i.html("&#9656;"),i.removeClass("sui-collapse").addClass("sui-expand"),t.trigger(pe,{row:e})):t.trigger(X,{commandName:"expand",cancel:!1,row:e}).cancel||(t.expandGroup(e),i.html("&#9662;"),i.removeClass("sui-expand").addClass("sui-collapse"),t.trigger("expand",{row:e}))},_renderDataItem:function(e,t,i){var n=this.contentTable;this._renderRow(t,n,e).attr("data-group-level",i)},_renderRowsAndDetails:function(e){for(var t=this,i=t.contentTable,n=0,r=e.length;n<r;n++)t._renderRow(n,i.tbody,t.dataSource.view[n]),t._hasDetailTemplate()&&!t._canExpandCollapse()&&t._addDetailTemplate(e[n])},_renderRow:function(e,t,i){var n,r,o=this,l=B(t),a=o.options,s=!!N(a.altRows)||a.altRows,d=s&&e%2&&a.altRowTemplate?a.altRowTemplate:a.rowTemplate,c=o.columns;if(d)I(d)&&(d=d.replace(/^\s+/,"").replace(/\s+$/,"")),p=x(w(d,i)),l&&t.append(p);else{var u,p=x('<tr class="'+(s&&e%2?"sui-alt-row":"sui-row")+'"/>').data(me,e);for(3<arguments.length?(u=arguments[3],s=(d=t.find("tr")).eq(u),d.length==u?t.append(p):p.insertBefore(s)):l&&t.append(p),r=0;r<c.length;r++){var h,f,g=c[r],_=g.columnTemplate,m=g.format,v=g.field,b=g.buttons,C=x("<td "+be(g.attributes)+' role="gridcell" tabindex="-1"/>').addClass("sui-cell").appendTo(p);if(C.attr(V,"gridcell").attr(q,"-1"),g.editable||C.attr(M,O),b)for(f=0;f<b.length;f++)o._buildButton(b[f],C,e);else _?k(_)?(h=_.call(o,C,i,e),B(h)&&!R(h)&&""!==h&&C.html(h)):C.html(w.call(o,_,i)):m?C.html(w.call(o,m,v?S(i,v):i)):C.html(""+S(i,v));g.visible||C.css(he,fe)}}return o._hasDetailTemplate()&&o._canExpandCollapse()&&(o.trigger(X,{commandName:"expandButtonCreate",cancel:!1,item:i}).cancel?n=x('<td class="sui-cell sui-expand-cell-disabled"/>'):(n=x('<td class="sui-cell sui-expand-cell"/>'),o._setExpandCollapseCellText(n,a.detailExpandText,a.detailCollapseText)),n.prependTo(p)),p.attr(V,_e),p},_renderFooter:function(){var e,t,i,n,r,o,l=this,a=l.options,s=l.columns,d={},c=l.dataSource.aggregates;for(l._footer&&(x(l._footer).remove(),l._footer=null),n=0;n<s.length;n++)if(t=s[n].footerTemplate){if(a.scrolling&&a.scrolling.virtual){for(var u=x('<div class="sui-footer" style="padding-right:16px;"/>').appendTo(l.element),p=x('<div class="sui-footer-content"/>').appendTo(u),p=x('<table class="sui-table"/>').appendTo(p),h=l.element.find(".sui-headercontent > table > colgroup > col"),f=x("<colgroup/>").appendTo(p),g=0;g<h.length;g++)x(h[g].outerHTML).appendTo(f);p=x("<tbody/>").appendTo(p),l._footer=u}else p=x("<tfoot/>").appendTo(l.contentTable),l._footer=p;e=x('<tr class="sui-grid-footer"/>').appendTo(p);break}if(e){for(n=0;n<s.length;n++)if(r=x('<td class="sui-footer-cell" role="gridcell" tabindex="-1"/>').appendTo(e),t=s[n].footerTemplate){for(i=s[n].field,g=0;g<c.length;g++)c[g].field==i&&(k(c[g].aggregate)?d.custom=c[g].value:d[c[g].aggregate]=c[g].value);k(t)?(o=t.call(l,r,d),B(o)&&!R(o)&&""!==o&&r.html(o)):r.html(w.call(l,t,d))}var _=e.prev();(0<(_=_.length<=0?l.contentTable.find(">tbody > tr").first():_).find(".sui-expand-cell").length||0<_.find(".sui-expand-cell-disabled").length||0<_.find(".sui-indent-cell").length||0<_.find(".sui-collapse-cell").length)&&e.prepend(x("<td/>"))}},_buildButton:function(e,t,i){var n,r=this,o=e.commandName,l=e.click;_.ui.Button&&(n=x('<button type="button">'+e.caption+"</button>").appendTo(t),t.addClass("sui-button-cell"),"delete"===o?(l=r._deleteButtonClicked,N(e.cls)?e.cls="sui-delete":e.cls+=" sui-delete"):"edit"===o&&(r._editing&&(r._editing.type=_e),r._preventClosingEditors=!0,l=r._editButtonClicked,N(e.cls)?e.cls="sui-edit":e.cls+=" sui-edit"),t=new _.ui.Button(n,{cls:e.cls,events:{click:W(l,r,i,t)}}),"delete"!=o&&"edit"!=o||(r._buttons||(r._buttons=[]),r._buttons.push({index:i,button:t})))},_deleteButtonClicked:function(e,t){var i=this.dataSource,n=this.options.editing,r=n?n.confirmation:null;this.trigger(X,{commandName:"delete",cancel:!1,rowIndex:e}).cancel||r&&r.delete&&r.delete.enabled&&!s.confirm(w(r.delete.template,i.view[e]))||(i.removeAtView(e),n&&!n.batch&&i.save(!1),this.trigger("delete",{rowIndex:e}))},_editButtonClicked:function(e,t){var i=this,n=i._editing,r=i.dataSource,o=x(t).parent();i.trigger(X,{commandName:de,cancel:!1,row:o,cell:t,index:i._getRowIndex(o)}).cancel||(i._editingInProcess=!0,r.tracker&&r.tracker.changes&&r.tracker.changes.added&&0<r.tracker.changes.added.length?r.cancel():"popup"!=i.options.editing.mode?(i._closeAllEditedRows(),n&&n.options.enabled&&n._putRowInEditMode(o,0),i._changeEditColumnButtons(e,t)):_.ui.Window&&i._initializePopupForm(e),i.trigger(de,{row:x(t).parent(),cell:t,index:i._getRowIndex(x(t).parent())}))},_initializePopupForm:function(e,t){for(var i,n=this,r=n._editing,o=n.dataSource,l=x('<div class="sui-modal-popup-edit-window"/>').appendTo(v.body),a=x('<div class="sui-edit-form-container"/>'),s=n.options.columns,d=0;d<s.length;d++)if(!1!==(i=s[d]).editable&&i.field){var c=B(o.schema.options.fields)?o.schema.options.fields[i.field].type:String,u=o.editView(e).data,p=S(u,i.field);n._windowEditingIndex=e,x('<div class="sui-edit-form-label"><label for="'+i.field+'">'+(i.caption||i.field)+"</label></div>").appendTo(a);var h=x('<div class="sui-edit-field"></div>').appendTo(a);if(i.editor)r._instantiateCustomEditor(i,h,u,0,!1,i.field);else switch(c){case Number:r._instantiateNumeric(h,p,!1,i.field);break;case Date:r._instantiateDatePicker(h,p,!1,i.field);break;case String:r._instantiateTextBox(h,p,!1,i.field);break;case Boolean:r._instantiateCheckBox(h,p,!1,i.field)}}var f=x('<div class="sui-update-buttons sui-popup-buttons"></div>').appendTo(a),g=x("<button type='button'>Save</button>").appendTo(f),f=x("<button type='button'>Cancel</button>").appendTo(f);_.ui.Button&&(g=new _.ui.Button(g,{events:{click:W(n._updateButtonClicked,n)}}),f=new _.ui.Button(f,{events:{click:W(n._cancelButtonClicked,n)}}),n._buttons=[],n._buttons.push({index:1e4,button:g}),n._buttons.push({index:1e4,button:f})),a.appendTo(v.body),n.popupWindow=new _.ui.Window(l,{title:t?"Insert":"Edit",draggable:{enabled:!1},events:{close:W(n._cancelButtonClicked,n)},height:x(".sui-edit-form-container").height()+57,modal:!0}),n.popupWindow.content(a),n.popupWindow.resize({width:x(".sui-modal-popup-edit-window").width(),height:x(".sui-edit-form-container").height()+66}),n.trigger(t?"insertWindowOpen":"editWindowOpen")},_changeEditColumnButtons:function(e,t){var i=this;i._removeButtons(t,e),i._buildButton({caption:"Update",click:i._updateButtonClicked,cls:"sui-update"},t,e),i._buildButton({caption:"Cancel",click:i._cancelButtonClicked,cls:"sui-cancel"},t,e),t.addClass("sui-update-buttons")},_removeButtons:function(e,t){for(var i=this._buttons.length;i--;)this._buttons[i].index==t&&(this._buttons[i].button.destroy(),this._buttons.splice(i,1));e.removeClass("sui-update-buttons").empty()},_updateButtonClicked:function(e,t){var i=this;N(i._windowEditingIndex)||(e=i._windowEditingIndex),i._updateItem(e,t),i._editing._errorDuringEdit?i._editing._errorDuringEdit=!1:(i._putRowInViewMode(e,t),"popup"===i.options.editing.mode&&i._removePopupWindow())},_updateItem:function(e,t){var i,n,r,o,l,a,s=this,d=s.dataSource,c=(s.pager,[]),u=!0;if(d.group&&0<d.group.length&&"popup"!=s.options.editing.mode)for(o=s.contentTable.find(".sui-row, .sui-alt-row"),l=s.contentTable.find("tr").get(e),a=0;a<o.length;a++)if(o[a]==l){e=a;break}for(r in(i=d.editView(e)).data)i.data.hasOwnProperty(r)&&(null!=i.data[r]&&(u=!1),s._editing._editors[r]&&("custom"==s._editing._editors[r]?(n=s.trigger("getCustomEditorValue",{field:r,value:null}).value,s._editing._editors[r]=null):n=s._editing._editors[r].value?s._editing._editors[r].value():s._editing._editors[r].checked?s._editing._editors[r].checked():C,i.data[r]!=n&&c.push(r),!N(n)&&null!=n||(n=s._getDefaultValue(r)),i.set(r,n)));if(!s._editing._errorDuringEdit)return s._editing.options.batch||s.trigger(X,{commandName:ce,cancel:!1}).cancel||(d.save(!1),s.trigger(ce)),s._populateInsertedItem=u,c;c.length=0},_getDefaultValue:function(e){var t=this.dataSource.schema;return t&&t.options.fields?(t=t.options.fields,_.Model.def(S(t,e+".type"),S(t,e+".def"),S(t,e+".nullable"))):""},_closeAllEditedRows:function(){var e,t=this.contentTable.find(".sui-editable-cell");0<t.length&&(e=t.get(0).parentNode.rowIndex,t=this.contentTable.find(".sui-update-buttons").get(0),this._cancelButtonClicked(e,x(t)))},_cancelButtonClicked:function(e,t){var i,n,r,o=this,l=o.dataSource;if(!o.trigger(X,{commandName:se,cancel:!1,rowIndex:e,cell:t}).cancel){if(l.tracker&&l.tracker.changes&&l.tracker.changes.added&&0<l.tracker.changes.added.length)l.cancel(),"popup"===o.options.editing.mode&&o._removePopupWindow();else if("popup"!=o.options.editing.mode)o._putRowInViewMode(e,t);else{for(i=o.options.columns,n=0;n<i.length;n++)(r=o._editing._editors[i[n].field])&&(k(r.destroy)&&o._editing._editors[i[n].field].destroy(),delete o._editing._editors[i[n].field]);o._removePopupWindow()}o.trigger(se)}},_removePopupWindow:function(){this._removeButtons(x(".sui-window .sui-update-buttons"),1e4),this.popupWindow.destroy(),x(".sui-modal-popup-edit-window").remove()},_getRowIndex:function(e){e=x(e).data(me);return B(e)?e:-1},_putRowInViewMode:function(e,t){var i,n=this,r=n.options,o=r.navigation,l=n.dataSource,a=n.contentTable,s=e,d=-1;if(l.group&&0<l.group.length&&"popup"!=r.editing.mode)for(i=a.find(">tbody > tr.sui-row, >tbody > tr.sui-alt-row"),c=a.find(">tbody > tr").get(e),_=0;_<i.length;_++)if(i[_]==c){s=_;break}l=l.view[s],t&&"popup"!=r.editing.mode&&n._removeButtons(t,e);var c=a.find(">tbody > tr").get(e),u=parseInt(x(c).attr("data-group-level"),10);for(o&&(d=x(c).children("td").index(n._activeCell)),n._editing._destroyRow(e),c=n._renderRow(s,n.contentTable.tbody,l,e),o&&-1<d&&(n._activeCell=x(c).children("td").eq(d),x(n._activeCell).focus()),_=0;_<u;_++)x('<td class="sui-indent-cell sui-group-intend-cell"/>').prependTo(c);if(u&&c.attr("data-group-level",u),n._editing.options.batch){var p=c.children(".sui-cell");if(n._markedCells&&n._markedCells[e])for(var h,f,g=n._markedCells[e],_=0;_<g.length;_++)h=g[_],f=x(p[h]).html(),x(p[h]).html('<span class="sui-updated-marker"/>'+f)}},_renderUpdateMarkers:function(e,t){for(var i,n,r=this,o=r.columns,l=r.contentTable.find(">tbody > tr").eq(t).children(".sui-cell"),a=0;a<e.length;a++)for(i=0;i<o.length;i++)o[i].field===e[a]&&(n=x(l[i]).html(),x(l[i]).html('<span class="sui-updated-marker"/>'+n),r._markedCells?r._markedCells[t]||(r._markedCells[t]=[]):(r._markedCells={},r._markedCells[t]=[]),r._markedCells[t].push(i))},_selection:function(){var e=this,t=e.options;t.selection&&(e._selectable&&e._selectable.destroy(),e._selectable=new Ee(t.selection,e))},_filtering:function(){var e=this,t=e.options;t.filtering&&t.filtering.enabled&&(e._filter&&e._filter.destroy(),e._filter=new Ne(e))},_paging:function(e){var t=this,i=t.element;_.ui.Pager&&e&&(o(e)&&e instanceof _.ui.Pager?(t.pager=e,t.pager.dataSource=t.dataSource,t.pager.element.appendTo(i)):((i=x("<div/>").appendTo(i)).addClass("sui-pager"),t.pagerWrapper=i,t.pager=new _.ui.Pager(i.get(0),P({},e,{dataSource:t.dataSource}))))},_reorder:function(){this.options.columnReorder&&(this._columnReorder=new ze(this))},_expandCollapseDetailTemplate:function(e){var t=x(e.target).closest(".sui-row",this.contentTable);t.length||(t=x(e.target).closest(".sui-alt-row",this.contentTable)),this._toggleDetailTemplate(t)},_toggleDetailTemplate:function(e){var t=this,i=t.contentTable.find("tr:first").parent().children().not(".sui-detail-row"),n=p(e[0],i),r=t.dataSource.view,o=e.next(),i=t.options;o&&o.hasClass("sui-detail-row")?(o.toggle(),o=x(e.get(0).cells[0]),t._toggleClasses(o,"sui-expand-cell","sui-collapse-cell"),t._setExpandCollapseCellText(o,i.detailExpandText,i.detailCollapseText)):t._addDetailTemplate(r[n],e)},_setExpandCollapseCellText:function(e,t,i){N(i)&&(i="-"),N(t)&&(t="+");var n=this.options.detailCollapseCssClass,r=this.options.detailExpandCssClass,n=N(n)?"":" class = '"+n+"'",r=N(r)?"":" class = '"+r+"'";e.hasClass("sui-collapse-cell")?e.html("<span"+n+">"+i+"</span>"):e.hasClass("sui-expand-cell")&&e.html("<span"+r+">"+t+"</span>")},_addDetailTemplate:function(e,t){var i=this,n=i.options,r=x("<tr class='sui-detail-row'/>");i._canExpandCollapse()&&(o=x("<td class='sui-cell sui-indent-cell'/>"),H&&o.html("&nbsp;"),o.appendTo(r));var o=x('<td class="sui-detail-cell" colspan="'+i._getVisibleColumnCount()+'"></td>');i.trigger(X,{commandName:te,cancel:!1,detailCell:o,item:e}).cancel||(o.appendTo(r),n.detailTemplate&&o.html(w(n.detailTemplate,e)),t?r.insertAfter(t):r.appendTo(i.contentTable.tbody),i.trigger(te,{detailCell:o,item:e}),t&&(t=x(t.get(0).cells[0]),i._toggleClasses(t,"sui-expand-cell","sui-collapse-cell"),i._setExpandCollapseCellText(t,n.detailExpandText,n.detailCollapseText)))},_toggleClasses:function(e,t,i){e.hasClass(t)?(e.removeClass(t),e.addClass(i)):(e.removeClass(i),e.addClass(t))},_resizing:function(){this.options.resizing&&this.options.scrolling&&(this._columnResizing=new Be(this))},_initToolbar:function(){var e=this.options;e.toolbar&&(this._toolbar=new Se(e.toolbar,this))},_initEditing:function(){var e=this.options;e.editing&&(this._buttons=[],this._editing=new ke(e.editing,this))},_refreshOnSort:function(){this._sortingInProgress=!0,this.dataSource.read()},_dsStartHandler:function(){this.loading(!0)},_initNavigation:function(){var t=this,e=t.element,i=t._eventNS+"nav";t.options.navigation&&(e.addClass("sui-grid-nav").off(i).on("focus"+i,".sui-headercell[tabindex], .sui-filter-cell[tabindex], .sui-cell[tabindex], .sui-footer-cell[tabindex]",function(e){x(t._activeCell).attr(q,"-1"),t._activeCell=x(this),x(t._activeCell).attr(q,"0")}),t._initActiveCell(),x(t._activeCell).attr(q,"0"))},_initActiveCell:function(){var e=this;(x(e._activeCell).length<=0||!x(e._activeCell).is(":visible"))&&(e._activeCell=x(e.element).find(".sui-cell[tabindex]").first(),x(e._activeCell).length<=0&&(e._activeCell=x(e.element).find(".sui-headercell[tabindex]").first()))},_cellEditable:function(e){return x(e).attr(M)!=O&&!!x(e).hasClass("sui-editable-cell")},_keydown:function(e){var t,i=this,n=i.element,r=e.keyCode,o=i.options,l=o.navigation,a=o.editing,s=o.selection,d=e.ctrlKey,c=(e.shiftKey,i.pager),u=!1,p=i._cellEditable(i._activeCell);if("button"!==x(e.target).prop("tagName").toLowerCase()||r!=h.ENTER&&r!=h.SPACE){switch(r){case h.UP:l&&(p||(t=i._getNextNavCell("up"))&&(x(t).focus(),u=!0));break;case h.DOWN:l&&(p||(t=i._getNextNavCell("down"))&&(x(t).focus(),u=!0));break;case h.LEFT:l&&(p||(t=i._getNextNavCell("left"))&&(x(t).focus(),u=!0));break;case h.RIGHT:l&&(p||(t=i._getNextNavCell("right"))&&(x(t).focus(),u=!0));break;case h.HOME:l&&(p||(t=d?x(n).find(".sui-cell[tabindex], .sui-headercell[tabindex], .sui-footer-cell[tabindex]").first():i._getNextNavCell("first"))&&(x(t).focus(),u=!0));break;case h.END:l&&(p||(t=d?x(n).find(".sui-cell[tabindex], .sui-headercell[tabindex], .sui-footer-cell[tabindex]").last():i._getNextNavCell("last"))&&(x(t).focus(),u=!0));break;case h.ENTER:l&&(x(i._activeCell).hasClass("sui-cell")?a&&(p?i._updateButtonClicked(x(i._activeCell).parent().get(0).rowIndex,x(i._activeCell)):i._editing._editingTriggered(e),u=!0):x(i._activeCell).hasClass("sui-headercell")&&(0<x(i._activeCell).children(".sui-link").length&&(i.one(Y,W(i.focus,i)),x(i._activeCell).children(".sui-link").first().click()),u=!0));break;case h.PAGEUP:l&&(c&&c.hasPrev()&&(i.one(Y,W(i.focus,i)),i.pager.prev()),u=!0);break;case h.PAGEDOWN:l&&(c&&c.hasNext()&&(i.one(Y,W(i.focus,i)),i.pager.next()),u=!0);break;case h.ESC:p&&(i.cancelEditing(),l&&x(i._activeCell).focus(),u=!0);break;case h.SPACE:l&&s&&i._selectable&&!p&&(i._selectable.elements=xe(e,i.contentTable,i.frozenContentTable),i._selectable.elements&&i._selectable._performAndProcessSelection(e),u=!0)}u&&e.preventDefault()}},_getNextNavCell:function(e){var t,i=this,n=(i.element,i._activeCell);return(!n||x(n).length<=0)&&(n=x(i.element).find('.sui-cell[tabindex="0"], .sui-headercell[tabindex="0"]').first()),"left"==e?t=i.__findPrevFocusCell(n):"right"==e?t=i.__findNextFocusCell(n):"up"==e?t=i.__findAboveFocusCell(n):"down"==e?t=i.__findBelowFocusCell(n):"first"==e?t=i.__findFirstFocusCell(n):"last"==e&&(t=i.__findLastFocusCell(n)),t&&0<x(t).length?x(t).get(0):null},__findFirstFocusCell:function(e){for(var t,i=this.__findPrevFocusCell(e);i&&0<i.length;)t=i,i=this.__findPrevFocusCell(i);return t},__findLastFocusCell:function(e){for(var t,i=this.__findNextFocusCell(e);i&&0<i.length;)t=i,i=this.__findNextFocusCell(i);return t},__findPrevFocusCell:function(e){for(var t=x(e).prev();t&&0<t.length;){if(Ce(t,q))return t;t=x(e).prev()}return C},__findNextFocusCell:function(e){for(var t=x(e).next();t&&0<t.length;){if(Ce(t,q))return t;t=x(e).next()}return C},__findAboveFocusCell:function(e){for(var t,i=x(e).closest("tr"),n=x(e).index(),r=this.headerTable.find(">thead > tr").add(this.contentTable.find(">tbody > tr")).add(this.contentTable.find(">tfoot > tr")),o=x(r).index(i);0<o;){if(Ce(t=x(x(r)[o-1]).children().eq(n),q))return t;o--}return C},__findBelowFocusCell:function(e){for(var t,i=x(e).closest("tr"),n=x(e).index(),r=this.headerTable.find(">thead > tr").add(this.contentTable.find(">tbody > tr")).add(this.contentTable.find(">tfoot > tr")),o=x(r).index(i);o<r.length-1;){if(Ce(t=x(x(r)[o+1]).children().eq(n),q))return t;o++}return C},focus:function(){var e=this;e.options.navigation?(e._initActiveCell(),0<x(e._activeCell).length?x(e._activeCell).focus():ye(e.element)):ye(e.element)},refresh:function(e){var t=this,i=e?e.dataSource:null,n=t._eventNS;e=_.extend([a],t.options,e),i&&(e.dataSource=i);var r=t.element,o=e.scrolling,l=t.pager?t.pager.options:e.paging,i=0;o&&t.contentWrapper&&(i=t.contentWrapper.get(0).scrollLeft),t._destroyInternal(),o=t.dataSource=T.create(e.dataSource),r.attr(V,"grid").on(Q+n,W(t._keydown,t)),e.editing||r.attr(M,O),o.on("change"+n,W(t._renderData,t)).on("start"+n,W(t._dsStartHandler,t)),x(s).on("resize"+n,W(t._resizeHandler,t)),t._resolveColumns(e.columns),t._createWrappers(),t._createHeaderTable(),t._createContentTable(),t._initToolbar(),t._initEditing(),t._filtering(),t._paging(l),t._resizing(),t._reorder(),t._initNavigation(),t.pager||t.dataSource.read(),t._sorting(),i&&(t.contentWrapper.get(0).scrollLeft=i)},loading:function(e,t){function i(){n.loadingPanel&&n.loadingPanel.show()}var n=this;_.ui.LoadingPanel&&(e?(n.loadingPanel||(n.loadingPanel=new _.ui.LoadingPanel(n.element.get(0))),t?i():n.loadingPanelTimeout=setTimeout(i,50)):n.loadingPanel&&(clearTimeout(n.loadingPanelTimeout),n.loadingPanelTimeout=null,n.loadingPanel.hide()))},select:function(e){var t=this._selectable;return(e=I(e)?this.contentTable.find(e):x(e)).length?(t.multiple||(t.clear(),e=e.first()),void t.select(e)):t.select()},selectedRowIndices:function(){var t=this,i=[],n=[];return t.contentTable.children("tbody").children(".sui-row, .sui-alt-row").each(function(){var e;x(this).hasClass(U)&&(e=t._getRowIndex(x(this)),i.push(e),n.push(0<=e?t.dataSource.getDataIndex(e):e))}),{view:i,data:n}},clearSelection:function(){this._selectable.clear()},sort:function(e,t,i){this.sorting&&this.sorting._sort(e,t,i)},_getItemRow:function(e){return t(e)?x(this.contentTable.children("tbody").children(".sui-row, .sui-alt-row").get(e)):x(e)},expandRow:function(e){var t=this._getItemRow(e),e=t.next();e.hasClass("sui-detail-row")&&e.css(he)!=fe||this._toggleDetailTemplate(t)},collapseRow:function(e){var t=this._getItemRow(e),e=t.next();e.hasClass("sui-detail-row")?e.css(he)!=fe&&this._toggleDetailTemplate(t):(this._toggleDetailTemplate(t),t.next().toggle())},reorderColumn:function(e,t,i){var n=this.element,r=this.columns,o=this.options.columns||[],l=this.headerWrapper,a="before",s=l.find(".sui-columnheader").first().find(".sui-indent-cell").length;if(e=+e,t=+t,isNaN(e)||isNaN(t)||e<0||t<0||e>r.length-1||t>r.length-1)throw new Error("Invalid index in column reorder.");e!==t&&(e<t&&(a="after"),!(l=r[e]).visible||!i&&l.locked||(l=r.splice(e,1)[0],r.splice(t,0,l),l=o.splice(e,1)[0],o.splice(t,0,l),t+=s,n.find(".sui-gridheader col:nth-child("+((e+=s)+1)+")").add(n.find(".sui-gridheader .sui-columnheader th:nth-child("+(e+1)+")")).add(n.find(".sui-gridheader .sui-filter-row th:nth-child("+(e+1)+")")).add(n.find(".sui-gridcontent col:nth-child("+(e+1)+")")).add(n.find(".sui-gridcontent tr:not(.sui-detail-row) td:nth-child("+(e+1)+")")).each(function(){x(this).parent().children().eq(t)[a](this)})))},addRow:function(e){return this.dataSource.add(B(e)?e:{})},insertRow:function(e,t){return this.dataSource.insertView(e,B(t)?t:{})},saveChanges:function(){this.dataSource.save()},revertChanges:function(){this.dataSource.cancel()},dataItem:function(e){return this.dataSource.view[e]},editCell:function(e,t){t=this.contentTable.find(">tbody > tr").eq(e).children("td").eq(t).get(0);this._editingInProcess=!0,this._editing._putCellInEditMode(t)},editRow:function(e){e=this.contentTable.find(">tbody > tr").eq(e).get(0);this._editingInProcess=!0,this._editing._putRowInEditMode(x(e),0)},editRowPopup:function(e){this._editingInProcess=!0,_.ui.Window&&this._initializePopupForm(e)},cancelEditing:function(){var e,t=this.contentTable.find(".sui-editable-cell");0<t.length&&(e=t.get(0).parentNode.rowIndex,t=this.contentTable.find(".sui-update-buttons").get(0),this._putRowInViewMode(e,x(t))),this._editingInProcess=!1},deleteRow:function(e){this.dataSource.removeAtView(e)},filter:function(){var e=this.dataSource,t=[].slice.call(arguments);if(!(0<t.length))return e.filter;e.filter=t[0],e.read()},group:function(e,t,i,n){var r=this.dataSource.group;r?r.splice(t,0,{field:e,order:i,aggregates:n}):(this.dataSource.group=[],this.dataSource.group.push({field:e,order:i,aggregates:n}))},ungroup:function(e){var t,i=this.dataSource.group,n=!1;for(this.headerTable.thead.find(".sui-columnheader > .sui-indent-cell").remove(),t=0;t<i.length;t++)if(i[t].field==e){i.splice(t,1),0===i.length&&(this.dataSource.group=null),n=!0;break}n&&this.dataSource.read()},collapseGroup:function(e){for(var t=!0,i=parseInt(e.attr("data-group-level"),10);t;)0<(e=e.next().css(he,fe)).next().length&&!(parseInt(e.next().attr("data-group-level"),10)<=i&&e.next().hasClass("sui-group-header"))||(t=!1)},expandGroup:function(e){for(var t=!0,i=parseInt(e.attr("data-group-level"),10);t;){if((e=e.next().css(he,"")).hasClass("sui-group-header")&&0<e.find(".sui-expand").length)return;0<e.next().length&&!(parseInt(e.next().attr("data-group-level"),10)<=i&&e.next().hasClass("sui-group-header"))||(t=!1)}},_getColumnByField:function(e){for(var t=this.columns||[],i=0;i<t.length;i++)if(t[i].field===e)return t[i];return C},_refreshColVisibility:function(){for(var e=this.columns,t=e.length,i=!1,n=0;n<t;n++)if(!e[n].visible){i=!0;break}if(i)for(n=0;n<t;n++)e[n].visible?this.showColumn(e[n].field):this.hideColumn(e[n].field)},_getNextVisibleColumnRealIndex:function(e){for(var t=this.columns,i=e.index+1;i<t.length;i++)if(t[i].visible)return i;return-1},isHidden:function(e){e=this._getColumnByField(e);return e?!e.visible:C},hideColumn:function(e){var t=this,i=(x(t.element),t._getColumnByField(e));i&&!i.locked&&(x(t.headerTable).find("colgroup").first().find("col").each(function(){if(x(this).data(ve)==e)return t._gridColumns[e].headerCol=x(this),x(this).detach(),!1}),x(t.contentTable).find("colgroup").first().find("col").each(function(){if(x(this).data(ve)==e)return t._gridColumns[e].contentCol=x(this),x(this).detach(),!1}),t._changeColumnVisibility(e,"hide"),i.visible=!1,t._afterColumnVisibilityChange())},showColumn:function(e){var t,i,n,r,o,l=this,a=(x(l.element),l._getColumnByField(e)),s=x(l.headerTable).find("colgroup"),d=x(l.contentTable).find("colgroup");a&&!a.locked&&(t=l._gridColumns[e],i=t.headerCol,n=t.contentCol,-1===(r=l._getNextVisibleColumnRealIndex(t))?(s.append(i),d.append(n)):(o=l.columns[r].field,s.find("col").each(function(){if(x(this).data(ve)==o)return x(i).insertBefore(x(this)),!1}),d.find("col").each(function(){if(x(this).data(ve)==o)return x(n).insertBefore(x(this)),!1})),l._changeColumnVisibility(e,"show"),t.headerCol=t.contentCol=C,a.visible=!0,l._afterColumnVisibilityChange())},_changeColumnVisibility:function(t,e){var i,n,r=x(this.element),o=x(this.headerTable).find(".sui-columnheader").first(),l=x(this.headerTable).find(".sui-filter-row").first(),a=this._footer,s=-1;if(o.length&&x(o).children().each(function(e){if(x(this).attr("data-field")==t)return s=e,!1}),!(s<0))for(x(o.find("th")[s])[e](),x(l.find("th")[s])[e](),a&&x(a.find("td")[s])[e](),0===(i=0===(i=r.find("> .sui-gridcontent > table > tbody > tr")).length?r.find("> .sui-gridcontent > .sui-virtualized > table > tbody > tr"):i).length&&(i=r.find("> .sui-gridcontent > .sui-content > table > tbody > tr")),n=0;n<i.length;n++)x(i[n].cells[s])[e]()},_afterColumnVisibilityChange:function(){var e=this._getVisibleColumnCount(),t=this.dataSource,i=t.group?t.group.length:0;x(this.contentTable).find(".sui-grid-norecords-cell, .sui-detail-cell, .sui-group-header-cell").each(function(){x(this).hasClass("sui-group-header-cell")?x(this).attr("colspan",e+i-m(x(this).parent().attr("data-group-level"))+1):x(this).attr("colspan",e)})},_getVisibleColumnFields:function(){for(var e=this.columns||[],t=e.length,i=[],n=0;n<t;n++)e[n].visible&&i.push(e[n].field);return i},_initFrozenCols:function(){for(var e=this.columns,t=e.length,i=!1,n=0;n<t;n++)if(e[n].locked){i=!0;break}if(i)for(this._initFrozenContainers(),n=0;n<t;n++)e[n].locked&&this.lockColumn(e[n].field)},_initFrozenContainers:function(){var e=this,t=e.options,i=t.scrolling;e.frozenHeaderWrapper||(e.frozenHeaderWrapper=x('<div class="sui-header-locked"/>').prependTo(i?e.headerWrapper.parent():e.headerWrapper),e.frozenHeaderTable=x('<table class="sui-table sui-non-selectable"'+(H?' cellspacing="0"':"")+'><colgroup/><thead><tr class="sui-columnheader"/>'+(t.filtering&&t.filtering.enabled?'<tr class="sui-filter-row"/>':"")+'</thead><tbody class="sui-hide"/></table>').appendTo(e.frozenHeaderWrapper)),e.frozenContentWrapper||(e.frozenContentWrapper=x('<div class="sui-content-locked"/>').prependTo(i?e.contentWrapper.parent():e.contentWrapper),e.frozenContentWrapper.height(e.frozenContentWrapper.parent().find(".sui-content").first().height()),e.frozenContentTable=x('<table class="sui-table'+(t.rowHover?" sui-hover":"")+'"'+(H?' cellspacing="0"':"")+'><colgroup/><tbody/><tfoot><tr class="sui-grid-footer"/></tfoot></table>').appendTo(e.frozenContentWrapper),e._hasDetailTemplate()&&(e._canExpandCollapse()&&e.frozenContentTable.addClass("sui-expandable"),e.frozenContentTable.on(ee+e._eventNS,"> tbody > tr > .sui-expand-cell, > tbody > tr > .sui-collapse-cell",W(e._expandCollapseDetailTemplate,e))))},_destroyFrozenContainers:function(){var e=this;e.frozenHeaderWrapper&&(x(e.frozenHeaderWrapper).remove(),e.frozenHeaderWrapper=null),e.frozenContentWrapper&&(x(e.frozenContentWrapper).find(".sui-table").off(e._eventNS),x(e.frozenContentWrapper).remove(),e.frozenContentWrapper=null)},isLocked:function(e){e=this._getColumnByField(e);return e?e.locked:C},lockColumn:function(t){var e,i=this,n=x(i.element),r=i.options.filtering,o=i._getColumnByField(t),l=-1,a=i._footer;if(o&&o.visible){if(x(i.headerTable).find("colgroup").first().find("col").each(function(){if(x(this).data(ve)==t)return x(this).appendTo(x(i.frozenHeaderTable).find("colgroup")),!1}),x(i.contentTable).find("colgroup").first().find("col").each(function(){if(x(this).data(ve)==t)return x(this).appendTo(x(i.frozenContentTable).find("colgroup")),!1}),x(i.headerTable).find(".sui-columnheader").children().each(function(e){if(x(this).attr("data-field")==t)return l=e,x(this).appendTo(x(i.frozenHeaderTable).find(".sui-columnheader")),!1}),r&&r.enabled&&0<=l&&x(i.headerTable).find(".sui-filter-row").children().each(function(e){if(x(this).attr("data-field")==t)return x(this).appendTo(x(i.frozenHeaderTable).find(".sui-filter-row")),!1}),a&&0<=l&&(r=x(i.frozenContentTable).find("> tfoot > .sui-grid-footer"),x(a).find(".sui-grid-footer td:eq("+l+")").appendTo(r)),0<=l){0===(e=0===(e=n.find("> .sui-gridcontent > table > tbody > tr")).length?n.find("> .sui-gridcontent > .sui-virtualized > table > tbody > tr"):e).length&&(e=n.find("> .sui-gridcontent > .sui-content > table > tbody > tr"));for(var s=x(i.frozenContentTable).find("tbody"),d=0<s.children().length,c=0;c<e.length;c++){var u=null,u=d?x(s).children()[c]:x(e[c]).clone(!0,!1).empty().appendTo(s);x(e[c].cells[l]).appendTo(u)}}o.locked=!0,i._adjustWidthsLocked(),i._adjustHeightsLocked()}},unlockColumn:function(e){var i,n,r,t,o,l,a=this,s=(x(a.element),a.options.filtering),d=a.columns,c=a._footer,u=a._getColumnByField(e),p=-1,h=-1;if(u&&u.visible){for(x(a.frozenHeaderTable).find("colgroup").first().children().each(function(){if(x(this).data(ve)==e)return i=x(this),p=x(this).index(),!1}),x(a.frozenContentTable).find("colgroup").first().children().each(function(){if(x(this).data(ve)==e)return n=x(this),h=x(this).index(),!1}),t=0;t<d.length;t++)if(d[t].field===e){t<=d.length-2&&(r=d[t+1].field);break}r?(x(a.headerTable).find("> colgroup col").each(function(e){var t;if(x(this).data(ve)===r)return x(i).insertBefore(x(this)),x(a.frozenHeaderTable).find(".sui-columnheader th:eq("+p+")").insertBefore(x(a.headerTable).find(".sui-columnheader th:eq("+e+")")),s&&s.enabled&&x(a.frozenHeaderTable).find(".sui-filter-row th:eq("+p+")").insertBefore(x(a.headerTable).find(".sui-filter-row th:eq("+e+")")),c&&(t=x(a.frozenContentTable).find("> tfoot > .sui-grid-footer"),x(t).find("td:eq("+p+")").insertBefore(x(c).find(".sui-grid-footer td:eq("+e+")"))),!1}),x(a.contentTable).find("> colgroup col").each(function(t){if(x(this).data(ve)===r){x(n).insertBefore(x(this));var i=x(a.contentTable).find(">tbody").first().children();return x(a.frozenContentTable).find(">tbody > tr").each(function(e){x(this).find("td:eq("+h+")").insertBefore(x(i[e]).find("td:eq("+t+")"))}),!1}})):(x(a.headerTable).find("colgroup").append(i),x(a.contentTable).find("colgroup").append(n),x(a.frozenHeaderTable).find(".sui-columnheader th:eq("+p+")").appendTo(x(a.headerTable).find(".sui-columnheader")),s&&s.enabled&&x(a.frozenHeaderTable).find(".sui-filter-row th:eq("+p+")").appendTo(x(a.headerTable).find(".sui-filter-row")),c&&(o=x(a.frozenContentTable).find("> tfoot > .sui-grid-footer"),x(o).find("td:eq("+p+")").appendTo(x(c).find(".sui-grid-footer"))),l=x(a.contentTable).find(">tbody").first().children(),x(a.frozenContentTable).find(">tbody > tr").each(function(e){x(this).find("td:eq("+h+")").appendTo(x(l[e]))})),u.locked=!1,a._adjustWidthsLocked(),a._adjustHeightsLocked()}},_adjustWidthsLocked:function(){var e=this;e.frozenHeaderWrapper&&(x(e.headerWrapper).parent().css(g.isRtl(e.element)?"padding-left":"padding-right",0),x(e.headerWrapper).outerWidth(x(e.headerWrapper).parent().innerWidth()-x(e.frozenHeaderWrapper).outerWidth()-g.scrollbar()),x(e.contentWrapper).outerWidth(x(e.contentWrapper).parent().innerWidth()-x(e.frozenContentWrapper).outerWidth()-1))},_adjustHeightsLocked:function(e){var t,i,n,r,o,l,a,s,d,c,u,p,h=this,f=h.options.filtering,g=h._footer;if(h.frozenHeaderWrapper){for((o=x(h.frozenHeaderTable).find("tr").first()).height("auto"),l=m(o.height()),(a=x(h.headerTable).find("tr").first()).height("auto"),(s=m(a.height()))<l?(o.height(l),a.height(l)):l<s&&(o.height(s),a.height(s)),f&&f.enabled&&((c=x(h.frozenHeaderTable).find("tr.sui-filter-row").first()).height("auto"),f=m(c.height()),(u=x(h.headerTable).find("tr.sui-filter-row").first()).height("auto"),(p=m(u.height()))<f?(c.height(f),u.height(f)):f<p&&(c.height(p),u.height(p))),t=x(h.frozenContentTable).find("tbody").first().children(),n=x(h.contentTable).find("> tbody").children(),d=0;d<n.length;d++)x(t[d]).height("auto"),i=m(x(t[d]).height()),x(n[d]).height("auto"),(r=m(x(n[d]).height()))<i?(x(t[d]).height(i),x(n[d]).height(i)):i<r&&(x(t[d]).height(r),x(n[d]).height(r));g&&(c=x(h.frozenContentTable).find("> tfoot > .sui-grid-footer"),u=x(g).find(".sui-grid-footer").first(),c.height("auto"),p=m(c.height()),u.height("auto"),(g=m(u.height()))<p?(c.height(p),u.height(p)):p<g&&(c.height(g),u.height(g))),e&&h._initScrolling()}},_getOtherRow:function(e){var t,i,n;if(this.frozenHeaderWrapper){if(t=x(e).index(),i=x(this.frozenContentTable).find("tbody").first().children(),n=x(this.contentTable).find("> tbody").children(),x(e)[0]===x(i)[t])return x(n)[t];if(x(e)[0]===x(n)[t])return x(i)[t]}return null},exportExcel:function(){this._doExcelExport()},exportPdf:function(){this._doPdfExport()},exportCsv:function(){this._doCsvExport()},_doExcelExport:function(){var u,p,h,f,g,_,e,t,m=this,i=m.options,v=[],b=[];y&&((e=m.trigger(X,{commandName:"exportExcel",cancel:!1,exportOptions:P(!0,{},i.exportOptions)})).cancel||(m.loading(!0,!0),setTimeout(function(){u=P(!0,{proxy:C,excel:{fileName:"Untitled",fileFormat:"xlsx",noLegacyFallback:!1,author:C,created:new Date,producer:C,dataSource:C,readDataSource:!1,columnFields:C,header:{enabled:!0,style:{bold:!0},cells:C},worksheet:{name:"Sheet1",columns:C},worksheets:[],worksheetIndex:0}},e.exportOptions),p=u.excel,g=(g=p.columnFields)||m._getVisibleColumnFields(),_=g.length,p.worksheet.columns||(p.worksheet.columns=z(g,function(e){return{autoWidth:!0}})),f=P(!0,{},p.worksheet),p.header&&p.header.enabled&&(p.header.cells?b.push({cells:p.header.cells}):b.push({cells:z(g,function(e){var t=m._getColumnByField(e);return{type:String,value:B(t)&&t.title?t.title:e,style:p.header.style}})})),h=T.create(p.dataSource||m.dataSource),t=function(){for(var e,t,i=h.view||[],n=i.length,r=[],o=0;o<_;o++)r[o]=S(h,"schema.options.fields."+g[o]+".type");for(o=0;o<n;o++){var l,a,s=i[o],d=m.trigger(X,{commandName:"exportExcelRow",cancel:!1,item:s,index:o,row:{}}),c=[];if(!d.cancel){for(l=P(!0,{},d.row),t=0;t<_;t++)a={type:B(l.type)?l.type:r[t],value:B(l.value)?l.value:S(s,g[t])},l.cells&&l.cells[t]&&P(!0,a,l.cells[t]),c.push(a);b.push({index:l.index,height:l.height,cells:c})}}f.rows=b,(v=[].slice.call(p.worksheets)).splice(p.worksheetIndex,0,f),e={created:p.created,author:p.author,worksheets:v},new("xml"==p.fileFormat?y.ExcelXMLSpreadsheet:y.OOXMLWorkbook)(e).saveAs({fileName:p.fileName,forceExt:u.forceExt,proxy:u.proxy}),m.loading(!1)},p.readDataSource?h.read().always(t):t()},100)))},_doPdfExport:function(){var s,d,c,e,t,u,p,h=this,i=h.options;y&&((e=h.trigger(X,{commandName:"exportPdf",cancel:!1,exportOptions:P(!0,{},i.exportOptions)})).cancel||(h.loading(!0,!0),setTimeout(function(){s=P(!0,{proxy:C,pdf:{fileName:"Untitled",author:C,created:new Date,size:"a4",orientation:"portrait",fontSize:10,dataSource:C,readDataSource:!1,columnFields:C,header:{enabled:!0,cells:C},margins:{left:72,top:72,bottom:72,right:72}}},e.exportOptions),d=s.pdf,t=(t=d.columnFields)||h._getVisibleColumnFields(),t.length,d.header&&(p=!!d.header.enabled,d.header.cells&&(u=[].concat(d.header.cells))),B(p)||(p=!0),B(u)||(u=z(t,function(e){var t=h._getColumnByField(e);return{field:e,title:t.title||e,width:t.width||C}})),c=T.create(d.dataSource||h.dataSource),t=function(){for(var e,t,i,n=c.view||[],r=n.length,o=[],l=d.margins,a=0;a<r;a++)e=n[a],(t=h.trigger(X,{commandName:"exportPdfRow",cancel:!1,item:e,index:a,row:{}})).cancel||o.push(P(!0,e,t.row));(i=new y.PDFDocument({author:d.author,created:d.created})).addPage(d.size,d.orientation),i.table(l.left,l.top,o,u,{margins:l,printHeader:p,fontSize:d.fontSize}),i.saveAs({fileName:d.fileName,forceExt:s.forceExt,proxy:s.proxy}),h.loading(!1)},d.readDataSource?c.read().always(t):t()},100)))},_doCsvExport:function(){var c,u,p,e,t,h,f,g=this,i=g.options;y&&((e=g.trigger(X,{commandName:"exportCsv",cancel:!1,exportOptions:P(!0,{},i.exportOptions)})).cancel||(g.loading(!0,!0),setTimeout(function(){c=P(!0,{proxy:C,csv:{fileName:"Untitled",delimiter:",",dataSource:C,readDataSource:!1,columnFields:C,header:{enabled:!0,cells:C}}},e.exportOptions),u=c.csv,t=(t=u.columnFields)||g._getVisibleColumnFields(),t.length,u.header&&(f=!!u.header.enabled,u.header.cells&&(h=[].concat(u.header.cells))),B(f)||(f=!0),B(h)||(h=z(t,function(e){return{field:e,title:g._getColumnByField(e).title||e}})),p=T.create(u.dataSource||g.dataSource),t=function(){var e,t,i,n,r,o=p.view||[],l=o.length,a=h.length,s=[],d=[];for(f&&(s=z(h,function(e){return e.title})),e=0;e<l;e++)if(i=o[e],!(r=g.trigger(X,{commandName:"exportCsvRow",cancel:!1,item:i,index:e,row:n})).cancel){if((r=P(!0,{},r.row))&&r.cells)n=r.cells;else for(n=[],t=0;t<a;t++)n.push(S(i,h[t].field));d.push(n)}new y.CSVDocument({delimiter:u.delimiter,printHeader:f,header:s,records:d}).saveAs({fileName:u.fileName,forceExt:c.forceExt,proxy:c.proxy}),g.loading(!1)},u.readDataSource?p.read().always(t):t()},100)))}});i.defaults=f,_.ui.plugin("Grid",i)}(jQuery,shield,this);
!function(u,r,c,g){var _=r.ui.Widget,h=(r.Class,document,Math.abs),m=(Math.min,Math.max,Math.floor),d=u.proxy,f=(u.each,u.map,r.Constants.KeyCode),p=r.format,b=r.error,t=r.is,v=t.defined,k=(t.string,t.object,t.func,r.to.number),s="aria-describedby",e="value",T="tabindex",o="disabled",w="horizontal",W="both",y="top",I="left",x="right",a="click",O="change",B="focus",S="blur",C="px",i={cls:g,orientation:w,min:0,max:100,value:g,step:1,largeStep:2,enabled:!0,buttons:!1,values:{enabled:!0,template:"{0}"},ticks:{enabled:!1,type:W,step:1},tooltip:{enabled:!1,template:"{0}"},width:g,height:g,events:{}},t=_.extend({init:function(){_.fn.init.apply(this,arguments);var t,e,i=this,n=i.options,s=n.cls,o=n.value,a=n.dieOnError,l=n.orientation;i._original=e=u(i.element),"input"===e.prop("tagName").toLowerCase()?(i.element=t=e.wrap('<div class="sui-slider sui-slider-'+l+(s?" "+s:"")+'" />').parent(),i._eventNS=s=".shieldSlider"+i.getInstanceId(),e.hide(),e=e.attr(T),t.attr(T,v(e)?e:"0"),t.on(B+s,d(i._focus,i)).on(S+s,d(i._blur,i)).on("keydown"+s,d(i._keyDown,i)),u(c).on("resize"+s,d(i._onWinResize,i)),v(n.width)&&t.css("width",n.width),v(n.height)&&t.css("height",n.height),i._buttonOffset=5,i._buttonScaleOffset=20,i._width=t.innerWidth(),i._height=t.innerHeight(),i._buttons=i._createButtons(),i._scale=i._createScale(),i._ticks=i._createTicks(),i._createBar(),i._showValues(),i._elWidth=t.width(),i._elHeight=t.height(),v(o)||(o=k(i._value())),t.attr("role","slider").attr("aria-orientation",l).attr("aria-valuemin",n.min).attr("aria-valuemax",n.max),i.value(o),i.enabled(n.enabled)):b("shieldSlider: Underlying element is not INPUT",a)},refresh:function(t){this.refreshWithElement(this._original,t)},_createButtons:function(){var t,e=this,i=e.options,n=i.orientation==w,s=[];if(i.buttons)return t=u('<div class="sui-slider-button sui-unselectable" unselectable="on" />').appendTo(e.element),u('<span class="sui-slider-button-arrow-'+(n?I:"up")+' sui-unselectable" unselectable="on" />').appendTo(t),i=t.outerWidth(),t.css({left:n?e._buttonOffset:(e._width-i)/2,top:n?(e._height-i)/2:e._buttonOffset}),t.click(function(){e._hasFocus||e.element.focus(),e._stepPrev()}),s.push(t),t=u('<div class="sui-slider-button sui-unselectable" unselectable="on" />').appendTo(e.element),u('<span class="sui-slider-button-arrow-'+(n?x:"down")+' sui-unselectable" unselectable="on" />').appendTo(t),t.css({left:n?e._width-(e._buttonOffset+i):(e._width-i)/2,top:n?(e._height-i)/2:e._height-(e._buttonOffset+i)}),t.click(function(){e._hasFocus||e.element.focus(),e._stepNext()}),s.push(t),s},_createScale:function(){var t=this,e=t.options.orientation,i=e==w,n=t._buttons?t._buttons[0].outerWidth():0,e=u('<div class="sui-slider-scale sui-slider-scale-'+e+' sui-unselectable" unselectable="on" />').appendTo(t.element);return e.css({left:i?t._buttonOffset+n+t._buttonScaleOffset:(t._width-e.outerWidth())/2,top:i?(t._height-e.outerHeight())/2:t._buttonOffset+n+t._buttonScaleOffset}),i?e.width(t._width-2*(t._buttonOffset+t._buttonScaleOffset+n)):e.height(t._height-2*(t._buttonOffset+t._buttonScaleOffset+n)),e.on(a,d(t._scaleClick,t)),e},_scaleClick:function(t){var e,i,n,s,o,a=this,l=a.options.orientation==w,t=t.originalEvent,r=l?t.clientX:t.clientY,t=a.element.offset(),u=m(l?t.left:t.top);if(a._hasFocus||a.element.focus(),a._enabled){for(o=0;o<a._ticks.length;o++)e=a._ticks[o],i=h(r-(e.tick+u)),(n===g||i<n)&&(n=i,s=e);a._moveBar(s)}},_keyDown:function(t){var e=this,i=e.options.orientation==w,n=t.originalEvent,s=n.keyCode,o=e._ticks.length-1,a=s===(i?f.LEFT:f.UP),l=s===(i?f.RIGHT:f.DOWN),r=s===(i?f.PAGEDOWN:f.PAGEUP),u=s===(i?f.PAGEUP:f.PAGEDOWN),i=s==f.HOME,s=s==f.END;!n.ctrlKey&&e._enabled&&(a||r?(e._stepPrev(r),t.preventDefault()):l||u?(e._stepNext(u),t.preventDefault()):i?(e._moveBar(e._ticks[0]),t.preventDefault()):s&&(e._moveBar(e._ticks[o]),t.preventDefault()))},_createTicks:function(){var t,e,i,n,s,o,a=this,l=a.options,r=l.orientation==w,u=l.max,c=l.min,_=l.step,l=l.ticks,h=l.type,d=l.step,f=m((u-c)/_),p=g,b=0,v=[],u=r?a._scale.outerWidth():a._scale.outerHeight();for(f<=u?n=u/f-(i=m(u/f)):(p=f/u*_,f=u,_=i=1),s=r?a._scale.position().left:a._scale.position().top,o=0;o<=f;o++)v.push(e={value:c+o*(p||_),tick:s}),1<=(b+=n)&&(s++,b--),s+=i;if(l.enabled)for(o=0;o<=f;o+=d)e=v[o],h!==y&&h!==I&&h!==W||(t=a._createTick()).css({left:r?e.tick+C:a._scale.position().left-t.outerWidth()+C,top:r?a._scale.position().top-t.outerHeight()+C:e.tick+C}),"bottom"!==h&&h!==x&&h!==W||(t=a._createTick()).css({left:r?e.tick+C:a._scale.position().left+a._scale.outerWidth()+C,top:r?a._scale.position().top+a._scale.outerHeight()+C:e.tick+C});return v},_createTick:function(){return u('<div class="sui-slider-tick sui-slider-tick-'+this.options.orientation+' sui-unselectable" unselectable="on" />').insertAfter(this._scale)},_showValues:function(){var t,e,i,n=this,s=n.options,o=s.orientation==w,a=s.max,l=s.min,r=(s.step,s.values||{});if(r.enabled)for(i=0;i<n._ticks.length;i++)(t=n._ticks[i]).value!==l&&t.value!==a||(e=u('<div class="sui-slider-mark sui-unselectable" unselectable="on">'+p(r.template,t.value)+"</div>").insertAfter(n._scale)).css({left:o?t.tick-2-e.width()/2:n._scale.position().left+n._scale.outerWidth()+n._bar.width()/2,top:o?n._scale.position().top-n._scale.height()-e.height()+2:t.tick-e.height()/2})},_createBar:function(){var t,e,i,n,s,o,a=this,l=a.options.orientation==w;for(a._bar=t=u('<div class="sui-slider-bar sui-unselectable" id="'+r.strid()+'" unselectable="on" />').appendTo(a.element).mousedown(function(){a._hasFocus||a.element.focus()}),e=(t.innerWidth()-a._scale.outerHeight())/2+1,i=(t.innerWidth()-a._scale.outerWidth())/2+1,t.css({left:l?a._scale.position().left-t.outerWidth()/2+C:a._scale.position().left-i+C,top:l?a._scale.position().top-e+C:a._scale.position().top-t.outerWidth()/2+C}),s=[],o=0;o<a._ticks.length;o++)n=a._ticks[o],s.push({x:l?n.tick-t.outerWidth()/2:g,y:l?g:n.tick-t.outerWidth()/2});a._dragBar=new r.ui.Draggable(t,{allowedPositions:s,events:{drag:function(t){a._changeTooltipValue(!0),a.trigger("slide")},stop:function(t){a._value(a.value()),a._tooltip&&u("#"+a._bar.attr("id")+":hover").length<=0&&a._tooltip.visible(!1),a.trigger(O,{value:a.value()})}}}),a._createTooltip()},_stepNext:function(t){var e=this,i=e.options,n=(i.orientation,i.step),s=i.largeStep;e._enabled&&(t=!!t,i=e._getCurrentTickInfoIndex(),(i=t?i+m(s/n):i+1)>=e._ticks.length||(i=e._ticks[i],e._moveBar(i)))},_stepPrev:function(t){var e=this,i=e.options,n=(i.orientation,i.step),s=i.largeStep;e._enabled&&(t=!!t,i=e._getCurrentTickInfoIndex(),(i=t?i-m(s/n):i-1)<0||(i=e._ticks[i],e._moveBar(i)))},_moveBar:function(t,e){var i=this,n=i.options.orientation==w,s=i._bar;t&&(s.css({left:n?t.tick-s.outerWidth()/2+C:s.css(I),top:n?s.css(y):t.tick-s.outerWidth()/2+C}),i._changeTooltipValue(),i._value(i.value()),i.element.attr("aria-valuenow",t.value),e||i.trigger(O,{value:i.value()}))},_createTooltip:function(){var t=this,e=t.options,i=e.tooltip,e=e.orientation==w;i&&i.enabled&&(t._tooltip=new r.ui.Tooltip(t._bar,{content:p(i.template,t.value()),position:e?y:I,delay:0}),t.element.attr(s,t._bar.attr(s)))},_changeTooltipValue:function(t){var e=this,i=e.options.tooltip,n=e._tooltip;n&&(i=p(i.template,e.value()),n.options.content!==i&&(n.refresh({content:i,enabled:e._enabled}),e.element.attr(s,e._bar.attr(s))),t&&n.visible(!0,e._bar))},_getCurrentTickInfoIndex:function(){for(var t,e=this.options.orientation==w,i=this._ticks,n=this._bar,s=e?n.position().left:n.position().top,o=n.outerWidth()/2,a=Number.POSITIVE_INFINITY,l=-1,r=0;r<i.length;r++){if(s==(t=i[r].tick-o))return r;(t=h(s-t))<a&&(a=t,l=r)}return l},_getTickInfoIndexByValue:function(t){for(var e=this._ticks,i=0;i<e.length;i++)if(t==e[i].value)return i;return-1},_focus:function(t){this._hasFocus||(this._hasFocus=!0,u(this.element).addClass("sui-slider-focus"),this.trigger(B))},_blur:function(t){this._hasFocus&&(this._hasFocus=!1,u(this.element).removeClass("sui-slider-focus"),this.trigger(S))},_onWinResize:function(t){var e=this;e._onWinResTimeout&&clearTimeout(e._onWinResTimeout),e._onWinResTimeout=setTimeout(d(e._winResized,e),100)},_winResized:function(){var t=this.element;this._elWidth===t.width()&&this._elHeight===t.height()||this.refresh()},_value:function(){return this._original.attr.apply(this._original,[e].concat([].slice.call(arguments)))},value:function(){var t,e,i=this,n=i.options.min,s=[].slice.call(arguments);if(!(0<s.length))return e=i._getCurrentTickInfoIndex(),(t=i._ticks[e])?t.value:n;-1!==(e=i._getTickInfoIndexByValue(s[0]))&&(t=i._ticks[e],i._moveBar(t,!0))},enabled:function(){var t=this,e=u(t.element),i=t._original,n=[].slice.call(arguments);if(!(0<n.length))return t._enabled;(n=!!n[0])?(e.removeAttr(o).removeClass("sui-slider-disabled"),i.removeAttr(o)):(e.attr(o,o).addClass("sui-slider-disabled"),i.attr(o,o)),t._enabled=n,t._dragBar.enabled(n),t._tooltip&&t._tooltip.enabled(n)},destroy:function(){var t,e=this,i=e._eventNS;if(u(c).off(i),clearTimeout(e._onWinResTimeout),e._onWinResTimeout=null,u(e.element).off(i),e._dragBar&&(e._dragBar.destroy(),e._dragBar=null),e._buttons)for(t=0;t<e._buttons.length;t++)e._buttons[t].off(a);e._tooltip&&(e._tooltip.destroy(),e._tooltip=null),u(e.element).find(".sui-slider-scale, .sui-slider-mark, .sui-slider-tick, .sui-slider-bar, .sui-slider-button").remove(),e._original.unwrap().show(),e._scale.off(a),e._original=e._buttons=e._bar=e._scale=e._ticks=null,_.fn.destroy.call(e)}});t.defaults=i,r.ui.plugin("Slider",t)}(jQuery,shield,this);
!function(r,s,l,h){var e,i,n,u=s.ui.Widget,t=s.Class,p=s.DataSource,o=(document,Math.abs,Math.min),a=Math.max,d=Math.pow,c=(Math.floor,r.proxy),g=(r.each,r.map,s.format),f=s.to.int,m=s.error,_=s.is,v=_.defined,w=(_.string,_.object,_.func,s.to.number,"horizontal"),T="vertical",I="click",C="disabled",x=t.extend({init:function(t,e,i,n){var o=this;o.left=t,o.top=e,o.width=i,o.height=n},getSize:function(){return o(this.width,this.height)},getRowContainers:function(t){var e,i=this,n=i.left,o=i.top,a=i.sum(t),r=a/i.height,s=a/i.width,l=[];if(i.width>=i.height)for(e=0;e<t.length;e++)l.push({left:n,top:o,right:n+r,bottom:o+t[e].targetValue/r,dataItem:t[e]}),o+=t[e].targetValue/r;else for(e=0;e<t.length;e++)l.push({left:n,top:o,right:n+t[e].targetValue/s,bottom:o+s,dataItem:t[e]}),n+=t[e].targetValue/s;return l},remainingArea:function(t){var e,i,n=this,o=n.width>=n.height?(e=t/n.height,i=n.width-e,new x(n.left+e,n.top,i,n.height)):(t=t/n.width,o=n.height-t,new x(n.left,n.top+t,n.width,o));return o},sum:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i].targetValue;return e}}),y=t.extend({init:function(){},sort:function(t){t.sort(function(t,e){return e.targetValue-t.targetValue})},sum:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i].targetValue;return e},min:function(t){for(var e=h,i=0;i<t.length;i++)(!v(e)||e>t[i].targetValue)&&(e=t[i].targetValue);return e},max:function(t){for(var e=h,i=0;i<t.length;i++)(!v(e)||e<t[i].targetValue)&&(e=t[i].targetValue);return e}});y.create=function(t){return new("squarified"===t?n:t===w?e:i)},e=y.extend({init:function(){y.fn.init.apply(this,arguments)},execute:function(t,e,i,n,o){var a,r,s,l,h,u,p=this.sum(t),d=e.left,c=e.top,g=!o||o===w;for(this.sort(t),u=0;u<t.length;u++)s=t[u],a=g?e.width*s.targetValue/p:e.width,r=g?e.height:e.height*s.targetValue/p,s.items&&0!==s.items.length?(l=n.createGroup(i,new x(d,c,a,r)),h=n.createTitle(l,n.getItemText(s)),h=new x(h.left-l.position().left,h.top-l.position().top,h.width,h.height),this.execute(s.items,h,l,n,g?T:w)):n.createItem(i,{left:d,top:c,width:a,height:r,dataItem:s}),g?d+=a:c+=r}}),i=y.extend({init:function(){y.fn.init.apply(this,arguments)},execute:function(t,e,i,n,o){var a,r,s,l,h,u,p=this.sum(t),d=e.left,c=e.top,g=!o||o===T;for(this.sort(t),u=0;u<t.length;u++)s=t[u],r=g?e.height*s.targetValue/p:e.height,a=g?e.width:e.width*s.targetValue/p,s.items&&0!==s.items.length?(l=n.createGroup(i,new x(d,c,a,r)),h=n.createTitle(l,n.getItemText(s)),h=new x(h.left-l.position().left,h.top-l.position().top,h.width,h.height),this.execute(s.items,h,l,n,g?w:T)):n.createItem(i,{left:d,top:c,width:a,height:r,dataItem:s}),g?c+=r:d+=a}}),n=y.extend({init:function(){y.fn.init.apply(this,arguments)},execute:function(t,e,i,n){var o,a,r,s,l,h=this;for(h.sort(t),e=h._squarifyCore(h._normalize(t,e.width*e.height,n),[],e,[]),o=h._getTreemap(e),l=0;l<o.length;l++)(a=o[l]).dataItem.items&&0!==a.dataItem.items.length?(r=n.createGroup(i,new x(a.left,a.top,a.right-a.left,a.bottom-a.top)),s=n.createTitle(r,n.getItemText(a.dataItem)),s=new x(s.left-r.position().left,s.top-r.position().top,s.width,s.height),h.execute(a.dataItem.items,s,r,n)):n.createItem(i,{left:a.left,top:a.top,width:a.right-a.left,height:a.bottom-a.top,dataItem:a.dataItem})},_squarifyCore:function(t,e,i,n){var o,a;if(0!==t.length)return o=i.getSize(),a=t[0],this._verifyRatio(e,a,o)?(e.push(a),this._squarifyCore(t.slice(1),e,i,n)):(a=i.remainingArea(this.sum(e)),n.push(i.getRowContainers(e)),this._squarifyCore(t,[],a,n)),n;n.push(i.getRowContainers(e))},_getTreemap:function(t){for(var e,i=[],n=0;n<t.length;n++)for(e=0;e<t[n].length;e++)i.push(t[n][e]);return i},_verifyRatio:function(t,e,i){var n;return 0===t.length||((n=t.slice()).push(e),t=this._calculateRatio(t,i),this._calculateRatio(n,i)<=t)},_calculateRatio:function(t,e){var i=this.min(t),n=this.max(t),t=this.sum(t);return a(d(e,2)*n/d(t,2),d(t,2)/(d(e,2)*i))},_normalize:function(t,e,i){for(var n=e/this.sum(t),o=[],a=0;a<t.length;a++)o[a]=t[a],o[a].targetValue=o[a].targetValue*n;return o}}),_={cls:h,enabled:!0,width:h,height:h,title:h,dataSource:h,readDataSource:!0,type:"squarified",valueTemplate:"{value}",textTemplate:"{title}",colorTemplate:"{color}",colors:["#1E98E4","#FFC500","#5CB85C","#FF2A00","#6D31FF","#00B2A1","#FF8000","#84B3DC"],tooltip:{enabled:!1,template:"{title}: {value}",filter:".sui-treemap-item",delay:80,position:"top"},events:{}},(t=u.extend({init:function(){u.fn.init.apply(this,arguments);var t=this,e=r(t.element),i=t.options,n=i.cls,o=i.dataSource,a=i.dieOnError;if("div"===e.prop("tagName").toLowerCase()){if(e.addClass("sui-treemap "+(n?" "+n:"")),v(i.width)&&e.css("width",i.width),v(i.height)&&e.css("height",i.height),!o)return t.destroy(),void m("shieldTreemap: dataSource is not defined.",a);t.dataSource=p.create(o),t._eventNS=o=".shieldTreeMap"+t.getInstanceId(),t.containers=[],t.colorIndex=0,r(l).on("resize"+o,c(t._onWinResize,t)),t.dataSource.on("change"+o,c(t._dsChange,t)),i.readDataSource&&t.dataSource.read(),t.enabled(i.enabled)}else m("shieldTreeMap: Underlying element is not DIV.",a)},_dsChange:function(){var t=this,e=t.element;t._create(),t._createTooltip(),t._elWidth=e.width(),t._elHeight=e.height()},_onWinResize:function(t){var e=this;e._onWinResTimeout&&clearTimeout(e._onWinResTimeout),e._onWinResTimeout=setTimeout(c(e._winResized,e),100)},_winResized:function(){var t=this.element;this._elWidth===t.width()&&this._elHeight===t.height()||this.refresh()},_createTooltip:function(){var t=this,e=t.options.tooltip;e.enabled&&(t.tooltip?t.tooltip.refresh(e):t.tooltip=r(t.element).children(".sui-treemap-group").first().shieldTooltip(e).swidget())},_create:function(){var t=this,e=t.element,i=t.dataSource.data,n=t.options,o=y.create(n.type),a=new x(0,0,e.innerWidth(),e.innerHeight());e.empty(),t._prepareData(i),e=t.createGroup(e,a),a=t.createTitle(e,n.title),o.execute(i,a,e,t)},_prepareData:function(t){for(var e=0;e<t.length;e++)t[e].targetValue=this.getItemValue(t[e]),t[e].items&&this._prepareData(t[e].items)},createTitle:function(t,e){var i,n,o,a=this.options.type===w;return"undefined"===e||e===h?new x(t.position().left,t.position().top,t.innerWidth(),t.innerHeight()):(o=r('<div class="sui-treemap-title"></div>').appendTo(t),a&&o.innerHeight(t.outerHeight()),o.append('<div class="sui-treemap-title-inner">'+e.replace(/\s+/,"&nbsp;")+"</div>"),s.ui.Position.Set(o.find(".sui-treemap-title-inner"),o,{source:"center",target:"center"}),i=a?t.position().left+o.outerWidth():t.position().left,n=a?t.position().top:t.position().top+o.outerHeight(),e=a?t.innerWidth()-o.outerWidth():t.innerWidth(),o=a?t.innerHeight():t.innerHeight()-o.outerHeight(),new x(i,n,e,o))},createGroup:function(t,e){return this._createContainer(t,e).addClass("sui-treemap-group sui-treemap-group-"+this.options.type)},createItem:function(t,e){var i=this,n=i.options,o=n.tooltip,n=(n.type,i.getItemText(e.dataItem)),t=i._createContainer(t,e);t.addClass("sui-treemap-item").css("backgroundColor",i._getContentColor(e.dataItem)).on(I,c(i._contentClick,i,e.dataItem)),o.enabled&&t.attr("title",g(o.template,e.dataItem)),i.containers.push(t),t.html(n)},_contentClick:function(t){this._enabled&&this.trigger(I,{title:this.getItemText(t),value:this.getItemValue(t),item:t})},_createContainer:function(t,e){return r("<div/>").appendTo(t).css({left:e.left,top:e.top,width:e.width,height:e.height})},_getContentColor:function(t){var e=this.options.colors;return this._getItemColor(t)||e[this.colorIndex++%e.length]},getItemValue:function(t){return f(g(this.options.valueTemplate,t))},getItemText:function(t){return g(this.options.textTemplate,t)},_getItemColor:function(t){t=g(this.options.colorTemplate,t);return"undefined"!==t&&null!==t?t:h},enabled:function(){var t=this,e=r(t.element),i=[].slice.call(arguments);if(!(0<i.length))return t._enabled;(i=!!i[0])?e.removeAttr(C).removeClass("sui-treemap-disabled"):e.attr(C,C).addClass("sui-treemap-disabled"),t.tooltip&&t.tooltip.enabled(i),t._enabled=i},destroy:function(){var t,e=this,i=e._eventNS;for(r(l).off(i),clearTimeout(e._onWinResTimeout),e._onWinResTimeout=null,e.dataSource&&e.dataSource.off(i),e.tooltip&&(e.tooltip.destroy(),e.tooltip=null),t=0;t<e.containers.length;t++)e.containers[t].off(I);e.containers=null,r(e.element).empty(),u.fn.destroy.call(e)}})).defaults=_,s.ui.plugin("TreeMap",t)}(jQuery,shield,this);
!function(c,e,t){var a,u=e.ui.Widget,s=(e.Class,e.DataSource),h=(Math.min,Math.max,c.proxy),o=c.each,n=c.map,l=e.error,m=e.format,f=e.is.defined,i=e.is.null,p=e.to.int,g="change",v="click";function S(e){return f(e)&&!i(e)&&"undefined"!==e}a={cls:t,width:t,height:t,dataSource:t,readDataSource:!0,title:t,textTemplate:"{text}",hrefTemplate:"{href}",targetTemplate:"{target}",frequencyTemplate:"{frequency}",minSize:90,maxSize:250,events:{}},(t=u.extend({init:function(){u.fn.init.apply(this,arguments);var e,t=this,a=c(t.element),i=t.options,n=i.title,r=i.dieOnError,o=i.dataSource,d=i.cls;if("div"===a.prop("tagName").toLowerCase()){if(e=t._eventNS=".shieldTagCloud"+t.getInstanceId(),a.empty(),n&&a.append('<div class="sui-tagcloud-title">'+n+"</div>"),t._contentEl=c('<div class="sui-tagcloud-content">').appendTo(a),a.addClass("sui-tagcloud"+(d?" "+d:"")),f(i.width)&&a.css("width",i.width),f(i.height)&&a.css("height",i.height),!o)return t.destroy(),void l("shieldTagCloud: No dataSource or underlying UL element found.",r);t.dataSource=s.create(o),t.dataSource.on(g+e,h(t._dsChange,t)),i.readDataSource&&t.dataSource.read()}else l("shieldTagCloud: Underlying element is not DIV.",r)},_dsChange:function(){this._render()},_render:function(){var t=this,e=t._contentEl,a=t.dataSource.view||[],i=t._getMinMax(a);e.empty().append(n(a,function(e){return t._createItem(e,i[0],i[1])}))},_createItem:function(e,t,a){var i,n,r=this,o=r.options,d=o.minSize,u=o.maxSize,s=c('<div class="sui-tagcloud-item" />'),l=m(o.textTemplate,e);return S(l)&&(S(n=m(o.hrefTemplate,e))?(i=c('<a href="'+n+'" class="sui-tagcloud-link">'+l+"</a>").appendTo(s),S(n=m(o.targetTemplate,e))&&i.attr("target",n)):s.html(l)),o=p(m(o.frequencyTemplate,e)),s.css("font-size",(t<a?(o-t)*(u-d)/(a-t)+d:100)+"%").on(v,h(r._itemClick,r,e)),s},_itemClick:function(e,t){this.trigger(v,{item:e}).isDefaultPrevented()&&t&&t.preventDefault()},_getMinMax:function(e){var a,i=this,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return o(e||[],function(e,t){a=p(m(i.options.frequencyTemplate,t)),(!f(r)||r<a)&&(r=a),(!f(n)||a<n)&&(n=a)}),[n,r]},destroy:function(){var e=this,t=e.element,a=e.options.cls;e.dataSource&&e.dataSource.off(g+e._eventNS),t.removeClass("sui-tagcloud"+(a?" "+a:"")).empty(),u.fn.destroy.call(e)}})).defaults=a,e.ui.plugin("TagCloud",t)}(jQuery,shield);
!function(v,e,o,m){var d=e.ui.Widget,c=(e.Class,e.DataSource),a=(e.ui.Position,e.support),f=v.proxy,r=e.error,_=e.format,x=e.is.defined,u=e.is.func,n=e.is.boolean,T=e.is.string,g=e.is.null,i=e.is.integer,p=e.to.int,h="centered",E="click",C="sui-timeline-ds-item",t={cls:m,dataSource:m,readDataSource:!0,layout:h,animation:{enabled:!0,expandDuration:200,collapseDuration:150},positionTemplate:m,iconTemplate:"{icon}",titleTemplate:"{title}",textTemplate:"{text}",collapsedTemplate:"{collapsed}",iconUrlTemplate:"{iconUrl}",iconClsTemplate:"{iconCls}",collapsible:!0,width:m,height:m,events:{}},s=d.extend({init:function(){d.fn.init.apply(this,arguments);var e=this,i=v(e.element),t=e.options,n=t.dieOnError,s=t.dataSource,l=t.cls,a=e._eventNS=".shieldTimeline"+e.getInstanceId();if(i.empty(),i.addClass("sui-timeline sui-timeline-"+t.layout+(t.collapsible?" sui-timeline-collapsible":"")+(l?" "+l:"")),e._initAxis(i),!s)return e.destroy(),void r("shieldTimeline: dataSource option is required.",n);e.dataSource=c.create(s),v(o).on("resize"+a,f(e._winResize,e)),e.dataSource.on("change"+a,f(e._dsChange,e)),t.readDataSource&&e.dataSource.read()},_initAxis:function(e){var i=this.options;x(i.width)&&e.css("width",i.width),x(i.height)&&e.css("height",i.height),e=v('<div class="sui-timeline-inner"/>').appendTo(e),this._axis=v('<div class="sui-timeline-axis sui-timeline-axis-'+i.layout+'"/>').appendTo(e)},_dsChange:function(){this._render()},_winResize:function(){this._recalcEventWidths()},_recalcEventWidths:function(){var e=this,i=p(v(e.element).innerWidth());i!==e._width&&(e._setEventWidths(i),e._width=i)},_setEventWidths:function(e){var i=this,t=i.options.layout,n=a.scrollbar(),s=v(i._axis).outerWidth(),l=p(t===h?(e-n)/2-s:e-n-s);v(i._axis).children(".sui-timeline-event").each(function(){v(this).outerWidth(l),v(this).hasClass("sui-timeline-event-left")&&i._positionEventLeft(v(this))})},_render:function(){for(var e,i,t,n,s,l,a,o,d=this,c=d.options,r=c.collapsible,u=d.dataSource.view||[],p=u.length,h=0;h<p;h++)l=u[h],e=v('<div class="sui-timeline-event"/>').data(C,l).appendTo(d._axis),t=v('<div class="sui-timeline-event-title">'+_(c.titleTemplate,l)+"</div>").appendTo(e),n=_(c.textTemplate,l),s=x(n)&&!g(n)&&"undefined"!==n&&""!==n?v('<div class="sui-timeline-event-text">'+n+"</div>").appendTo(e):m,d._positionEventElement(e,l,h),a=_(c.iconUrlTemplate,l),T(a)&&"undefined"!==a||(a=m),o=_(c.iconClsTemplate,l),T(o)&&"undefined"!==o||(o=m),(a||o)&&(i=v('<span class="sui-timeline-event-icon'+(r&&x(s)?" sui-timeline-event-icon-collapsible":"")+'"/>').insertBefore(e),n=v('<span class="sui-timeline-event-icon-inner"/>').appendTo(i),a?n.append('<img src="'+a+'"/>'):n.addClass(o)),r&&x(s)&&(e.addClass("sui-timeline-event-collapsible"),t.on(E,f(d._eventTitleClicked,d,e)),(a||o)&&i.on(E,f(d._eventTitleClicked,d,e)),l=_(c.collapsedTemplate,l),(T(l)?"true"===l||"1"===l:!0===l)&&d._collapse(e,!1,!0));d._recalcEventWidths()},_positionEventElement:function(e,i,t){var n,s=this.options,l=s.positionTemplate;switch(s.layout){case h:(u(l)||T(l)?(n=_(l,i,t),T(n)?"undefined"===n?t%2:"true"===n||"1"===n:!!n):t%2)&&this._positionEventLeft(e);break;case"right":this._positionEventLeft(e)}},_positionEventLeft:function(e){e.addClass("sui-timeline-event-left").css("left",-1*v(e).width())},_isExpanded:function(e){return!v(e).hasClass("sui-timeline-event-collapsed")},_getEventItem:function(e){return v(e).data(C)},_expand:function(e,i,t,n){var s=this,l=s.options.animation;s._isExpanded(e)?u(n)&&n.call(s):i&&s.trigger("expand",{element:e,item:s._getEventItem(e)}).isDefaultPrevented()||e.find(".sui-timeline-event-text").first().slideDown(l.enabled&&!t?l.expandDuration:0,function(){e.removeClass("sui-timeline-event-collapsed"),u(n)&&n.call(s)})},_collapse:function(e,i,t,n){var s=this,l=s.options.animation;s._isExpanded(e)?i&&s.trigger("collapse",{element:e,item:s._getEventItem(e)}).isDefaultPrevented()||e.find(".sui-timeline-event-text").first().slideUp(l.enabled&&!t?l.collapseDuration:0,function(){e.addClass("sui-timeline-event-collapsed"),u(n)&&n.call(s)}):u(n)&&n.call(s)},_eventTitleClicked:function(e,i){this._isExpanded(e)?this._collapse(e,!0,!1):this._expand(e,!0,!1)},_getEvent:function(e){return i(e)?v(v(this._axis).children(".sui-timeline-event")[e]):v(e)},expanded:function(){var e=[].slice.call(arguments),i=n(e[0])?e.shift():m,t=this._getEvent(e[0]);if(!x(i))return this._isExpanded(t);i?this._expand(t,!1,!1,e[1]):this._collapse(t,!1,!1,e[1])},expandAll:function(){var e=this;v(e._axis).children(".sui-timeline-event").each(function(){e._expand(v(this),!1,!1)})},collapseAll:function(){var e=this;v(e._axis).children(".sui-timeline-event").each(function(){e._collapse(v(this),!1,!1)})},destroy:function(){var e=this,i=e.element,t=e.options.cls,n=e._eventNS;v(o).off(n),e.dataSource&&e.dataSource.off(n),i.removeClass("sui-timeline"+(t?" "+t:"")).empty(),e._width=null,d.fn.destroy.call(e)}});s.defaults=t,e.ui.plugin("Timeline",s)}(jQuery,shield,this);
!function(w,k,T){var h=k.ui.Widget,u=(k.Class,k.DataSource),o=k.RecursiveDataSource,n=(k.ui.Position,k.Constants.KeyCode),P=k.strid,D=document,S=w.proxy,m=w.each,g=(w.extend,k.error),E=k.format,y=k.is.defined,L=k.is.boolean,B=(k.is.integer,k.is.func),p=k.is.array,_=k.is.object,N=k.is.string,a=k.support.browser,A="role",O="aria-expanded",R="click",f="focus",v="blur",C="change",x="tabindex",I="disabled",F="false",r="down",s="left",l="checked",b="li",U="ul",V="visibility",W="hidden",c="visible",j="sui-treeview-list-item",H="sui-treeview-list-item-idx",G="sui-treeview-list-item-parent",K="sui-treeview-list-item-ds",Q="sui-treeview-list-items-ds",q="sui-treeview-list-item-checked",z="sui-treeview-list-item-loaded",J="sui-treeview-item-list-expanded",M="sui-treeview-item-toggle-loading",d="sui-treeview-item-selected",X="sui-treeview-item-active",Y="sui-treeview-item-disabled",Z="sui-treeview-item",e={cls:T,width:T,minWidth:T,height:T,dataSource:T,readDataSource:!0,animation:{enabled:!0,expandDuration:200,collapseDuration:150},checkboxes:{enabled:!1,children:!1,template:T},dragDrop:!1,dragDropScope:T,textTemplate:"{text}",hrefTemplate:"{href}",expandedTemplate:"{expanded}",checkedTemplate:"{checked}",disabledTemplate:"{disabled}",iconUrlTemplate:"{iconUrl}",iconClsTemplate:"{iconCls}",hasChildrenTemplate:function(e){return e&&(e.items&&0<e.items.length||e.children&&0<e.children.length||e.hasChildren)},events:{}},t=h.extend({init:function(){h.fn.init.apply(this,arguments);var e,i,t,r,n,a=this,s=w(a.element),l=a.options,d=l.dieOnError,c=l.dataSource,o=l.cls;if(a._original=e=w(a.element),a._tagname=t=e.prop("tagName").toLowerCase(),n=a._eventNS=".shieldTreeView"+a.getInstanceId(),a._wrapper=i=e.wrap("<div/>").parent(),i.addClass("sui-treeview"+(o?" "+o:"")),e.hide(),a.element=s=w('<ul class="sui-treeview-list"/>').on(f+n,S(a._focus,a)).on(v+n,S(a._blur,a)).on("keydown"+n,S(a._keydown,a)),e.after(s),m(["width","minWidth","height","maxHeight"],function(e,t){y(l[t])&&i.css(t,l[t])}),o=e.attr(x),s.attr(x,y(o)?o:"0"),c)a.dataSource=u.create(c);else{if(t!=U)return a.destroy(),void g("shieldTreeView: No dataSource or underlying UL element found.",d);r=function(e){var a=[];return w(e).children(b).each(function(){var e,t=w(this),i=0<t.children(U).length,n={cls:t.attr("data-class"),href:t.attr("data-href")?t.attr("data-href"):t.children().not(U).first().attr("href"),disabled:t.attr("data-disabled")?t.attr("data-disabled"):y(t.attr(I))&&null!==t.attr(I),expanded:t.attr("data-expanded"),checked:t.attr("data-checked"),iconUrl:t.attr("data-icon-url"),iconCls:t.attr("data-icon-cls")};i?((e=t.clone()).children(U).remove(),n.text=e.html()):n.text=t.html(),i&&(n.items=r(t.children(U)[0])),a.push(n)}),a},a.dataSource=u.create({data:e,schema:{parse:r}})}a.dataSource.on(C+n,S(a._dsChange,a)),s.attr(A,"tree"),l.readDataSource&&a.dataSource.read()},refresh:function(e){this.refreshWithElement(this._original,e)},_dsChange:function(){var e=this,t=e.element,i=e.dataSource;e._renderItems(i,t,null,!0,!0,function(){e.trigger("dataBound",{dataSource:i,element:null})})},_destroyItems:function(e){var t=this;w(e).children("ul.sui-treeview-item-list").each(function(){t._destroyItems(w(this))}),w(e).children(".sui-treeview-item-content").find(".sui-treeview-item-text").each(function(){w(this).swidget("Draggable")&&w(this).swidget("Draggable").destroy(),w(this).swidget("Droppable")&&w(this).swidget("Droppable").destroy()}),w(e).children(".sui-treeview-item-content").find(".sui-checkbox").each(function(){w(this).swidget("CheckBox")&&w(this).swidget("CheckBox").destroy()});var i=w(e).data(Q);i&&i.off(t._eventNS),w(e).removeData(),w(e).empty()},_renderItems:function(e,t,i,n,a,r){var s,l,d,c=this,o=c.options.checkboxes,h=e.view,u=(h||[]).length,m=[],g=[];for(c._destroyItems(t),d=0;d<u;d++)(l=(s=c._renderItem(h[d],i,e,d)).listItem).appendTo(t),s.itemExpanded&&m.push(l),s.itemChecked&&g.push(l);if(B(r)&&r(),n)for(d=0;d<m.length;d++)c._expand(m[d],!1,a);if(o.enabled&&o.children)for(d=0;d<g.length;d++)c._updateChecked(g[d])},_renderItem:function(e,t,i,n){var a,r,s,l,d,c,o,h=this,u=h.options,m=u.checkboxes,g=m.template,p=h.getInstanceId(),_=u.dragDropScope,f=t?t.data(j):null,v=e.cls,C=h._hasChildren(e),x=E.call(h,u.textTemplate,e),I=P(),b=E(u.disabledTemplate,e);return b=!!(L(b)&&b||"true"===b||"1"===b||1===b),a=E(u.expandedTemplate,e),a=!!(L(a)&&a||"true"===a||"1"===a||1===a),r=E(u.checkedTemplate,e),r=!!(L(r)&&r||"true"===r||"1"===r||1===r),d=E(u.hrefTemplate,e),N(d)&&"undefined"!==d||(d=T),s=E(u.iconUrlTemplate,e),N(s)&&"undefined"!==s||(s=T),l=E(u.iconClsTemplate,e),N(l)&&"undefined"!==l||(l=T),i=w('<li class="'+Z+" sui-unselectable"+(b?" "+Y:"")+(y(v)?" "+v:"")+'"/>').data(j,e).data(H,n).data(G,t).data(K,i),x=w('<span class="sui-treeview-item-text" id="'+I+'">'+(d?'<a href="'+d+'">':"")+x+(d?"</a>":"")+"</span>").on("mousedown",S(h._itemClick,h,i)).on("dblclick",S(h._itemDblClick,h,i)),d=w('<span class="sui-treeview-item-toggle"/>').on(R,S(h._toggleItem,h,i)).append(w('<span class="sui-treeview-item-toggle-collapsed"/>')),C||d.css(V,W),i.attr(A,"treeitem").attr("aria-describedby",I),C&&i.attr(O,F),m.enabled&&(i.data(q,!!r),c=w('<span class="sui-treeview-item-check"/>'),N(g)?c.html(E(g,{item:e,parent:f})):B(g)?g(c,e,f):(f=w('<input type="checkbox"'+(r?' checked="checked"':"")+"/>").appendTo(c),k.ui.CheckBox?w(f).shieldCheckBox({enabled:!b,enableThreeStates:!!m.children,events:{click:S(h._checkboxClick,h,i)}}):f.on(R,S(h._checkboxClick,h,i)))),(s||l)&&(o=w('<span class="sui-treeview-item-icon"/>'),s?o.append('<img src="'+s+'"/>'):o.addClass(l)),i.append(w('<div class="sui-treeview-item-content"/>').append(d,c,x.prepend(o))),i.append(w('<ul class="sui-treeview-list sui-treeview-item-list"/>').attr(A,"group").hide()),u.dragDrop&&!b&&(x.shieldDraggable({scope:y(_)?_:"suiTv"+p,dragCls:"sui-treeview-item-text-dragging",helper:function(){return w(this.element).clone().appendTo(D.body)},events:{start:S(h._dragStart,h,i),stop:S(h._dragStop,h,i)}}),x.shieldDroppable({scope:y(_)?_:"suiTv"+p,hoverCls:"sui-treeview-item-text-dropover",tolerance:{x:"touch",y:"intersect"},events:{over:S(h._dropOver,h,i),out:S(h._dropOut,h,i),drop:S(h._drop,h,i)}})),{listItem:i,itemExpanded:a,itemChecked:r,itemDisabled:b}},_isValidDragDrop:function(e,t){if(w(e).hasClass("sui-treeview-item-text")){var i=w(e).parent().parent().parent().parent().children(".sui-treeview-item-content").first().children(".sui-treeview-item-text").first();return i&&0<i.length&&t[0]===i[0]?t[0]!==i[0]:!(0<w(e).parent().parent().find(t[0]).length)}return!1},_dragStart:function(e,t){this.trigger("dragStart",{draggable:t.target.element,element:e,domEvent:t})},_dragStop:function(e,t){this.trigger("dragStop",{draggable:t.target.element,element:e,domEvent:t}),t.preventDefault()},_dropOver:function(e,t){var i=t.draggable,n=t.droppable,a=this._isValidDragDrop(i,n),e={draggable:i,droppable:n,element:e,valid:a,domEvent:t};a&&(e.sourceNode=w(i).closest("."+Z)),e.targetNode=w(n).closest("."+Z),!(e=this.trigger("droppableOver",e)).isDefaultPrevented()&&e.valid||t.preventDefault()},_dropOut:function(e,t){var i=t.draggable,n=t.droppable,a=this._isValidDragDrop(i,n),t={draggable:i,droppable:n,element:e,valid:a,domEvent:t};a&&(t.sourceNode=w(i).closest("."+Z)),t.targetNode=w(n).closest("."+Z),this.trigger("droppableOut",t)},_drop:function(e,t){var i=t.draggable,n=t.droppable,a=this._isValidDragDrop(i,n),e={draggable:i,droppable:n,element:e,cancelled:!0,skipAnimation:!!a,valid:a,domEvent:t};a&&(e.sourceNode=w(i).closest("."+Z)),e.targetNode=w(n).closest("."+Z),e=this.trigger("drop",e),t.cancelled=e.cancelled,t.skipAnimation=e.skipAnimation,e.isDefaultPrevented()&&t.preventDefault()},_hasChildren:function(e){e=E(this.options.hasChildrenTemplate,e);return L(e)&&e||"true"===e||"1"===e||1===e},_isLoaded:function(e){return!0===w(e).data(z)},_isExpanded:function(e){return e.hasClass(J)},_isFullyExpanded:function(e){var t=this.getParent(e);return t?this._isExpanded(e)&&this._isFullyExpanded(t):this._isExpanded(e)},_isDisabled:function(e){return w(e).hasClass(Y)},_isSelected:function(e){return w(e).hasClass(d)},_isActive:function(e){return w(e).hasClass(X)},_isFocused:function(){return w(this.element).hasClass("sui-treeview-focus")},_focus:function(e){var t=this,i=t.element;a.ie&&D.activeElement!==w(i)[0]&&w(i).focus(),t._blurTimeout&&(clearTimeout(t._blurTimeout),t._blurTimeout=null),t._isFocused()||(w(t.element).addClass("sui-treeview-focus"),t.trigger(f))},_blur:function(e){var t=this;t._isFocused()&&(t._blurTimeout&&clearTimeout(t._blurTimeout),t._blurTimeout=setTimeout(function(){w(t.element).removeClass("sui-treeview-focus"),t.trigger(v)},100))},_selectItem:function(e,t,i){var n=this;n._isSelected(e)||i&&n.trigger("select",{element:e,item:e.data(j)}).isDefaultPrevented()||(n._selectedItem&&n._selectedItem.removeClass(d),(n._selectedItem=e).addClass(d),t&&n._activateItem(e,i))},_activateItem:function(e,t){var i=this;i._isActive(e)||(i._activeItem&&i._activeItem.removeClass(X),(i._activeItem=e).addClass(X),t&&i.trigger(C,{element:e,item:e.data(j)}))},_itemClick:function(e,t){a.ie&&setTimeout(S(this._focus,this)),this._selectItem(e,!0,!0)},_itemDblClick:function(e,t){this._selectItem(e,!0,!0),this._toggleItem(e,t)},_getCheckBox:function(e){return e.children(".sui-treeview-item-content").children(".sui-treeview-item-check").find('input[type="checkbox"]').first()},_checkboxClick:function(e){a.ie&&setTimeout(S(this._focus,this)),this._toggleCheck(e,!0)},_toggleCheck:function(e,t){this._setChecked(e,!e.data(q),t)},_setChecked:function(e,t,i){var n=this.options.checkboxes.children,a=this._getCheckBox(e);a&&0<a.length&&(w(a).swidget("CheckBox")?(a=w(a).swidget("CheckBox")).checked(t):t?a.attr(l,l):a.removeAttr(l),e.data(q,t),n&&this._updateChecked(e),i&&this.trigger("check",{element:e,item:e.data(j),checked:t}))},_updateChecked:function(e){var t=e.data(q);this._updateCheckedChildren(e,t),this._updateCheckedParents(e,t)},_updateCheckedChildren:function(e,i){var n=this;w(e).children("ul.sui-treeview-item-list").first().children(b).each(function(){var e=w(this),t=n._getCheckBox(e);w(t).swidget("CheckBox")?w(t).swidget("CheckBox").checked(i):i?t.attr(l,l):t.removeAttr(l),e.data(q,i),n._updateCheckedChildren(e,i)})},_updateCheckedParents:function(e,t){var i=this.getParent(e),n=i?i.data(q):T,a=t;i&&!1!==n&&(w(e).parent().children(b).each(function(){if(w(this).data(q)!==t)return!(a=null)}),e=this._getCheckBox(i),w(e).swidget("CheckBox")?w(e).swidget("CheckBox").checked(a):a?e.attr(l,l):e.removeAttr(l),i.data(q,a),this._updateCheckedParents(i,t))},_toggleItem:function(e,t){var i=this;a.ie&&setTimeout(S(i._focus,i)),i._isDisabled(e)||(i._isExpanded(e)?i._collapse(e,!0):i._expand(e,!0,!1))},_getToggleEl:function(e){return w(e).children(".sui-treeview-item-content").first().children(".sui-treeview-item-toggle").first()},_expand:function(e,t,i,n){var a,r=this,s=r.options.animation,l=e.children("ul.sui-treeview-item-list").first();!l||w(l).length<=0||!r.hasChildren(e)&&l.children(b).length<=0||(r._isExpanded(e)?B(n)&&n.call(r):t&&r.trigger("expand",{element:e,item:e.data(j)}).isDefaultPrevented()||(l.stop(!0,!0),l.hide(),a=r._getToggleEl(e),t=function(){l.slideDown(s.enabled&&!i?s.expandDuration:0,function(){e.addClass(J).attr(O,"true"),a.css(V,c),w(a).find("span").addClass("sui-treeview-item-toggle-expanded").removeClass("sui-treeview-item-toggle-collapsed"),B(n)&&n.call(r)})},r._isLoaded(e)?t():r._loadItem(e,i,t)))},_loadItem:function(t,i,n){var a,r=this,e=t.data(j),s=t.children("ul.sui-treeview-item-list").first(),l=t.data(K),d=r._getToggleEl(t),c=e.items||e.children;!s||w(s).length<=0||(p(c)||_(c)||c instanceof u?(w(d).addClass(M),a=u.create(c),s.data(Q,a),a.on(C+r._eventNS,function(e){w(d).removeClass(M),t.data(z,!0),r._renderItems(this,s,t,!0,i,function(){r.trigger("dataBound",{dataSource:a,element:t}),B(n)&&n.call(r)})}),a.read({parent:e})):l&&l instanceof o?(w(d).addClass(M),a=new o(l.options),s.data(Q,a),a.on(C+r._eventNS,function(e){w(d).removeClass(M),t.data(z,!0),r._renderItems(this,s,t,!0,i,function(){r.trigger("dataBound",{dataSource:a,element:t}),B(n)&&n.call(r)})}),a.read({parent:e})):(t.data(z,!0),B(n)&&n.call(r)))},_expandPathSegment:function(e,t,i,n,a){var r,s=this;e.length<n?B(a)&&a.call(s):(r=[].slice.call(e).splice(0,n),r=s.getByPath(r),s._isExpanded(r)?s._expandPathSegment(e,t,i,n+1,a):s._expand(r,t,i,function(){s._expandPathSegment(e,t,i,n+1,a)}))},_expandPath:function(e,t,i,n){this._expandPathSegment(e,t,i,1,n)},_collapse:function(e,t){var i,n=this.options.animation,a=e.children("ul.sui-treeview-item-list").first();!this._isExpanded(e)||!a||w(a).length<=0||t&&this.trigger("collapse",{element:e,item:e.data(j)}).isDefaultPrevented()||(i=this._getToggleEl(e),a.stop(!0,!0),a.slideUp(n.enabled?n.collapseDuration:0,function(){e.removeClass(J).attr(O,F),w(i).find("span").removeClass("sui-treeview-item-toggle-expanded").addClass("sui-treeview-item-toggle-collapsed")}))},_keydown:function(e){var t=this,i=!0;switch(e.keyCode){case n.UP:t._move("up",e);break;case n.DOWN:t._move(r,e);break;case n.LEFT:t._move(s,e);break;case n.RIGHT:t._move("right",e);break;case n.SPACE:t._selectedItem&&t._toggleCheck(t._selectedItem,!0);break;case n.ENTER:t._selectedItem&&t._activateItem(t._selectedItem,!0);break;default:i=!1}i&&e.preventDefault()},_getExpandedItems:function(e){var t=this;return t.element.children("."+Z).add(t.element.find("li.sui-treeview-item-list-expanded > ul.sui-treeview-list > li."+Z)).filter(function(){var e=t.getParent(w(this));return!e||t._isFullyExpanded(e)}).not("."+Y)},_getNextItem:function(e){var t=this._getExpandedItems(),i=w(t).length,e=w(t).index(e);if(e<i-1)return w(w(t).get(e+1))},_getPrevItem:function(e){var t=this._getExpandedItems(),e=w(t).index(e);if(0<e)return w(w(t).get(e-1))},_getPrevParentItem:function(e){e=this.getParent(e);if(e&&0<w(e).length)return this._isDisabled(e)?this._getPrevParentItem(e):e},_move:function(e,t){var i,n=this,a=n._selectedItem;n.getParent(w(a));if(y(a))if("up"===e)i=n._getPrevItem(a);else if(e===r)i=n._getNextItem(a);else if(e===s){if(n._isExpanded(a))return void n._collapse(a,!0,!1);i=n._getPrevParentItem(a)}else{if(!n._isExpanded(a))return void n._expand(a,!0,!1);0<(a=w(a).children("ul.sui-treeview-list").first()).length&&(i=w(a).children("li:not(."+Y+")").first())}else i=w(n.element).find(b).first();y(i)&&0<w(i).length&&n._selectItem(i,!1,!0)},_getByPath:function(e,t){var i=e.shift(),n=w(t.children(b)[i]);return 0<e.length?this._getByPath(e,n.children(U)):w(t.children(b)[i])},_getListItem:function(e){return p(e)?w(this.getByPath(e,this.element)):w(e)},getByPath:function(e){return this._getByPath([].slice.call(e),w(this.element))},isLoaded:function(e){return!0===w(this._getListItem(e)).data(z)},hasChildren:function(e){return this._hasChildren(this.getItem(e))},getItem:function(e){return w(this._getListItem(e)).data(j)},getDataSource:function(e){return w(this._getListItem(e)).data(K)},getChildrenDataSource:function(e){e=this._getListItem(e);return this.hasChildren(this.getItem(e))&&this.isLoaded(e)?w(e).children("ul.sui-treeview-item-list").first().data(Q):T},getParent:function(e){return w(this._getListItem(e)).data(G)},getDataSourceIndex:function(e){return w(this._getListItem(e)).data(H)},_getIndex:function(e){e=this._getListItem(e);return w(e).index()},getPath:function(e){for(var t=w(e),i=[];i.unshift(this._getIndex(t)),(t=this.getParent(t))&&0<t.length;);return i},updateIndetermined:function(e){var t=this,e=t._getListItem(e);y(e)?t._updateChecked(w(e)):w(t.element).children(b).each(function(){t._updateChecked(w(this))})},expanded:function(){var e=this,t=[].slice.call(arguments),i=L(t[0])?t.shift():T,n=t[0],a=e._getListItem(n);if(!y(i))return e._isExpanded(a);i?p(n)?e._expandPath([].slice.call(n),!1,!1,t[1]):e._expand(a,!1,!1,t[1]):e._collapse(a,!1)},selected:function(){var e=[].slice.call(arguments);if(!(0<e.length))return this._selectedItem;(e=this._getListItem(e[0]))&&0<e.length&&this._selectItem(e,!0,!1)},unselect:function(){this._selectedItem&&this._selectedItem.removeClass(d+" "+X),this._selectedItem=null},enabled:function(){var e=[].slice.call(arguments),t=L(e[0])?e.shift():T,e=this._getListItem(e[0]);if(e&&!(w(e).length<=0))return y(t)?void(t?e.removeClass(Y):e.addClass(Y)):!this._isDisabled(e)},checked:function(){var e=[].slice.call(arguments),t=L(e[0])?e.shift():T,e=this._getListItem(e[0]);if(e&&!(w(e).length<=0))return y(t)?void this._setChecked(e,t,!1):e.data(q)},_insertedItem:function(e,t){return e instanceof w?w(e):p(e)?this._getListItem(e):_(e)?this._renderItem(e,t).listItem:void 0},_beforeRemoveChild:function(e){e&&e.children(U).children(b).length<=1&&(w(this._getToggleEl(e)).css(V,W),e.removeClass(J))},_refreshParent:function(e){var t=w(e).parents(b).first();w(e).data(G,t&&0<t.length?t:null)},load:function(e,t){e=this._getListItem(e);e&&0<e.length&&this._loadItem(e,!1,t)},append:function(){var e,t,i,n=this,a=[].slice.call(arguments),r=a[0],s=p(r)||r instanceof w,l=a[1],d=a[2];if(y(l)){if(!((t=n._getListItem(l))&&0<w(t).length))return;i=w(t).children(U).first()}else t=null,i=n.element;(e=n._insertedItem(r,t))&&(s&&n._beforeRemoveChild(n.getParent(e)),!t||n._isExpanded(t)?(e.appendTo(i),n._refreshParent(e),B(d)&&d.call(n,e)):n.hasChildren(t)?n._isExpanded(t)?(e.appendTo(i),n._refreshParent(e),B(d)&&d.call(n,e)):n._expand(t,!1,!1,function(){e.appendTo(i),n._refreshParent(e),B(d)&&d.call(n,e)}):n._isExpanded(t)?(e.appendTo(i),n._refreshParent(e),B(d)&&d.call(n,e)):(w(n._getToggleEl(t)).css(V,c),t.removeClass(J),e.appendTo(i),n._refreshParent(e),n._expand(t,!1,!1,function(){B(d)&&d.call(n,e)})))},insertBefore:function(){var e,t=this,i=[].slice.call(arguments),n=i[0],a=p(n)||n instanceof w,i=t._getListItem(i[1]);if(i&&0<i.length&&(e=t._insertedItem(n,t.getParent(i))))return a&&t._beforeRemoveChild(t.getParent(e)),e.insertBefore(i),t._refreshParent(e),e},insertAfter:function(){var e,t=this,i=[].slice.call(arguments),n=i[0],a=p(n)||n instanceof w,i=t._getListItem(i[1]);if(i&&0<i.length&&(e=t._insertedItem(n,t.getParent(i))))return a&&t._beforeRemoveChild(t.getParent(e)),e.insertAfter(i),t._refreshParent(e),e},remove:function(e){var t=this,i=p(e)||e instanceof w,e=t._getListItem(e);t.getParent(e);return!!(e&&0<e.length)&&(t._destroyItems(w(e).children(U).first()),i&&t._beforeRemoveChild(t.getParent(e)),e.remove(),!0)},destroy:function(){var e=this,t=e.element,i=e._eventNS;e.dataSource&&e.dataSource.off(C+i),e._destroyItems(t),e._blurTimeout&&(clearTimeout(e._blurTimeout),e._blurTimeout=null),w(t).off(i).remove(),e._original.unwrap(),e._original.show(),e._original=e._wrapper=e._selectedItem=e._activeItem=null,h.fn.destroy.call(e)}});t.defaults=e,k.ui.plugin("TreeView",t)}(jQuery,shield);
!function(c,m,l,i){var h=m.ui.Widget,p=(m.Class,m.Constants,m.format),f=document,b=(c.extend,c.map,c.each,c.proxy),w=m.error,_=m.is.boolean,g=m.is.object,z=m.is.defined,r=(m.is.integer,m.to.int,m.to.number,m.support,"resize"),a="scroll",e="overflow",t="center",n={title:"",titleBarButtons:["pin","minimize","maximize","close"],content:i,cls:i,visible:!0,pinned:!1,modal:!1,width:400,height:300,resizable:{maxWidth:i,maxHeight:i,minWidth:200,minHeight:150},draggable:!0,position:i,appendToBody:!1,events:{}},i=h.extend({init:function(){h.fn.init.apply(this,arguments),z(this.initialOptions.titleBarButtons)&&(this.options.titleBarButtons=this.initialOptions.titleBarButtons);var n=this,i=n.options,t=i.cls,e=i.dieOnError,o=i.titleBarButtons,s=i.resizable,l=i.draggable,r=i.content,a=i.position,d=c(n.element),u=!1;"div"===c(d).prop("tagName").toLowerCase()?o&&0<o.length&&!m.ui.Button?w("shieldWindow: The titleBarButtons setting requires ShieldUI Button to be loaded",e):(n._eventNS="shieldWindow"+n.getInstanceId(),i.appendToBody?(d.appendTo(f.body),n._parentIsBody=!0):n._parentIsBody="body"==d.parent().prop("tagName").toLowerCase(),n._origHtml=d.html(),d.empty(),d.addClass("sui-window"+(t?" "+t:"")),d.css({width:i.width,height:i.height,position:"absolute"}),n.titleBarEl=c('<div class="sui-window-titlebar"><div class="sui-window-title">'+i.title+'</div><div class="sui-window-icons"></div></div>').appendTo(d),n._initTitleBarButtons(),n.contentEl=c('<div class="sui-window-content"></div>').appendTo(d),n._fixContent(),g(a)?d.css(a):u=!0,s&&(_(s)&&(s={}),n.resizable=new m.ui.Resizable(d,s),n.resizable.on("resized",b(n._fixContent,n))),l&&((l=_(l)?{}:l).handle=n.titleBarEl,n.draggable=new m.ui.Draggable(d,l)),n._hasIframe=!1,r?r.template?r.template.dataUrl?c.ajax({url:r.template.dataUrl,dataType:"json",success:function(i,t,e){n.content(p(r.template.body,i)),n._focusFirst()},error:function(i,t,e){n.content("Error occured while reading URL: "+t+" - "+e)}}):(n.content(p(r.template.body,r.template.data)),n._focusFirst()):r.remote?r.remote.iframe?(n._hasIframe=!0,n.content('<iframe class="sui-window-iframe" src="'+r.remote.url+'" style="border:none; border-width:0px; width:100%; height:100%;"></iframe>'),n._focusFirst()):n.contentEl.load(r.remote.url,function(){n._focusFirst()}):(n.content(n._origHtml),n._focusFirst()):(n.content(n._origHtml),n._focusFirst()),n._minimized=!1,n._maximized=!1,n._destroyed=!1,d.attr("role","dialog").attr("aria-labelledby",(d=i.title,c("<div/>").text(d).html())),n.pinned(!!i.pinned),n.visible(!!i.visible),u&&n.center()):w("shieldWindow: Underlying element is not DIV",e)},_focusFirst:function(){var i=c(this.contentEl).find(".sui-checkbox:not(.sui-checkbox-disabled), .sui-radiobutton:not(.sui-radiobutton-disabled), .sui-input:not(.sui-input-disabled), .sui-combobox:not(.sui-combobox-disabled), .sui-dropdown:not(.sui-dropdown-disabled), .sui-listbox:not(.sui-listbox-disabled), .sui-switch:not(.sui-switch-disabled), a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(":visible").first();0<c(i).length&&c(i).focus()},_initTitleBarButtons:function(){var i,t,e,n,o=this,s=o.options,l=s.titleBarButtons,r=s.modal;if(o.titleBarButtons={},l&&0<l.length){for(i=o.titleBarEl.find(".sui-window-icons"),n=0;n<l.length;n++)"pin"!==(e=l[n])&&"minimize"!==e&&"maximize"!==e&&"close"!==e||r&&"close"!==e||(t="pin"==e?"_onPin":"minimize"==e?"_onMinimize":"maximize"==e?"_onMaximize":e,o.titleBarButtons[e]=c('<button type="button"><div class="sui-sprite sui-window-button-icon sui-window-button-icon-'+e+'"></div></button>').appendTo(i).shieldButton({cls:"sui-window-button",events:{click:b(o[t],o,!0)}}).swidget());i.on("mousedown",function(i){return i.preventDefault(),i.stopPropagation(),!1})}},_destroyTitleBarButtons:function(){var i,t=this.titleBarButtons;for(i in t)t.hasOwnProperty(i)&&t[i].destroy();this.titleBarButtons={}},_createModal:function(){var i=this,t=c(i._parentIsBody?l:i.element.parent()),e=c(t).scrollTop(),t=c(t).scrollLeft();i._lockScroll(),i._modal=c('<div class="sui-window-modal"></div>').insertBefore(i.element).css({top:e,left:t})},_closeModal:function(){c(this._modal).remove(),this._unlockScroll()},_lockScroll:function(){var i=this,t=i._scrollParent=i.element.parent();i._scrollTop=c(t).scrollTop(),i._scrollLeft=c(t).scrollLeft(),i._parentOverflow=c(t).css(e),c(t).css(e,"hidden").scrollTop(i._scrollTop).scrollLeft(i._scrollLeft)},_unlockScroll:function(){c(this._scrollParent).css(e,this._parentOverflow).scrollTop(this._scrollTop).scrollLeft(this._scrollLeft)},_fixContent:function(){var i=this;c(i.contentEl).outerWidth(c(i.element).innerWidth()).innerHeight(c(i.element).innerHeight()-c(i.titleBarEl).outerHeight()),i._hasIframe&&c(i.contentEl).find(".sui-window-iframe").width(c(i.contentEl).width()).height(c(i.contentEl).height())},center:function(){var i=c(this.element);m.ui.Position.Set(i,this._parentIsBody?l:i.parent(),{source:t,target:t})},position:function(i){c(this.element).css(i)},getHeight:function(){c(this.element).css("height")},getWidth:function(){c(this.element).css("width")},getPosition:function(){var i=c(this.element);return{left:i.css("left"),top:i.css("top")}},content:function(){var i=c(this.contentEl),t=[].slice.call(arguments);if(!(0<t.length))return i.html();i.empty(),i.append(t[0])},resize:function(i){c(this.element).css(i),this._fixContent()},_scroll:function(i){var t=this,e=c(t.element),n=t._parentIsBody;t._pinned&&e.css({left:t.originalPosition.left+c(n?l:e.parent()).scrollLeft()+"px",top:t.originalPosition.top+c(n?l:e.parent()).scrollTop()+"px"})},_onPin:function(i){this.pinned(!this._pinned,i)},pinned:function(){var i=this,t=[].slice.call(arguments),e=c(i.element),n=i._parentIsBody,o=i.titleBarEl,s=0<o.find(".sui-window-button-icon-pin").length?o.find(".sui-window-button-icon-pin"):o.find(".sui-window-button-icon-unpin");if(t.length<=0)return i._pinned;o=!!t[0],i._pinned!=o&&(t[1]&&i.trigger("pin",{pinned:o}).isDefaultPrevented()||(i._pinned=o,s.removeClass("sui-window-button-icon-pin sui-window-button-icon-unpin"),s.addClass(i._pinned?"sui-window-button-icon-pin":"sui-window-button-icon-unpin"),i._pinned?(i.originalPosition=e.position(),c(n?l:e.parent()).on(a+"."+i._eventNS,b(i._scroll,i)),i.draggable&&i.draggable.enabled(!1)):(c(n?l:e.parent()).off(a+"."+i._eventNS),i.origininalPosition=null,i.draggable&&i.draggable.enabled(!0))))},_onMinimize:function(i){this.minimized(!0,i)},minimized:function(){var i,t=this,e=[].slice.call(arguments),n=c(t.element),o=c(t.contentEl),s=t.titleBarEl,l=t.titleBarButtons.minimize;if(e.length<=0)return t._minimized;i=!!e[0],t._minimized!=i&&(e[1]&&t.trigger("minimize",{minimized:i}).isDefaultPrevented()||(t._minimized=i,(e=0<s.find(".sui-window-button-icon-minimize").length?s.find(".sui-window-button-icon-minimize"):s.find(".sui-window-button-icon-unminimize")).removeClass("sui-window-button-icon-minimize sui-window-button-icon-unminimize"),e.addClass(t._minimized?"sui-window-button-icon-unminimize":"sui-window-button-icon-minimize"),i?(t._onMinCurrHeight=n.height(),n.height(s.height()),o.hide(),t.resizable&&t.resizable.enabled(!1)):(n.height(t._onMinCurrHeight),o.show(),t.resizable&&t.resizable.enabled(!0)),l&&l.visible(!i)))},_onMaximize:function(i){this._minimized?this.minimized(!1,i):this.maximized(!this._maximized,i)},maximized:function(){var i,t=this,e=[].slice.call(arguments),n=c(t.element),o=t._beforeMaximize,s=c(t.titleBarEl);if(!(0<e.length))return t._maximized;i=!!e[0],e=!!e[1],t._minimized&&t.minimized(!1,!1),t._maximized!=i&&(e&&t.trigger("maximize",{maximized:i}).isDefaultPrevented()||(t._maximized=!!i,(s=0<s.find(".sui-window-button-icon-maximize").length?s.find(".sui-window-button-icon-maximize"):s.find(".sui-window-button-icon-restore")).removeClass("sui-window-button-icon-maximize sui-window-button-icon-restore"),s.addClass(t._maximized?"sui-window-button-icon-restore":"sui-window-button-icon-maximize"),t._maximized?(t._beforeMaximize={top:n.css("top"),left:n.css("left"),width:n.width(),height:n.height()},t.resize({width:"100%",height:c(t._parentIsBody?l:n.parent()).height()}),t._lockScroll(),t.center(),t._parentIsBody&&c(l).on(r+"."+t._eventNS,b(t._onWinResizeMax,t))):(o&&(n.css({top:o.top,left:o.left}),t.resize({width:o.width,height:o.height})),t._unlockScroll(),t._parentIsBody&&(c(l).off(r+"."+t._eventNS),t._winResize=null))))},_onWinResizeMax:function(){c(this.element).height(c(l).height()),this._fixContent()},close:function(i){i&&this.trigger("close").isDefaultPrevented()||this.destroy()},visible:function(){var i=this,t=[].slice.call(arguments);if(!i._destroyed)return 0<t.length&&i.options.modal&&(t[0]?i._createModal():i._closeModal()),h.fn.visible.apply(i,arguments)},destroy:function(){var i=this,t=i.options.cls;i.visible(!1),i._destroyed=!0,i.resizable&&(i.resizable.destroy(),i.resizable=null),i.draggable&&(i.draggable.destroy(),i.draggable=null),i._destroyTitleBarButtons(),i.maximized(!1),i.pinned(!1),c(i.element).removeClass("sui-window"+(t?" "+t:"")),i._origHtml&&(c(i.element).html(i._origHtml),i._origHtml=null),h.fn.destroy.call(i)}});i.defaults=n,m.ui.plugin("Window",i)}(jQuery,shield,this);
!function(g,e,n){var m=e.ui.Widget,c=(e.Class,document),h=g.proxy,a=g.each,f=(g.extend,g.map),s=Math.min,o=Math.max,p=(e.guid,e.iid),v=e.error,d=e.format,_=e.is.defined,b=(e.is.boolean,e.is.integer,e.is.func,e.is.array,e.is.object,e.is.string,e.support.browser,"disabled"),F="multiple",y="change",I="dragover",L="dragleave",D="drop",r="select",P="remove",S="error",x="progress",C="load",l="upload",u="complete",T="POST",w="pending",U="uploading",E="complete",A="removing",B="error",i={pending:"&#10005;",uploading:"&#10754;",complete:"&#10005;",removing:"&#10754;",error:"&#10005;"},t="sui-upload",R=t+"-target-input",k=t+"-status",N=t+"-file",M=t+"-xhr",j=t+"-form",z=t+"-iframe",q={cls:n,enabled:!0,async:{enabled:!1,autoUpload:!1,batch:!1,save:{url:n,field:n},remove:{url:n,field:"fileNames",method:T}},multiple:!0,files:{enabled:!0,initial:n,template:"{name} ({size} bytes)"},messages:{drop:"Drop files here to upload",select:"Select files ...",upload:"Upload files"},events:{}},t=m.extend({init:function(){m.fn.init.apply(this,arguments);var e,t,i,a,s,o=this,n=o.options,l=n.dieOnError,r=n.cls,d=n.messages,u=n.files,p=u.enabled,f=u.initial,_=n.async.enabled;o._xhr2support=e=!!(new XMLHttpRequest).upload,o._original=t=g(o.element),"input"==t.prop("tagName").toLowerCase()&&"file"==t.attr("type").toLowerCase()?(s=o._eventNS=".shieldUpload"+o.getInstanceId(),t.wrap("<form>").closest("form").get(0).reset(),t.unwrap(),t.removeAttr(b),n.multiple?t.attr(F,F):t.removeAttr(F),o.element=u=t.wrap("<div/>").parent(),u.addClass("sui-upload"+(r?" "+r:"")),o._selectButtonDiv=t.wrap("<div/>").parent().append('<span class="sui-upload-button-text">'+d.select+"</span>").addClass("sui-upload-button"),o._dropFilesDiv=i=o._selectButtonDiv.wrap('<div class="sui-upload-dropfiles"/>').parent(),o._dropText=a=g('<div class="sui-upload-drop">'+d.drop+"</div>").appendTo(i).hide(),p&&(o._fileList=g('<ul class="sui-upload-files"/>').appendTo(u).hide()),o._uploadButtonDiv=g('<button class="sui-upload-button sui-upload-button-upload" type="button">'+d.upload+"</button>").appendTo(u).click(h(o._uploadClicked,o)).hide(),t.on(y+s,h(o._fileSelected,o)),_&&e&&(t.on(D+s,h(o._fileChanged,o)),g(c).on(I+s,function(e){e.stopPropagation(),e.preventDefault(),a.show()}).on(L+s,function(e){e.stopPropagation(),e.preventDefault(),a.hide()}).on(D+s,function(e){e.stopPropagation(),e.preventDefault(),a.hide()}),i.on(I,function(){i.addClass("sui-upload-dropfiles-hover")}).on(L,function(){i.removeClass("sui-upload-dropfiles-hover")}).on(D,h(o._fileChanged,o))),p&&f&&0<f.length&&o._addFiles(f,E),o.enabled(n.enabled)):v("shieldUpload: Must be initialized from an input with type file.",l)},refresh:function(e){this.refreshWithElement(this._original,e)},_getFiles:function(e){var t=[],i=g(e.target);return e.originalEvent.dataTransfer&&e.originalEvent.dataTransfer.files?t=e.originalEvent.dataTransfer.files:e.target.files?t=e.target.files:(t=g.makeArray(i.prop("files"))).length?!_(t[0].name)&&t[0].fileName&&a(t,function(e,t){t.name=t.fileName,t.size=t.fileSize}):t=(i=i.prop("value"))?[{name:i.replace(/^.*\\/,"")}]:[],t},_getPendingFileItems:function(){return g(this._fileList).children("li.sui-upload-file-"+w)},_getFileInfoList:function(e){return this._toFileInfoList(g(e).data(N))},_toFileInfoList:function(e){var t,i=[];if(this._isFileList(e))for(t=0;t<e.length;t++)i.push(e[t]);else i.push(e);return i},_isSingleFile:function(e){return e&&e.name},_isFileList:function(e){return e.length&&0<e.length},_fileSelected:function(e){var t=this,i=t.options,a=i.async.enabled,s=t._xhr2support,o=t._eventNS,n=g(e.target),l=t._getFiles(e);t.trigger(r,{files:t._toFileInfoList(l)}).isDefaultPrevented()||(e=g('<input type="file" name="'+n.attr("name")+'"/>').insertAfter(n).on(y+o,h(t._fileSelected,t)),i.multiple&&e.attr(F,F),a&&s&&e.on(D+o,h(t._fileChanged,t)),n.hide(),t._addFiles(l,w,n))},_fileChanged:function(e){var t=this,i=t._getFiles(e);e.stopPropagation(),e.preventDefault(),t._dropText.hide(),t._dropFilesDiv.removeClass("sui-upload-dropfiles-hover"),t.trigger(r,{files:t._toFileInfoList(i)}).isDefaultPrevented()||t._addFiles(i,w)},_addFiles:function(e,t,i){var a,s=this,o=s.options,n=o.async;if(o.files.enabled){if(n.enabled&&!n.batch||!o.multiple)for(a=0;a<e.length;a++)s._renderFile(e[a],t,i);else s._renderFile(e,t,i);s._afterAddRemoveFiles(),n.autoUpload&&s._uploadAllPending()}},_renderFile:function(e,t,i){var a,s=this,o=s.options,n=o.files.template,l=(s._fileList,s._toFileInfoList(e)),r=[],e=g('<li class="sui-upload-file"/>').data(N,e).appendTo(s._fileList);for(i&&e.data(R,i),a=0;a<l.length;a++)r.push(g('<span class="sui-upload-file-text"/>').append(d(n,l[a]))),a<l.length-1&&r.push(g('<span class="sui-upload-file-text-sep">,</span>'));o.async.enabled&&s._xhr2support?r.push(g('<span class="sui-upload-file-progress"/>')):e.addClass("sui-upload-file-no-progress"),r.push(g('<span class="sui-upload-file-action"/>').on("click",h(s._actionClicked,s,e))),e.append(r),s._setStatus(e,t),t===E&&s._setProgress(e,100)},_afterAddRemoveFiles:function(){var e=this.options.async,t=this._fileList,i=this._uploadButtonDiv;0<t.children("li").length?t.show():t.hide(),0<this._getPendingFileItems().length?e.enabled&&!e.autoUpload&&i.show():i.hide()},_actionClicked:function(e,t){var i=this,a=i._getStatus(e);i._enabled&&(a==U?i._abortUpload(e,t):a==A?i._abortRemove(e,t):i._removeItem(e,t))},_removeItem:function(a,s){var o,n=this,e=(n.options,n.options.async),t=e.remove,i=n._getStatus(a),l=n._getFileInfoList(a),r=a.data(R),d=n._eventNS,u={},p=n.trigger(P,{domEvent:s,status:i,files:l});p.isDefaultPrevented()||(o=function(){g(r)[0]===g(n._original)[0]?g(r).hide().attr(b,b):g(r).off(d).remove(),g(a).off(d).remove(),n._afterAddRemoveFiles()},i==w||i==B?o():i==E&&(e.enabled?(n._setStatus(a,A),u[t.field]=f(l,function(e){return e.name}),g.support.cors=!0,g.ajax({method:t.method,url:t.url,traditional:!0,data:u}).done(function(e,t,i){o()}).fail(function(e,t,i){n.trigger(S,{domEvent:s,operation:P,listItem:a,files:l,jqXHR:e,textStatus:t,errorThrown:i,responseText:i});p.isDefaultPrevented()||n._setStatus(a,B)})):o()))},_abortRemove:function(e,t){},_setStatus:function(e,t){g(e).data(k,t).removeClass("sui-upload-file-pending sui-upload-file-uploading sui-upload-file-complete sui-upload-file-removing sui-upload-file-error").addClass("sui-upload-file-"+t).children(".sui-upload-file-action").first().html(i[t]),this._afterAddRemoveFiles()},_getStatus:function(e){return g(e).data(k)},_uploadAllPending:function(){var e,t,i=this,a=(i.options.async,i._getPendingFileItems()),s=(a||[]).length,o=[];if(!(s<1)){for(t=0;t<s;t++)e=g(a[t]).data(N),i._isSingleFile(e)?o.push(e):i._isFileList(e)&&(o=o.concat(e));if(!i.trigger(l,{files:o}).isDefaultPrevented())for(t=0;t<s;t++)i._startUpload(a[t])}},_startUpload:function(e){var t,i,a,s,o,n,l=this,r=l.options.async.save,d=r.field,u=l._getFileInfoList(e);if(_(d)||(d=g(l._original).attr("name")),l._setProgress(e,0),l._xhr2support){for(t=new FormData,i=new XMLHttpRequest,n=0;n<u.length;n++)t.append(d,u[n]);g(e).data(M,i),i.open(T,r.url),i.upload.addEventListener(x,h(l._onUploadProgress,l,e)),i.upload.addEventListener(C,h(l._onUploadComplete,l,e)),i.upload.addEventListener(S,h(l._onUploadError,l,e)),i.onreadystatechange=function(){4==i.readyState&&200!=i.status&&l._onUploadError(e)},i.send(t)}else(o=g(e).data(R))&&(a="shieldUploadIframe"+p(),s=g('<iframe name="'+a+'" id="'+a+'" class="sui-upload-iframe" width="0" height="0" tabindex="-1"/>').appendTo(c.body),g(s).on(C,h(l._onIframeComplete,l,e)),o=g('<form class="sui-upload-form" method="POST" enctype="multipart/form-data" action="'+r.url+'" target="'+a+'" tabindex="-1"/>').appendTo(c.body).append(o),g(e).data(z,s).data(j,o),o.get(0).submit());l._setStatus(e,U)},_abortUpload:function(e,t){var i,a=this;a._xhr2support?((i=g(e).data(M))&&i.abort(),g(e).removeData(M)):a._cleanupIframeForm(e),a._setStatus(e,w),a._setProgress(e,0),a.trigger("abort",{listItem:e,files:a._getFileInfoList(e)})},_cleanupIframeForm:function(e){var t=g(e).data(z),i=g(e).data(j),a=g(e).data(R);t&&g(t).attr("src","about:blank"),i&&(a&&g(a).prependTo(this._selectButtonDiv),g(i).remove(),g(e).removeData(j)),t&&(g(t).remove(),g(e).removeData(z))},_setProgress:function(e,t){e=g(e).children(".sui-upload-file-progress").first();e&&0<e.length&&e.empty().append(g('<span class="sui-upload-file-progress-inner"/>').css("width",t+"%"))},_onUploadProgress:function(e,t){var i=t.lengthComputable?s(100,o(0,t.loaded/t.total*100)):n;_(i)&&this._setProgress(e,i),this.trigger(x,{domEvent:t,percentage:i,listItem:e,files:this._getFileInfoList(e)})},_onUploadComplete:function(e){this._setStatus(e,E),this._setProgress(e,100),g(e).removeData(M),this.trigger(u,{listItem:e,files:this._getFileInfoList(e)})},_onIframeComplete:function(e,t){var i=this,a=g(e).data(z),s=i._getFileInfoList(e),o="";if(a){try{o=g(a).contents().find("body").html()}catch(e){o=e?e.description||e.message:""}o?i.trigger(S,{domEvent:t,operation:l,listItem:e,files:s,status:n,responseText:o}).isDefaultPrevented()||(i._setStatus(e,B),i._setProgress(e,0)):(i._setStatus(e,E),i._setProgress(e,100),i.trigger(u,{listItem:e,files:s})),i._cleanupIframeForm(e)}},_onUploadError:function(e,t){var i,a,s=this,o=s._getStatus(e),n=g(e).data(M);o!==B&&(n&&(n.readyState,i=n.status,a=n.responseText,n.statusText),g(e).removeData(M),s.trigger(S,{domEvent:t,operation:l,listItem:e,files:s._getFileInfoList(e),status:i,responseText:a}).isDefaultPrevented()||(s._setStatus(e,B),s._setProgress(e,0)))},_uploadClicked:function(e){this._enabled&&this._uploadAllPending()},enabled:function(){var e,t=g(this.element),i=[].slice.call(arguments);if(!(0<i.length))return this._enabled;e=!!i[0],i=t.find('input[type="file"]').filter(":visible"),e?(t.removeAttr(b).removeClass("sui-upload-disabled"),g(i).removeAttr(b)):(t.attr(b,b).addClass("sui-upload-disabled"),g(i).attr(b,b)),this._enabled=e},destroy:function(){var e=this,t=g(e.element),i=g(e._original),a=e._eventNS;g(c).off(a),g(t).find('input[type="file"]').off(a),g(t).find('input[type="file"]').not(i).remove(),e._uploadButtonDiv&&(g(e._uploadButtonDiv).remove(),e._uploadButtonDiv=null),e._dropText&&(g(e._dropText).remove(),e._dropText=null),e._fileList&&(g(e._fileList).remove(),e._fileList=null),g(t).find(".sui-upload-button-text").remove(),g(i).unwrap(),g(i).unwrap(),g(i).unwrap(),e._selectButtonDiv=e._dropFilesDiv=null,g(i).removeAttr(b).show(),m.fn.destroy.call(e)}});t.defaults=q,e.ui.plugin("Upload",t)}(jQuery,shield);
!function(h,d,t,r){function u(e,t,n,i){if(i)try{e.execCommand(t,!1,n)}catch(e){}else e.execCommand(t,!1,n)}var l,f,n,i,o,a,c=d.ui.Widget,e=d.Class,m=(d.Constants.KeyCode,document),p=h.proxy,s=(h.each,h.extend),g=(h.map,h.contains),x=(h.trim,d.error,d.guid),v=d.format,_=d.is.defined,y=(d.is.boolean,d.is.integer,d.is.func),b=(d.is.array,d.is.object,d.is.string),T=d.to.string,w=d.to.int,C=d.support.browser,S="disabled",E="click",k="keyup",B="keydown",N="formatting",R="text-formatting",I="font-and-colors",D="alignment",L="lists",V="links",A="sui-editor",P="styleWithCSS",F="about",O="About",W="&#x44;&#x65;&#x6D;&#x6F;&#x20;&#x76;&#x65;&#x72;&#x73;&#x69;&#x6F;&#x6E;&#x20;&#x62;&#x79;";W+="&#x20;&#x3C;&#x61;&#x20;&#x68;&#x72;&#x65;&#x66;&#x3D;&#x22;&#x68;&#x74;&#x74;&#x70;&#x3A;&#x2F;&#x2F;&#x77;&#x77;&#x77;&#x2E;&#x73;&#x68;",l=function(n,i){var e,r,t,a;function o(e){e?this.range=i.selection.createRange():(this.range=i.body.createTextRange(),this.collapse(!0)),this.init()}function s(){this.selection=i.selection,this.ranges=[],this.init()}!n.getSelection&&i.selection&&(e=null,n.getSelection=function(){return null!=e?e:e=new t},i.createRange=function(){return new r},i.attachEvent("onkeydown",function(){return n.getSelection().setRangeAt(0,new r(!0))}),i.attachEvent("onselectionchange",function(){var e,t;try{t=new r(!0)}catch(e){}if(t)return n.getSelection().setRangeAt(0,t),"INPUT"===(e=i.selection.createRange().parentElement()).tagName||"TEXTAREA"===e.tagName?(t=n.getSelection().getRangeAt(0),e.selectionStart=t.selectionStart,e.selectionEnd=t.selectionEnd,e.selectionEnd):void 0}),r=n.Range=(o.END_TO_END="EndToEnd",o.END_TO_START="EndToStart",o.START_TO_END="StartToEnd",o.START_TO_START="StartToStart",o.prototype.init=function(){var e,t,n,i=this,o=i.range.parentElement();return i.commonAncestorContainer=o,i.collapsed=0===i.compareBoundaryPoints("StartToEnd",i),(n=i.range.duplicate()).moveToElementText(o),e=0<i.range.text.length?0:1,t=a.findLength("StartToStart",n,i.range),t=a.findNodeByPos(o,t,e),i.startContainer=t.el,i.startOffset=t.offset,e=a.findLength("StartToEnd",n,i.range),t=a.findNodeByPos(o,e,1),i.endContainer=t.el,i.endOffset=t.offset,i.selectionStart=a.findLength("StartToStart",n,i.range,i),i.selectionEnd=a.findLength("StartToEnd",n,i.range,i),i.selectionEnd},o.prototype.select=function(){return this.range.select()},o.prototype.setStart=function(e,t){var n,i;if(a.getText(e).length>=t&&0<=t)return i=this.range.duplicate(),3===e.nodeType&&(n=a.findPosFromNode(e),i.moveToElementText(e.parentNode),i.moveStart("character",n+t)),-1===this.range.compareEndPoints("StartToEnd",i)&&this.range.setEndPoint("EndToStart",i),this.range.setEndPoint("StartToStart",i)},o.prototype.setEnd=function(e,t){var n,i;if(a.getText(e).length>=t&&0<=t)return i=this.range.duplicate(),3===e.nodeType&&(n=a.findPosFromNode(e),i.moveToElementText(e.parentNode),i.moveStart("character",n+t)),this.range.setEndPoint("EndToStart",i)},o.prototype.selectNodeContents=function(e){return this.range.moveToElementText(e)},o.prototype.collapse=function(e){return e?this.range.setEndPoint("EndToStart",this.range):this.range.setEndPoint("StartToEnd",this.range)},o.prototype.deleteContents=function(){},o.prototype.insertNode=function(e){e=e.outerHTML||h(i.createElement("div")).append(h(e).clone()).html();this.range.pasteHTML(e)},o.prototype.compareBoundaryPoints=function(e,t){return this.range.compareEndPoints(e,t.range)},o.prototype.cloneRange=function(){var e=new o;return e.range=this.range.duplicate(),e.init(),e},o.prototype.detach=function(){return delete this.range},o.prototype.getBoundingClientRect=function(){var e=this.range.getBoundingClientRect();return{width:e.right-e.left,height:e.bottom-e.top,left:e.left,right:e.right,bottom:e.bottom,top:e.top}},o.prototype.toString=function(){return this.range.text||""},o),s.prototype.init=function(){var e,t,n,i,o=this;if(o.rangeCount=o.ranges.length,o.rangeCount)return t=o.ranges[0],null==o.prev&&(o.prev=t),i=0===t.compareBoundaryPoints(r.END_TO_END,o.prev)?(e=(n=["end","start"])[0],n[1]):(e=(i=["start","end"])[0],i[1]),o.anchorNode=t[e+"Container"],o.anchorOffset=t[e+"Offset"],o.focusNode=t[i+"Container"],o.focusOffset=t[i+"Offset"],o.isCollapsed=o.anchorNode===o.focusNode,o.isCollapsed},s.prototype.getRangeAt=function(e){return this.ranges[e]},s.prototype.setRangeAt=function(e,t){return this.prev=this.ranges[e],this.ranges[e]=t,this.init()},s.prototype.removeAllRanges=function(){return this.ranges=[],this.init()},s.prototype.addRange=function(e){var t,n,i,o,r;for(this.ranges.push(e),this.init(),r=[],n=0,i=(o=this.ranges).length;n<i;n++)t=o[n],r.push(t.select());return r},s.prototype.deleteFromDocument=function(){return this.selection.clear()},s.prototype.toString=function(){return this.ranges[0].toString()},t=s,a={convertLineBreaks:function(e){return e.replace(/\r\n/g,"\n")},stripLineBreaks:function(e){return e.replace(/\r\n/g,"")},getText:function(e){return e.innerText||e.nodeValue},findLength:function(e,t,n,i){var o=t.duplicate();switch(e){case"StartToStart":o.setEndPoint("EndToStart",n);break;case"StartToEnd":o.setEndPoint("EndToEnd",n)}return(i?a.convertLineBreaks(o.text):a.stripLineBreaks(o.text)).length},findNodeByPos:function(e,t,n){var u;return(u=function(e,t,n,i){for(var o,r=e.childNodes,a=[],s=0,l=r.length;s<l;s++)if(o=r[s],!i.found)if(3===o.nodeType){if(i.length+o.length+n>t){i.found=!0,i.el=o,i.offset=t-i.length;break}a.push(i.length+=o.length)}else a.push(u(o,t,n,i));return a})(e,t,n=null==n?0:n,e={length:0,el:e,offset:0}),e},findPosFromNode:function(e){var t={pos:0},n=e.parentNode,l=function(e,t,n){for(var i,o=e.childNodes,r=[],a=0,s=o.length;a<s;a++)if(i=o[a],!n.found){if(i===t){n.found=!0;break}3===i.nodeType?r.push(n.pos+=i.length):i.hasChildNodes()?r.push(l(i,t,n)):r.push(void 0)}return r};return l(n,e,t),t.pos}})},W+="&#x69;&#x65;&#x6C;&#x64;&#x75;&#x69;&#x2E;&#x63;&#x6F;&#x6D;&#x22;&#x20;&#x74;&#x61;&#x72;&#x67;&#x65;&#x74;&#x3D;&#x22;&#x5F;&#x62;&#x6C;&#x61;&#x6E;&#x6B;&#x22;&#x3E;&#x53;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x20;&#x55;&#x49;&#x3C;&#x2F;&#x61;&#x3E;",(f=e.extend({init:function(e,t){var n=this;n._editor=e,b(t)?a[t]?(n.options=s(!0,{},a[t]),n._default=!0):n.options={name:t}:n.options=s(!0,{},t)},_renderButton:function(e){var t=this,n=t._editor,i=t.options,o=i.name,r=i.tooltip||n.options.messages[o]||"",n=i.cls||(t._default?"sui-editor-toolbar-icon sui-editor-toolbar-icon-"+o.toLowerCase():""),o=s(!0,{cls:"sui-editor-toolbar-item sui-editor-toolbar-button",events:{click:function(e){t.execute(e)}}},i.controlOptions);t._widget=h('<button type="button" title="'+r+'"/>').append(i.text||"<span"+(n?' class="'+n+'"':"")+">&nbsp;</span>").appendTo(e).shieldButton(o).swidget()},render:function(e){var t=this.options,n=t.template;_(n)?(t=v.call(this._editor,n,t))&&h(t).appendTo(e):this._renderButton(e)},execute:function(e){function t(){r._afterCommand(e,i,n.getState())}var n=this,i=n.options,o=i.exec,r=n._editor;y(o)?o.call(r,i,t):n.executeCommand(t)},executeCommand:function(e){var t=this.options,n=t.styleWithCSS,i=this._editor,o=i.getDoc();i.focus(!0),n&&u(o,P,!0,!0),u(o,t.name,this.getValue()),n&&u(o,P,!1,!0),y(e)&&e.call(this)},getValue:function(){},setValue:function(e){},getState:function(){var e,t,n,i,o=this.options,r=o.name,a=o.styleWithCSS,s=this._editor.getDoc(),o=!0;a&&u(s,P,!0,!0);try{o=s.queryCommandIndeterm(r)}catch(e){}try{e=s.queryCommandEnabled(r)}catch(e){}if(!o)try{t=s.queryCommandState(r)}catch(e){}try{n=s.queryCommandSupported(r)}catch(e){}try{i=s.queryCommandValue(r)}catch(e){}return a&&u(s,P,!1,!0),{enabled:e,state:t,supported:n,value:i}},getWidget:function(){return this._widget},refresh:function(){var e,t=this._widget;this._default&&((e=this.getState()).enabled?(t.visible(!0),this.setValue(e)):t.visible(!1))},destroy:function(){var e=this;e._widget&&y(e._widget.destroy)&&e._widget.destroy(),e._default=e._widget=r}})).getInstance=function(e,t){var n="";return b(t)?a[t]&&(n=a[t].controlType):n=t.controlType,new(n=n||f)(e,t)},d.ui.EditorCommand=f,n=f.extend({}),d.ui.EditorCommand=f,i=n.extend({init:function(e,t){n.fn.init.call(this,e,t),s(!0,this.options,{controlOptions:{toggle:!0}})},getValue:function(){return!!this._widget.checked()},setValue:function(e){this._widget.checked(!!e.state)}}),d.ui.EditorCommandToggleButton=i,o=f.extend({render:function(e){var t=this,n=t._editor,i=t.options,n=i.tooltip||n.options.messages[i.name]||"",i=s(!0,{cls:"sui-editor-toolbar-item sui-editor-toolbar-select",events:{itemclick:function(e){t.execute(e)}}},i.controlOptions);t._widget=h('<select title="'+n+'"/>').appendTo(e).shieldComboBox(i).swidget()},getValue:function(){return this._widget.value()},setValue:function(e){this._widget.value(e.value)}}),W=(d.ui.EditorCommandComboBox=o).extend({init:function(e,t){o.fn.init.call(this,e,t),s(!0,this.options,{controlOptions:{editable:!1}})}}),d.ui.EditorCommandDropDown=W,e=f.extend({render:function(e){var t=this,n=t._editor,i=t.options,o=i.tooltip||n.options.messages[i.name]||"",i=s(!0,{cls:"sui-editor-toolbar-item sui-editor-toolbar-colorpicker",events:{select:function(e){this.hidePalette(),t.execute(e),setTimeout(function(){n.focus()})}}},i.controlOptions);t._widget=h('<input type="color" title="'+o+'"/>').appendTo(e).shieldColorPicker(i).swidget()},getValue:function(){return this._widget.value().hex()},setValue:function(e){this._widget.value(e.value)}}),d.ui.EditorCommandColorPicker=e,a={formatBlock:{name:"formatBlock",group:N,controlType:W,controlOptions:{valueTemplate:"{value}",textTemplate:"{text}",dataSource:{data:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}]}}},removeFormat:{name:"removeFormat",group:N,controlType:n},fontName:{name:"fontName",group:I,styleWithCSS:!0,controlType:W.extend({setValue:function(e){var t,n=this._widget,i=e.value;if(n.value(i),n.selected()<0)for(t=0;t<n.dataSource.view.length;t++)if(n.dataSource.view[t].text==i){n.selected(t);break}n.selected()<0&&n.selected(0)}}),controlOptions:{valueTemplate:"{value}",textTemplate:"{text}",value:"",dataSource:{data:[{text:"Inherited",value:""},{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:'"Courier New",Courier,monospace'},{text:"Georgia",value:"Georgia,serif"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:'"Times New Roman",Times,serif'},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}]}}},fontSize:{name:"fontSize",group:I,controlType:W.extend({setValue:function(e){this._widget.value(T(e.value)||"")}}),controlOptions:{valueTemplate:"{value}",textTemplate:"{text}",value:"inherit",dataSource:{data:[{text:"Inherited",value:""},{text:"1 (8pt)",value:"1"},{text:"2 (10pt)",value:"2"},{text:"3 (12pt)",value:"3"},{text:"4 (14pt)",value:"4"},{text:"5 (18pt)",value:"5"},{text:"6 (24pt)",value:"6"},{text:"7 (36pt)",value:"7"}]}}},foreColor:{name:"foreColor",group:I,controlType:e,controlOptions:{value:"transparent",palette:"basic",showLetter:!0}},backColor:{name:"backColor",group:I,styleWithCSS:!0,controlType:e,controlOptions:{value:"transparent",palette:"basic"}},bold:{name:"bold",group:R,controlType:i},italic:{name:"italic",group:R,controlType:i},underline:{name:"underline",group:R,controlType:i},strikeThrough:{name:"strikeThrough",group:R,controlType:i},subscript:{name:"subscript",group:R,controlType:i},superscript:{name:"superscript",group:R,controlType:i},justifyLeft:{name:"justifyLeft",group:D,controlType:i.extend({setValue:function(e){this._widget.checked(!!(C.ie?e.value:e.state))}})},justifyCenter:{name:"justifyCenter",group:D,controlType:i.extend({setValue:function(e){this._widget.checked(!!(C.ie?e.value:e.state))}})},justifyRight:{name:"justifyRight",group:D,controlType:i.extend({setValue:function(e){this._widget.checked(!!(C.ie?e.value:e.state))}})},justifyFull:{name:"justifyFull",group:D,controlType:i.extend({setValue:function(e){this._widget.checked(!!(C.ie?e.value:e.state))}})},insertUnorderedList:{name:"insertUnorderedList",group:L,controlType:n},insertOrderedList:{name:"insertOrderedList",group:L,controlType:n},indent:{name:"indent",group:L,controlType:n},outdent:{name:"outdent",group:L,controlType:n},createLink:{name:"createLink",group:V,controlType:n.extend({executeCommand:function(o){var r=this,a=r._editor,s=x(),l=new d.ui.Window(h('<div id="'+s+'"/>'),{cls:"sui-editor-dialog sui-editor-dialog-insertimage",title:"Insert Hyperlink",titleBarButtons:["close"],modal:!0,height:220,content:{template:{body:function(){return[h('<div style="padding:5px; margin-top:10px;"/>').append(h("<label>URL</label>"),h('<input type="text" value="http://" id="url_'+s+'" class="sui-input" style="width:220px;"/>')),h('<div style="padding:5px;"/>').append(h("<label>Tooltip</label>"),h('<input type="text" value="" id="title_'+s+'" class="sui-input" style="width:220px;"/>')),h('<div style="padding:5px;"/>').append(h("<label>New window</label>"),h('<input type="checkbox" id="newwin_'+s+'"/>')),h('<div class="sui-editor-dialog-buttons"/>').append(new d.ui.Button(h("<button>Insert</button>"),{events:{click:function(){a.focus(!0),u(a.getDoc(),"createLink",s);var e=h(a.element).find('a[href="'+s+'"]'),t=h("#url_"+s).val(),n=(h("#text_"+s).val(),h("#title_"+s).val()),i=h("#newwin_"+s).swidget().checked();h(e).attr("href",t),n&&h(e).attr("title",n),i&&h(e).attr("target","_blank"),l.close(),h("#"+s).remove(),y(o)&&o.call(r)}}}).element,new d.ui.Button(h("<button>Cancel</button>"),{events:{click:function(){l.close(),h("#"+s).remove(),y(o)&&o.call(r)}}}).element)]}}},appendToBody:!0,events:{close:function(){h("#"+s).remove(),y(o)&&o.call(r)}}});h("#newwin_"+s).shieldCheckBox()}})},unlink:{name:"unlink",group:V,controlType:n},insertImage:{name:"insertImage",group:"insert-img",controlType:i.extend({_getSelectedImg:function(){var e=this._editor.getSelection(),t=e&&"Range"==e.type?e.anchorNode:null,n=null!=t&&0<h(t).length?(h(t).prop("tagName")+"").toLowerCase():null,e=null;return"img"==n?e=t:"p"==n||"div"==n?(e=h(t).children("img").first()).length<=0&&(e=null):"body"==n&&(e=h(t).find("img").first()).length<=0&&(e=null),e},getState:function(){var e=this._getSelectedImg(),t=i.fn.getState.call(this);return e&&(t.state=!0),t},executeCommand:function(o){var r=this,a=r._editor,s=r._getSelectedImg(),l=x(),u=new d.ui.Window(h('<div id="'+l+'"/>'),{cls:"sui-editor-dialog sui-editor-dialog-insertimage",title:"Insert Image",titleBarButtons:["close"],modal:!0,height:260,content:{template:{body:function(){var e="http://",t="",n="",i="";return s&&0<h(s).length&&(e=h(s).attr("src"),t=h(s).attr("alt"),h(s).attr("width")?n=+h(s).attr("width"):(n=h(s).get(0).style&&h(s).get(0).style.width?h(s).get(0).style.width+"":h(s).css("width")+"",/px/i.test(n)&&(n=w(n))),h(s).attr("height")?i=+h(s).attr("height"):(i=h(s).get(0).style&&h(s).get(0).style.height?h(s).get(0).style.height+"":h(s).css("height")+"",/px/i.test(i)&&(i=w(i)))),[h('<div style="padding:5px; margin-top:10px;"/>').append(h("<label>URL</label>"),h('<input type="text" value="'+e+'" id="url_'+l+'" class="sui-input" style="width:220px;"/>')),h('<div style="padding:5px;"/>').append(h("<label>Alternate text</label>"),h('<input type="text" value="'+t+'" id="alt_'+l+'" class="sui-input" style="width:220px;"/>')),h('<div style="padding:5px;"/>').append(h("<label>Width</label>"),h('<input type="text" value="'+n+'" id="width_'+l+'" class="sui-input" style="width:80px;"/>')),h('<div style="padding:5px;"/>').append(h("<label>Height</label>"),h('<input type="text" value="'+i+'" id="height_'+l+'" class="sui-input" style="width:80px;"/>')),h('<div class="sui-editor-dialog-buttons"/>').append(new d.ui.Button(h("<button>Insert</button>"),{events:{click:function(){var e=h("#alt_"+l).val(),t=h("#width_"+l).val(),n=h("#height_"+l).val(),i='<img src="'+h("#url_"+l).val()+'"'+(e?' alt="'+e+'"':""),e="";/[a-zA-Z]/.test(t)?e+=" width:"+t+";":t&&(i+=' width="'+t+'"'),/[a-zA-Z]/.test(n)?e+=" height:"+n+";":n&&(i+=' height="'+n+'"'),a.paste(i+=(e?' style="'+e+'"':"")+" />"),u.close(),h("#"+l).remove(),y(o)&&o.call(r)}}}).element,new d.ui.Button(h("<button>Cancel</button>"),{events:{click:function(){u.close(),h("#"+l).remove(),y(o)&&o.call(r)}}}).element)]}}},appendToBody:!0,events:{close:function(){h("#"+l).remove(),y(o)&&o.call(r)}}})}})},about:{name:F,group:"view-"+F,tooltip:O,controlType:n.extend({refresh:function(){},executeCommand:function(e){var t=this,n=x(),i=new d.ui.Window(h('<div id="'+n+'"/>'),{cls:"sui-editor-dialog sui-editor-dialog-"+F,title:O,titleBarButtons:["close"],modal:!0,height:170,content:{template:{body:function(){return[h('<div style="text-align:center; margin-top:30px; margin-bottom:20px;"/>').append(h("<div/>").html("&#x44;&#x65;&#x6D;&#x6F;&#x20;&#x76;&#x65;&#x72;&#x73;&#x69;&#x6F;&#x6E;&#x20;&#x62;&#x79;&#x20;&#x3C;&#x61;&#x20;&#x68;&#x72;&#x65;&#x66;&#x3D;&#x22;&#x68;&#x74;&#x74;&#x70;&#x3A;&#x2F;&#x2F;&#x77;&#x77;&#x77;&#x2E;&#x73;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x75;&#x69;&#x2E;&#x63;&#x6F;&#x6D;&#x22;&#x20;&#x74;&#x61;&#x72;&#x67;&#x65;&#x74;&#x3D;&#x22;&#x5F;&#x62;&#x6C;&#x61;&#x6E;&#x6B;&#x22;&#x3E;&#x53;&#x68;&#x69;&#x65;&#x6C;&#x64;&#x20;&#x55;&#x49;&#x3C;&#x2F;&#x61;&#x3E;").text()),h('<div class="sui-editor-dialog-buttons"/>').append(new d.ui.Button(h("<button>Close</button>"),{events:{click:function(){i.close(),h("#"+n).remove(),y(e)&&e.call(t)}}}).element)]}}},appendToBody:!0,events:{close:function(){h("#"+n).remove(),y(e)&&e.call(t)}}})}})},viewHtml:{name:"viewHtml",group:"view-html",controlType:n.extend({refresh:function(){},executeCommand:function(e){var t=this,n=t._editor,i=x(),o=function(){h("#"+i+" textarea").outerHeight(h("#"+i+" .sui-window-content").innerHeight()-h("#"+i+" .sui-editor-dialog-buttons").outerHeight()-10)},r=new d.ui.Window(h('<div id="'+i+'"/>'),{cls:"sui-editor-dialog sui-editor-dialog-viewhtml",title:"View HTML",titleBarButtons:["close"],modal:!0,resizable:{events:{resize:o}},content:{template:{body:function(){return[h("<div/>").append(h('<textarea class="sui-input"/>').val(n.value())),h('<div class="sui-editor-dialog-buttons"/>').append(new d.ui.Button(h("<button>Update</button>"),{events:{click:function(){n.value(h("#"+i+" textarea").val()),r.close(),h("#"+i).remove(),y(e)&&e.call(t)}}}).element,new d.ui.Button(h("<button>Cancel</button>"),{events:{click:function(){r.close(),h("#"+i).remove(),y(e)&&e.call(t)}}}).element)]}}},appendToBody:!0,events:{close:function(){h("#"+i).remove(),y(e)&&e.call(t)}}});o()}})}},L={cls:r,enabled:!0,domain:r,height:r,commands:["formatBlock","bold","italic","underline","justifyLeft","justifyCenter","justifyRight","insertUnorderedList","insertOrderedList","createLink","unlink","insertImage"],messages:{formatBlock:"Format",removeFormat:"Remove formatting",fontName:"Font family",fontSize:"Font size",foreColor:"Font color",backColor:"Text highlight color",bold:"Bold",italic:"Italic",underline:"Underline",strikeThrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyLeft:"Align text left",justifyCenter:"Center text",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Add indentation",outdent:"Remove indentation",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",viewHtml:"View HTML"},events:{}},(V=c.extend({init:function(){c.fn.init.apply(this,arguments),_(this.initialOptions.commands)&&(this.options.commands=this.initialOptions.commands);var e,t,n,i=this,o=h(i.element),r=i.options,a=(r.dieOnError,r.cls),s=r.height;i._original=e=h(i.element),i._tagname=t=e.prop("tagName").toLowerCase(),n=i._eventNS=".shieldEditor"+i.getInstanceId(),"textarea"==t?(i._inline=!1,i._wrapper=e.wrap('<div class="'+A+" "+A+"-default"+(a?" "+a:"")+'"/>').parent(),e.hide(),i._iframe=s=h('<iframe class="sui-editor-iframe" frameborder="0"'+(_(s)?' height="'+s+'"':"")+"/>").appendTo(i._wrapper),i.value(e.val(),!0),i.element=o=s.contents().find("body")):(i._inline=!0,o.addClass(A+" "+A+"-inline"+(a?" "+a:"")).attr("autocorrect","off").prop("contentEditable","true")),i._initEvents(),l(i.getWin(),i.getDoc()),i._initToolbar(),h(m).on(E+n,p(i._docClick,i)),i.enabled(r.enabled)},refresh:function(e){this.refreshWithElement(this._original,e)},_isInside:function(e){var t=h(this.element),n=h(this._toolbar);return t.get(0)===e||n.get(0)===e||g(t.get(0),e)||g(n.get(0),e)},_saveSelections:function(){var e,t;if(!this._inline&&(this._savedSelections=[],(e=this.getSelection()).rangeCount))for(t=0;t<e.rangeCount;t++)this._savedSelections.push(e.getRangeAt(t))},_restoreSelections:function(){var e,t,n=this;if(!n._inline){if(n._savedSelections&&0<n._savedSelections.length)for((e=n.getSelection()).removeAllRanges(),t=0;t<n._savedSelections.length;t++)e.addRange(n._savedSelections[t]);n._savedSelections=[]}},_focus:function(e){var t=this,n=h(t.element),i=h(t._toolbar);t._inline&&(i.show(),n.addClass("sui-editor-inline-focus"),t._toolbarMoved||(i.outerWidth(n.outerWidth()),d.ui.Position.Set(i,n,{source:"left bottom",target:"left top"}))),t._restoreSelections(),t.refreshCommands()},_blur:function(e){this._saveSelections(),this._syncValue()},_click:function(e){this.refreshCommands(),this._syncValue()},_docClick:function(e){this._inline&&!this._isInside(e.target)&&this._hideToolbar()},_keydown:function(e){this.trigger(B,{domEvent:e})},_keyup:function(e){this.refreshCommands(),this._syncValue(),this.trigger(k,{domEvent:e})},_syncValue:function(){var e=[].slice.call(arguments);this._inline||(e=0<e.length?e[0]:h(this.getDoc().body).html(),h(this._original).val(e))},_hideToolbar:function(){this._toolbar.hide(),this.element.removeClass("sui-editor-inline-focus")},_initToolbar:function(){var e,t,n,i,o,r,a=this,s=a.options.commands,l=a._inline,u=[],d=[],c={};for(a._toolbar=e=h('<div class="sui-editor-toolbar"/>'),l?(e.addClass("sui-editor-toolbar-inline").appendTo(m.body),e.shieldDraggable().swidget().one("drag",function(){a._toolbarMoved=!0}),a._toolbarMoved=!1):e.prependTo(a._wrapper),r=0;r<s.length;r++)u.push(f.getInstance(a,s[r]));for(u.push(f.getInstance(a,F)),r=0;r<u.length;r++)c[u[r].options.group]||(c[u[r].options.group]=[],d.push(u[r].options.group)),c[u[r].options.group].push(u[r]);for(a._commands=[],r=0;r<d.length;r++)for(var p=d[r],g=0;g<c[p].length;g++)t=c[p][g],o=p&&n===p?i:h('<div class="sui-editor-toolbar-group"/>').appendTo(e),t.render(o),a._commands.push(t),n=p,i=o;l&&e.hide()},_afterCommand:function(e,t,n){this._syncValue(),this.refreshCommands(),this.trigger("execute",{domEvent:e,commandName:t.name,state:n})},refreshCommands:function(){var e,t=this,n=t._commands||[];if(!t._refreshInProgress){for(t.focus(!0),t._refreshInProgress=!0,e=0;e<n.length;e++)n[e].refresh();t._refreshInProgress=!1}},_getWrapper:function(){return this._inline?this.element:this._wrapper},getWin:function(){var e;return this._inline?t:(e=h(this._iframe).get(0)).contentWindow||e.contentDocument},getDoc:function(){var e;return this._inline?m:((e=h(this._iframe).get(0)).contentWindow||e.contentDocument).document},focus:function(e){var t,n=this;e&&!n._refreshInProgress&&(t=n._refreshInProgress=!0),h(n._inline?n.element:n.getDoc().body).focus(),!n._inline&&C.ie&&n._focus(),t&&(n._refreshInProgress=!1)},execute:function(e,t){u(this.getDoc(),e,t)},createRange:function(){return this.getDoc().createRange()},getRange:function(){return this.focus(!0),this.getSelection().getRangeAt(0)},getSelection:function(){return this.getWin().getSelection()},selectRange:function(e){var t=this.getSelection();this.focus(!0),t.removeAllRanges(),t.addRange(e),this.refreshCommands()},paste:function(e){var t,n,i,o=this,r=o.getDoc(),a=o.getRange();for(o.focus(!0),a.deleteContents(),(t=r.createElement("div")).innerHTML=e,n=r.createDocumentFragment();i=t.firstChild;)n.appendChild(i);a.insertNode(n),o._syncValue(),o.refreshCommands()},update:function(){this._syncValue()},_initEvents:function(e){var t=this,n=t._eventNS,i=C.ie;_(e)||(e=t._inline?t.element:i?t.getWin():t.getDoc()),i&&(t.getDoc().body.onbeforedeactivate=null),h(e).off(n).on("focus"+n,p(t._focus,t)).on(E+n,p(t._click,t)).on(B+n,p(t._keydown,t)).on(k+n,p(t._keyup,t)),i?t.getDoc().body.onbeforedeactivate=p(t._blur,t):h(e).on("blur"+n,p(t._blur,t))},_getIframeStyles:function(){return"<style>html,body{margin:0;padding:2px;}p{margin:0 0 0.5em 0;}</style>"},_getIframeScripts:function(){var e=this.options.domain;return e?'<script type="text/javascript">document.domain="'+e+'";<\/script>':""},value:function(){var e=this,t=[].slice.call(arguments),n=e._inline,i=h(e._original);if(!(0<t.length))return(n?i:h(e.getDoc().body)).html();i=t[0],t=t[1],n?h(e.element).html(i):((n=e.getDoc()).open().write('<head><meta charset="utf-8">'+e._getIframeStyles()+e._getIframeScripts()+'</head><body contenteditable="true" autocorrect="off">'+i+"</body>"),n.close(),e.element=e.getDoc().body,e._initEvents(n),t||e._syncValue(i))},hide:function(){h(this._getWrapper()).hide()},show:function(){h(this._getWrapper()).show()},isVisible:function(){return h(this._getWrapper()).is(":visible")},enabled:function(){var e=[].slice.call(arguments);if(!(0<e.length))return this._enabled;(e=!!e[0])?h(this._getWrapper()).removeAttr(S).removeClass("sui-editor-disabled"):h(this._getWrapper()).attr(S,S).addClass("sui-editor-disabled"),this._enabled=e},destroy:function(){var e,t=this,n=t.options.cls,i=t._original,o=t._eventNS;if(h(t.element).off(o),h(m).off(o),t._toolbar){if(t._commands){for(e=0;e<t._commands.length;e++)t._commands[e].destroy();t._commands=r}h(t._toolbar).off(o).remove(),t._toolbar=r}t._inline?h(i).removeAttr("autocorrect").prop("contentEditable","off").removeClass(A+" "+A+"-inline"+(n?" "+n:"")):(h(t._iframe).remove(),h(i).unwrap(),h(i).show()),t._inline=t._iframe=t._wrapper=t._toolbarMoved=t._savedSelections=r,c.fn.destroy.call(t)}})).defaults=L,d.ui.plugin("Editor",V)}(jQuery,shield,this);